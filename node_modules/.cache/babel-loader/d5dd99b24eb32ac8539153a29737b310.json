{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _utils = require('../../utils');\n\nvar _PreferencesConsumer = require('../basic/PreferencesConsumer');\n\nvar _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ReactiveComponent = function (_Component) {\n  _inherits(ReactiveComponent, _Component);\n\n  function ReactiveComponent(props) {\n    _classCallCheck(this, ReactiveComponent);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.getAggsQuery = function () {\n      if (_this.props.aggregationField) {\n        return (0, _helper.getCompositeAggsQuery)({\n          props: _this.props,\n          showTopHits: true,\n          value: _this.props.value\n        });\n      }\n\n      return {};\n    };\n\n    _this.internalComponent = null;\n    _this.defaultQuery = null;\n\n    _this.setQuery = function (data) {\n      if (!data) {\n        console.error('setQuery accepts the arguments of shape { query, options, value }.');\n        return;\n      }\n\n      var options = data.options,\n          obj = _objectWithoutProperties(data, ['options']);\n\n      if (options) {\n        props.setQueryOptions(props.componentId, _extends({}, options, _this.getAggsQuery()), false);\n      }\n\n      var queryToBeSet = obj.query;\n\n      if (obj && obj.query && obj.query.query) {\n        queryToBeSet = obj.query.query;\n      } // Update customQuery field for RS API\n\n\n      if (obj && obj.query || options) {\n        var customQuery = _extends({}, options);\n\n        if (obj && obj.query) {\n          if (obj.query.id) {\n            customQuery = queryToBeSet;\n          } else {\n            customQuery.query = queryToBeSet;\n          }\n        }\n\n        props.setCustomQuery(props.componentId, customQuery);\n      }\n\n      if (!queryToBeSet && data && data.id) {\n        queryToBeSet = data;\n      }\n\n      _this.props.updateQuery(_extends({}, obj, {\n        query: queryToBeSet,\n        componentId: props.componentId,\n        label: props.filterLabel,\n        showFilter: props.showFilter,\n        URLParams: props.URLParams\n      }));\n    };\n\n    if (props.defaultQuery) {\n      _this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);\n    } // Set custom and default queries in store\n\n\n    (0, _helper.updateCustomQuery)(props.componentId, props, _this.props.selectedValue);\n    (0, _helper.updateDefaultQuery)(props.componentId, props, _this.props.selectedValue);\n\n    if (_this.internalComponent && props.defaultQuery) {\n      _this.defaultQuery = props.defaultQuery(_this.props.selectedValue, _this.props);\n\n      var _ref = _this.defaultQuery || {},\n          query = _ref.query;\n\n      var defaultQueryOptions = _this.defaultQuery ? (0, _helper.getOptionsFromQuery)(_this.defaultQuery) : null;\n\n      if (defaultQueryOptions) {\n        props.setQueryOptions(_this.internalComponent, _extends({}, defaultQueryOptions, _this.getAggsQuery()), false);\n      } else _this.props.setQueryOptions(_this.internalComponent, _this.getAggsQuery());\n\n      var queryToSet = query || null;\n\n      if (!queryToSet && _this.defaultQuery && _this.defaultQuery.id) {\n        queryToSet = _this.defaultQuery;\n      }\n\n      props.updateQuery({\n        componentId: _this.internalComponent,\n        query: queryToSet\n      });\n    }\n\n    return _this;\n  }\n\n  ReactiveComponent.prototype.componentDidMount = function componentDidMount() {\n    var _props = this.props,\n        customQuery = _props.customQuery,\n        selectedValue = _props.selectedValue,\n        value = _props.value,\n        defaultValue = _props.defaultValue,\n        componentId = _props.componentId,\n        filterLabel = _props.filterLabel,\n        showFilter = _props.showFilter,\n        URLParams = _props.URLParams;\n    var initialValue = selectedValue || value || defaultValue || null;\n\n    if (customQuery) {\n      var calcCustomQuery = customQuery(this.props.selectedValue, this.props);\n\n      var _ref2 = calcCustomQuery || {},\n          query = _ref2.query;\n\n      var customQueryOptions = calcCustomQuery ? (0, _helper.getOptionsFromQuery)(calcCustomQuery) : null;\n\n      if (customQueryOptions) {\n        this.props.setQueryOptions(componentId, _extends({}, customQueryOptions, this.getAggsQuery()), false);\n      } else this.props.setQueryOptions(componentId, this.getAggsQuery(), false);\n\n      this.props.updateQuery({\n        componentId: componentId,\n        query: query,\n        value: initialValue,\n        label: filterLabel,\n        showFilter: showFilter,\n        URLParams: URLParams\n      });\n    }\n  };\n\n  ReactiveComponent.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this; // only consider hits and defaultQuery when customQuery is absent\n\n\n    if (this.props.onData) {\n      (0, _helper.checkSomePropChange)(this.props, prevProps, ['hits', 'aggregations', 'promotedResults', 'total', 'time', 'hidden'], function () {\n        _this2.props.onData(_this2.getData());\n      });\n    }\n\n    (0, _helper.checkPropChange)(this.props.selectedValue, prevProps.selectedValue, function () {\n      /*\n      \tReset query when SelectedFilters are clicked. Note: `selectedValue` becomes null.\n      */\n      if (_this2.props.selectedValue === null) {\n        _this2.props.updateQuery({\n          componentId: _this2.props.componentId,\n          query: null,\n          URLParams: _this2.props.URLParams\n        });\n      }\n    });\n\n    if (this.props.defaultQuery && !(0, _helper.isEqual)(this.props.defaultQuery(this.props.selectedValue, this.props), this.defaultQuery)) {\n      this.defaultQuery = this.props.defaultQuery(this.props.selectedValue, this.props);\n\n      var _ref3 = this.defaultQuery || {},\n          query = _ref3.query,\n          queryOptions = _objectWithoutProperties(_ref3, ['query']);\n\n      if (queryOptions) {\n        this.props.setQueryOptions(this.internalComponent, _extends({}, queryOptions, this.getAggsQuery()), false);\n      } else this.props.setQueryOptions(this.internalComponent, this.getAggsQuery(), false);\n\n      (0, _helper.updateDefaultQuery)(this.props.componentId, this.props, this.props.selectedValue);\n      var queryToSet = query || null;\n\n      if (!queryToSet && this.defaultQuery && this.defaultQuery.id) {\n        queryToSet = this.defaultQuery;\n      }\n\n      this.props.updateQuery({\n        componentId: this.internalComponent,\n        query: queryToSet\n      });\n    }\n\n    if (this.props.customQuery && !(0, _helper.isEqual)(this.props.customQuery(this.props.selectedValue, this.props), prevProps.customQuery(this.props.selectedValue, this.props))) {\n      var _ref4 = this.props.customQuery(this.props.selectedValue, this.props) || {},\n          _query = _ref4.query,\n          _queryOptions = _objectWithoutProperties(_ref4, ['query']);\n\n      if (_queryOptions) {\n        this.props.setQueryOptions(this.props.componentId, _extends({}, _queryOptions, this.getAggsQuery()), false);\n      } else this.props.setQueryOptions(this.props.componentId, this.getAggsQuery(), false);\n\n      (0, _helper.updateCustomQuery)(this.props.componentId, this.props, this.props.selectedValue);\n\n      var _queryToSet = _query || null;\n\n      if (!_queryToSet && _queryOptions && _queryOptions.id) {\n        _queryToSet = _queryOptions;\n      }\n\n      this.props.updateQuery({\n        componentId: this.props.componentId,\n        query: _queryToSet,\n        URLParams: this.props.URLParams\n      });\n    }\n  };\n\n  ReactiveComponent.prototype.getData = function getData() {\n    var _props2 = this.props,\n        hits = _props2.hits,\n        aggregations = _props2.aggregations,\n        aggregationData = _props2.aggregationData,\n        promotedResults = _props2.promotedResults,\n        rawData = _props2.rawData;\n    var filteredResults = (0, _helper.parseHits)(hits);\n\n    if (promotedResults.length) {\n      var ids = promotedResults.map(function (item) {\n        return item._id;\n      }).filter(Boolean);\n\n      if (ids) {\n        filteredResults = filteredResults.filter(function (item) {\n          return !ids.includes(item._id);\n        });\n      }\n\n      filteredResults = [].concat(promotedResults, filteredResults);\n    }\n\n    return {\n      data: filteredResults,\n      settings: this.props.settings,\n      promotedData: promotedResults,\n      aggregationData: aggregationData || [],\n      rawData: rawData,\n      aggregations: aggregations,\n      resultStats: this.stats\n    };\n  };\n\n  ReactiveComponent.prototype.getComponent = function getComponent() {\n    var _props3 = this.props,\n        error = _props3.error,\n        isLoading = _props3.isLoading,\n        selectedValue = _props3.selectedValue;\n\n    var data = _extends({\n      error: error,\n      loading: isLoading\n    }, this.getData(), {\n      value: selectedValue,\n      setQuery: this.setQuery\n    });\n\n    return (0, _helper.getComponent)(data, this.props);\n  };\n\n  ReactiveComponent.prototype.render = function render() {\n    if ((0, _helper.hasCustomRenderer)(this.props)) {\n      return this.getComponent();\n    }\n\n    return null;\n  };\n\n  _createClass(ReactiveComponent, [{\n    key: 'stats',\n    get: function get() {\n      return (0, _helper.getResultStats)(this.props);\n    }\n  }]);\n\n  return ReactiveComponent;\n}(_react.Component);\n\nReactiveComponent.defaultProps = {\n  showFilter: true,\n  URLParams: false,\n  size: 20\n};\nReactiveComponent.propTypes = {\n  error: _types2.default.title,\n  setQueryOptions: _types2.default.funcRequired,\n  updateQuery: _types2.default.funcRequired,\n  aggregationField: _types2.default.string,\n  aggregationSize: _types2.default.number,\n  size: _types2.default.number,\n  aggregations: _types2.default.selectedValues,\n  aggregationData: _types2.default.aggregationData,\n  hits: _types2.default.data,\n  rawData: _types2.default.rawData,\n  promotedResults: _types2.default.hits,\n  settings: _types2.default.props,\n  isLoading: _types2.default.bool,\n  selectedValue: _types2.default.selectedValue,\n  setCustomQuery: _types2.default.funcRequired,\n  // component props\n  children: _types2.default.func,\n  componentId: _types2.default.stringRequired,\n  defaultQuery: _types2.default.func,\n  customQuery: _types2.default.func,\n  defaultValue: _types2.default.any,\n  // eslint-disable-line\n  value: _types2.default.any,\n  // eslint-disable-line\n  filterLabel: _types2.default.string,\n  onQueryChange: _types2.default.func,\n  onError: _types2.default.func,\n  react: _types2.default.react,\n  render: _types2.default.func,\n  showFilter: _types2.default.bool,\n  URLParams: _types2.default.bool,\n  onData: _types2.default.func,\n  distinctField: _types2.default.string,\n  distinctFieldConfig: _types2.default.componentObject,\n  config: _types2.default.props,\n  index: _types2.default.string,\n  endpoint: _types2.default.endpoint\n}; // Add componentType for SSR\n\nReactiveComponent.componentType = _constants.componentTypes.reactiveComponent;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    aggregations: state.aggregations[props.componentId] && state.aggregations[props.componentId] || null,\n    aggregationData: state.compositeAggregations[props.componentId] || [],\n    hits: state.hits[props.componentId] && state.hits[props.componentId].hits || [],\n    rawData: state.rawData[props.componentId],\n    selectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n    isLoading: state.isLoading[props.componentId],\n    error: state.error[props.componentId],\n    promotedResults: state.promotedResults[props.componentId] || [],\n    time: state.hits[props.componentId] && state.hits[props.componentId].time || 0,\n    total: state.hits[props.componentId] && state.hits[props.componentId].total,\n    hidden: state.hits[props.componentId] && state.hits[props.componentId].hidden,\n    config: state.config,\n    settings: state.settings[props.componentId]\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    setCustomQuery: function setCustomQuery(component, query) {\n      return dispatch((0, _actions.setCustomQuery)(component, query));\n    },\n    setDefaultQuery: function setDefaultQuery(component, query) {\n      return dispatch((0, _actions.setDefaultQuery)(component, query));\n    },\n    setQueryOptions: function setQueryOptions(component, props, execute) {\n      return dispatch((0, _actions.setQueryOptions)(component, props, execute));\n    },\n    updateQuery: function updateQuery(updateQueryObject) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n  return _react2.default.createElement(ReactiveComponent, _extends({\n    ref: props.myForwardedRef\n  }, props));\n});\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n  return _react2.default.createElement(_PreferencesConsumer2.default, {\n    userProps: props\n  }, function (preferenceProps) {\n    return _react2.default.createElement(_ComponentWrapper2.default, _extends({}, preferenceProps, {\n      // eslint-disable-next-line\n      internalComponent: !!props.defaultQuery,\n      componentType: _constants.componentTypes.reactiveComponent\n    }), function (componentProps) {\n      return _react2.default.createElement(ConnectedComponent, _extends({}, preferenceProps, componentProps, {\n        myForwardedRef: ref\n      }));\n    });\n  });\n});\n\nForwardRefComponent.displayName = 'ReactiveComponent';\nexports.default = ForwardRefComponent;","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_actions","_helper","_types","_types2","_transform","_constants","_utils","_PreferencesConsumer","_PreferencesConsumer2","_ComponentWrapper","_ComponentWrapper2","obj","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","ReactiveComponent","_Component","_this","getAggsQuery","aggregationField","getCompositeAggsQuery","showTopHits","internalComponent","defaultQuery","setQuery","data","console","error","options","setQueryOptions","componentId","queryToBeSet","query","customQuery","id","setCustomQuery","updateQuery","label","filterLabel","showFilter","URLParams","getInternalComponentID","updateCustomQuery","selectedValue","updateDefaultQuery","_ref","defaultQueryOptions","getOptionsFromQuery","queryToSet","componentDidMount","_props","defaultValue","initialValue","calcCustomQuery","_ref2","customQueryOptions","componentDidUpdate","prevProps","_this2","onData","checkSomePropChange","getData","checkPropChange","isEqual","_ref3","queryOptions","_ref4","_query","_queryOptions","_queryToSet","_props2","hits","aggregations","aggregationData","promotedResults","rawData","filteredResults","parseHits","ids","map","item","_id","filter","Boolean","includes","concat","settings","promotedData","resultStats","stats","getComponent","_props3","isLoading","loading","render","hasCustomRenderer","get","getResultStats","Component","defaultProps","size","propTypes","title","funcRequired","string","aggregationSize","number","selectedValues","bool","children","func","stringRequired","any","onQueryChange","onError","react","distinctField","distinctFieldConfig","componentObject","config","index","endpoint","componentType","componentTypes","reactiveComponent","mapStateToProps","state","compositeAggregations","time","total","hidden","mapDispatchtoProps","dispatch","component","setDefaultQuery","execute","updateQueryObject","ConnectedComponent","connect","createElement","ref","myForwardedRef","ForwardRefComponent","forwardRef","userProps","preferenceProps","componentProps","displayName"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/reactivesearch/lib/components/basic/ReactiveComponent.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _utils = require('../../utils');\n\nvar _PreferencesConsumer = require('../basic/PreferencesConsumer');\n\nvar _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ReactiveComponent = function (_Component) {\n\t_inherits(ReactiveComponent, _Component);\n\n\tfunction ReactiveComponent(props) {\n\t\t_classCallCheck(this, ReactiveComponent);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_this.getAggsQuery = function () {\n\t\t\tif (_this.props.aggregationField) {\n\t\t\t\treturn (0, _helper.getCompositeAggsQuery)({\n\t\t\t\t\tprops: _this.props,\n\t\t\t\t\tshowTopHits: true,\n\t\t\t\t\tvalue: _this.props.value\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn {};\n\t\t};\n\n\t\t_this.internalComponent = null;\n\t\t_this.defaultQuery = null;\n\t\t_this.setQuery = function (data) {\n\t\t\tif (!data) {\n\t\t\t\tconsole.error('setQuery accepts the arguments of shape { query, options, value }.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar options = data.options,\n\t\t\t    obj = _objectWithoutProperties(data, ['options']);\n\n\t\t\tif (options) {\n\t\t\t\tprops.setQueryOptions(props.componentId, _extends({}, options, _this.getAggsQuery()), false);\n\t\t\t}\n\n\t\t\tvar queryToBeSet = obj.query;\n\n\t\t\tif (obj && obj.query && obj.query.query) {\n\t\t\t\tqueryToBeSet = obj.query.query;\n\t\t\t}\n\n\t\t\t// Update customQuery field for RS API\n\t\t\tif (obj && obj.query || options) {\n\t\t\t\tvar customQuery = _extends({}, options);\n\t\t\t\tif (obj && obj.query) {\n\t\t\t\t\tif (obj.query.id) {\n\t\t\t\t\t\tcustomQuery = queryToBeSet;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcustomQuery.query = queryToBeSet;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprops.setCustomQuery(props.componentId, customQuery);\n\t\t\t}\n\t\t\tif (!queryToBeSet && data && data.id) {\n\t\t\t\tqueryToBeSet = data;\n\t\t\t}\n\n\t\t\t_this.props.updateQuery(_extends({}, obj, {\n\t\t\t\tquery: queryToBeSet,\n\t\t\t\tcomponentId: props.componentId,\n\t\t\t\tlabel: props.filterLabel,\n\t\t\t\tshowFilter: props.showFilter,\n\t\t\t\tURLParams: props.URLParams\n\t\t\t}));\n\t\t};\n\n\t\tif (props.defaultQuery) {\n\t\t\t_this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);\n\t\t}\n\n\t\t// Set custom and default queries in store\n\t\t(0, _helper.updateCustomQuery)(props.componentId, props, _this.props.selectedValue);\n\t\t(0, _helper.updateDefaultQuery)(props.componentId, props, _this.props.selectedValue);\n\n\t\tif (_this.internalComponent && props.defaultQuery) {\n\t\t\t_this.defaultQuery = props.defaultQuery(_this.props.selectedValue, _this.props);\n\n\t\t\tvar _ref = _this.defaultQuery || {},\n\t\t\t    query = _ref.query;\n\n\t\t\tvar defaultQueryOptions = _this.defaultQuery ? (0, _helper.getOptionsFromQuery)(_this.defaultQuery) : null;\n\n\t\t\tif (defaultQueryOptions) {\n\t\t\t\tprops.setQueryOptions(_this.internalComponent, _extends({}, defaultQueryOptions, _this.getAggsQuery()), false);\n\t\t\t} else _this.props.setQueryOptions(_this.internalComponent, _this.getAggsQuery());\n\n\t\t\tvar queryToSet = query || null;\n\t\t\tif (!queryToSet && _this.defaultQuery && _this.defaultQuery.id) {\n\t\t\t\tqueryToSet = _this.defaultQuery;\n\t\t\t}\n\t\t\tprops.updateQuery({\n\t\t\t\tcomponentId: _this.internalComponent,\n\t\t\t\tquery: queryToSet\n\t\t\t});\n\t\t}\n\t\treturn _this;\n\t}\n\n\tReactiveComponent.prototype.componentDidMount = function componentDidMount() {\n\t\tvar _props = this.props,\n\t\t    customQuery = _props.customQuery,\n\t\t    selectedValue = _props.selectedValue,\n\t\t    value = _props.value,\n\t\t    defaultValue = _props.defaultValue,\n\t\t    componentId = _props.componentId,\n\t\t    filterLabel = _props.filterLabel,\n\t\t    showFilter = _props.showFilter,\n\t\t    URLParams = _props.URLParams;\n\n\t\tvar initialValue = selectedValue || value || defaultValue || null;\n\n\t\tif (customQuery) {\n\t\t\tvar calcCustomQuery = customQuery(this.props.selectedValue, this.props);\n\n\t\t\tvar _ref2 = calcCustomQuery || {},\n\t\t\t    query = _ref2.query;\n\n\t\t\tvar customQueryOptions = calcCustomQuery ? (0, _helper.getOptionsFromQuery)(calcCustomQuery) : null;\n\t\t\tif (customQueryOptions) {\n\t\t\t\tthis.props.setQueryOptions(componentId, _extends({}, customQueryOptions, this.getAggsQuery()), false);\n\t\t\t} else this.props.setQueryOptions(componentId, this.getAggsQuery(), false);\n\t\t\tthis.props.updateQuery({\n\t\t\t\tcomponentId: componentId,\n\t\t\t\tquery: query,\n\t\t\t\tvalue: initialValue,\n\t\t\t\tlabel: filterLabel,\n\t\t\t\tshowFilter: showFilter,\n\t\t\t\tURLParams: URLParams\n\t\t\t});\n\t\t}\n\t};\n\n\tReactiveComponent.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\t// only consider hits and defaultQuery when customQuery is absent\n\t\tif (this.props.onData) {\n\t\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['hits', 'aggregations', 'promotedResults', 'total', 'time', 'hidden'], function () {\n\t\t\t\t_this2.props.onData(_this2.getData());\n\t\t\t});\n\t\t}\n\n\t\t(0, _helper.checkPropChange)(this.props.selectedValue, prevProps.selectedValue, function () {\n\t\t\t/*\n   \tReset query when SelectedFilters are clicked. Note: `selectedValue` becomes null.\n   */\n\n\t\t\tif (_this2.props.selectedValue === null) {\n\t\t\t\t_this2.props.updateQuery({\n\t\t\t\t\tcomponentId: _this2.props.componentId,\n\t\t\t\t\tquery: null,\n\t\t\t\t\tURLParams: _this2.props.URLParams\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tif (this.props.defaultQuery && !(0, _helper.isEqual)(this.props.defaultQuery(this.props.selectedValue, this.props), this.defaultQuery)) {\n\t\t\tthis.defaultQuery = this.props.defaultQuery(this.props.selectedValue, this.props);\n\n\t\t\tvar _ref3 = this.defaultQuery || {},\n\t\t\t    query = _ref3.query,\n\t\t\t    queryOptions = _objectWithoutProperties(_ref3, ['query']);\n\n\t\t\tif (queryOptions) {\n\t\t\t\tthis.props.setQueryOptions(this.internalComponent, _extends({}, queryOptions, this.getAggsQuery()), false);\n\t\t\t} else this.props.setQueryOptions(this.internalComponent, this.getAggsQuery(), false);\n\t\t\t(0, _helper.updateDefaultQuery)(this.props.componentId, this.props, this.props.selectedValue);\n\t\t\tvar queryToSet = query || null;\n\t\t\tif (!queryToSet && this.defaultQuery && this.defaultQuery.id) {\n\t\t\t\tqueryToSet = this.defaultQuery;\n\t\t\t}\n\t\t\tthis.props.updateQuery({\n\t\t\t\tcomponentId: this.internalComponent,\n\t\t\t\tquery: queryToSet\n\t\t\t});\n\t\t}\n\n\t\tif (this.props.customQuery && !(0, _helper.isEqual)(this.props.customQuery(this.props.selectedValue, this.props), prevProps.customQuery(this.props.selectedValue, this.props))) {\n\t\t\tvar _ref4 = this.props.customQuery(this.props.selectedValue, this.props) || {},\n\t\t\t    _query = _ref4.query,\n\t\t\t    _queryOptions = _objectWithoutProperties(_ref4, ['query']);\n\n\t\t\tif (_queryOptions) {\n\t\t\t\tthis.props.setQueryOptions(this.props.componentId, _extends({}, _queryOptions, this.getAggsQuery()), false);\n\t\t\t} else this.props.setQueryOptions(this.props.componentId, this.getAggsQuery(), false);\n\t\t\t(0, _helper.updateCustomQuery)(this.props.componentId, this.props, this.props.selectedValue);\n\t\t\tvar _queryToSet = _query || null;\n\t\t\tif (!_queryToSet && _queryOptions && _queryOptions.id) {\n\t\t\t\t_queryToSet = _queryOptions;\n\t\t\t}\n\t\t\tthis.props.updateQuery({\n\t\t\t\tcomponentId: this.props.componentId,\n\t\t\t\tquery: _queryToSet,\n\t\t\t\tURLParams: this.props.URLParams\n\t\t\t});\n\t\t}\n\t};\n\n\tReactiveComponent.prototype.getData = function getData() {\n\t\tvar _props2 = this.props,\n\t\t    hits = _props2.hits,\n\t\t    aggregations = _props2.aggregations,\n\t\t    aggregationData = _props2.aggregationData,\n\t\t    promotedResults = _props2.promotedResults,\n\t\t    rawData = _props2.rawData;\n\n\t\tvar filteredResults = (0, _helper.parseHits)(hits);\n\t\tif (promotedResults.length) {\n\t\t\tvar ids = promotedResults.map(function (item) {\n\t\t\t\treturn item._id;\n\t\t\t}).filter(Boolean);\n\t\t\tif (ids) {\n\t\t\t\tfilteredResults = filteredResults.filter(function (item) {\n\t\t\t\t\treturn !ids.includes(item._id);\n\t\t\t\t});\n\t\t\t}\n\t\t\tfilteredResults = [].concat(promotedResults, filteredResults);\n\t\t}\n\t\treturn {\n\t\t\tdata: filteredResults,\n\t\t\tsettings: this.props.settings,\n\t\t\tpromotedData: promotedResults,\n\t\t\taggregationData: aggregationData || [],\n\t\t\trawData: rawData,\n\t\t\taggregations: aggregations,\n\t\t\tresultStats: this.stats\n\t\t};\n\t};\n\n\tReactiveComponent.prototype.getComponent = function getComponent() {\n\t\tvar _props3 = this.props,\n\t\t    error = _props3.error,\n\t\t    isLoading = _props3.isLoading,\n\t\t    selectedValue = _props3.selectedValue;\n\n\t\tvar data = _extends({\n\t\t\terror: error,\n\t\t\tloading: isLoading\n\t\t}, this.getData(), {\n\t\t\tvalue: selectedValue,\n\t\t\tsetQuery: this.setQuery\n\t\t});\n\t\treturn (0, _helper.getComponent)(data, this.props);\n\t};\n\n\tReactiveComponent.prototype.render = function render() {\n\t\tif ((0, _helper.hasCustomRenderer)(this.props)) {\n\t\t\treturn this.getComponent();\n\t\t}\n\t\treturn null;\n\t};\n\n\t_createClass(ReactiveComponent, [{\n\t\tkey: 'stats',\n\t\tget: function get() {\n\t\t\treturn (0, _helper.getResultStats)(this.props);\n\t\t}\n\t}]);\n\n\treturn ReactiveComponent;\n}(_react.Component);\n\nReactiveComponent.defaultProps = {\n\tshowFilter: true,\n\tURLParams: false,\n\tsize: 20\n};\n\nReactiveComponent.propTypes = {\n\terror: _types2.default.title,\n\tsetQueryOptions: _types2.default.funcRequired,\n\tupdateQuery: _types2.default.funcRequired,\n\taggregationField: _types2.default.string,\n\taggregationSize: _types2.default.number,\n\tsize: _types2.default.number,\n\taggregations: _types2.default.selectedValues,\n\taggregationData: _types2.default.aggregationData,\n\thits: _types2.default.data,\n\trawData: _types2.default.rawData,\n\tpromotedResults: _types2.default.hits,\n\tsettings: _types2.default.props,\n\tisLoading: _types2.default.bool,\n\tselectedValue: _types2.default.selectedValue,\n\tsetCustomQuery: _types2.default.funcRequired,\n\t// component props\n\tchildren: _types2.default.func,\n\tcomponentId: _types2.default.stringRequired,\n\tdefaultQuery: _types2.default.func,\n\tcustomQuery: _types2.default.func,\n\tdefaultValue: _types2.default.any, // eslint-disable-line\n\tvalue: _types2.default.any, // eslint-disable-line\n\tfilterLabel: _types2.default.string,\n\tonQueryChange: _types2.default.func,\n\tonError: _types2.default.func,\n\treact: _types2.default.react,\n\trender: _types2.default.func,\n\tshowFilter: _types2.default.bool,\n\tURLParams: _types2.default.bool,\n\tonData: _types2.default.func,\n\tdistinctField: _types2.default.string,\n\tdistinctFieldConfig: _types2.default.componentObject,\n\tconfig: _types2.default.props,\n\tindex: _types2.default.string,\n\tendpoint: _types2.default.endpoint\n};\n\n// Add componentType for SSR\nReactiveComponent.componentType = _constants.componentTypes.reactiveComponent;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\treturn {\n\t\taggregations: state.aggregations[props.componentId] && state.aggregations[props.componentId] || null,\n\t\taggregationData: state.compositeAggregations[props.componentId] || [],\n\t\thits: state.hits[props.componentId] && state.hits[props.componentId].hits || [],\n\t\trawData: state.rawData[props.componentId],\n\t\tselectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n\t\tisLoading: state.isLoading[props.componentId],\n\t\terror: state.error[props.componentId],\n\t\tpromotedResults: state.promotedResults[props.componentId] || [],\n\t\ttime: state.hits[props.componentId] && state.hits[props.componentId].time || 0,\n\t\ttotal: state.hits[props.componentId] && state.hits[props.componentId].total,\n\t\thidden: state.hits[props.componentId] && state.hits[props.componentId].hidden,\n\t\tconfig: state.config,\n\t\tsettings: state.settings[props.componentId]\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\tsetCustomQuery: function setCustomQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setCustomQuery)(component, query));\n\t\t},\n\t\tsetDefaultQuery: function setDefaultQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setDefaultQuery)(component, query));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions(component, props, execute) {\n\t\t\treturn dispatch((0, _actions.setQueryOptions)(component, props, execute));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n\treturn _react2.default.createElement(ReactiveComponent, _extends({ ref: props.myForwardedRef }, props));\n});\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n\treturn _react2.default.createElement(\n\t\t_PreferencesConsumer2.default,\n\t\t{ userProps: props },\n\t\tfunction (preferenceProps) {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_ComponentWrapper2.default,\n\t\t\t\t_extends({}, preferenceProps, {\n\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\tinternalComponent: !!props.defaultQuery,\n\t\t\t\t\tcomponentType: _constants.componentTypes.reactiveComponent\n\t\t\t\t}),\n\t\t\t\tfunction (componentProps) {\n\t\t\t\t\treturn _react2.default.createElement(ConnectedComponent, _extends({}, preferenceProps, componentProps, {\n\t\t\t\t\t\tmyForwardedRef: ref\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n});\n\nForwardRefComponent.displayName = 'ReactiveComponent';\nexports.default = ForwardRefComponent;"],"mappings":"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"},"metadata":{},"sourceType":"script"}