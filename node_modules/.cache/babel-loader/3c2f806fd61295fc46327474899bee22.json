{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\amagzum\\\\Downloads\\\\22082021\\\\\\u0420\\u0410\\u0431\\u043E\\u0447\\u0438\\u0439 \\u043F\\u0440\\u043E\\u0442\\u043E\\u0442\\u0438\\u043F\\\\marioplan-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nexport const createOrderAction = Order => {\n  console.log('order from createorderAction', Order);\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    //make async call to database\n    const firestore = getFirestore();\n    const profile = getState().firebase.profile;\n    const authorId = getState().firebase.auth.uid;\n    firestore.collection('orders').add(_objectSpread({}, Order, {\n      authorFirstName: profile.firstName || '',\n      authorLastName: profile.lastName || '',\n      authorId: authorId || '',\n      createdAt: new Date()\n    })).then(() => {\n      dispatch({\n        type: 'CREATE_ORDER',\n        Order\n      });\n    }).catch(err => {\n      dispatch({\n        type: 'CREATE_ORDER_ERROR',\n        err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\amagzum\\Downloads\\22082021\\РАбочий прототип\\marioplan-master\\src\\store\\actions\\createOrderAction.js"],"names":["createOrderAction","Order","console","log","dispatch","getState","getFirebase","getFirestore","firestore","profile","firebase","authorId","auth","uid","collection","add","authorFirstName","firstName","authorLastName","lastName","createdAt","Date","then","type","catch","err"],"mappings":";AAAA,OAAO,MAAMA,iBAAiB,GAAIC,KAAD,IAAW;AAEvCC,EAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA2CF,KAA3C;AAED,SAAO,CAACG,QAAD,EAAWC,QAAX,EAAqB;AAACC,IAAAA,WAAD;AAAcC,IAAAA;AAAd,GAArB,KAAqD;AACxD;AACA,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AACA,UAAME,OAAO,GAAGJ,QAAQ,GAAGK,QAAX,CAAoBD,OAApC;AACA,UAAME,QAAQ,GAAGN,QAAQ,GAAGK,QAAX,CAAoBE,IAApB,CAAyBC,GAA1C;AAEIL,IAAAA,SAAS,CAACM,UAAV,CAAqB,QAArB,EAA+BC,GAA/B,mBACOd,KADP;AAEIe,MAAAA,eAAe,EAAEP,OAAO,CAACQ,SAAR,IAAqB,EAF1C;AAGIC,MAAAA,cAAc,EAAET,OAAO,CAACU,QAAR,IAAmB,EAHvC;AAIIR,MAAAA,QAAQ,EAAEA,QAAQ,IAAI,EAJ1B;AAKIS,MAAAA,SAAS,EAAE,IAAIC,IAAJ;AALf,QAMGC,IANH,CAMQ,MAAM;AACdlB,MAAAA,QAAQ,CAAC;AAACmB,QAAAA,IAAI,EAAE,cAAP;AAAuBtB,QAAAA;AAAvB,OAAD,CAAR;AACH,KARG,EAQDuB,KARC,CAQMC,GAAD,IAAS;AACdrB,MAAAA,QAAQ,CAAC;AAACmB,QAAAA,IAAI,EAAE,oBAAP;AAA6BE,QAAAA;AAA7B,OAAD,CAAR;AACH,KAVG;AAWP,GAjBD;AAkBH,CAtBM","sourcesContent":["export const createOrderAction = (Order) => {\n    \n     console.log('order from createorderAction',Order)\n    \n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        //make async call to database\n        const firestore = getFirestore();\n        const profile = getState().firebase.profile;\n        const authorId = getState().firebase.auth.uid;\n        \n            firestore.collection('orders').add({\n                ...Order,\n                authorFirstName: profile.firstName || '',\n                authorLastName: profile.lastName|| '',\n                authorId: authorId || '',\n                createdAt: new Date()\n            }).then(() => {\n            dispatch({type: 'CREATE_ORDER', Order});\n        }).catch((err) => {\n            dispatch({type: 'CREATE_ORDER_ERROR', err})\n        });\n    }\n};\n\n"]},"metadata":{},"sourceType":"module"}