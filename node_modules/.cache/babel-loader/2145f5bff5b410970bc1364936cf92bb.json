{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseCustomEvents = exports.parseRangeObject = exports.parseFilterValue = exports.rangeObjectComponents = exports.rangeComponents = exports.filterComponents = exports.defaultAnalyticsConfig = undefined;\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((typeof Symbol === 'function' ? Symbol.iterator : '@@iterator') in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _constants = require('../utils/constants');\n\nvar filterComponents = [_constants.componentTypes.numberBox, _constants.componentTypes.tagCloud, _constants.componentTypes.toggleButton, _constants.componentTypes.datePicker, _constants.componentTypes.dateRange, _constants.componentTypes.multiDataList, _constants.componentTypes.multiDropdownList, _constants.componentTypes.multiList, _constants.componentTypes.singleDataList, _constants.componentTypes.singleDropdownList, _constants.componentTypes.singleList, _constants.componentTypes.dynamicRangeSlider, _constants.componentTypes.multiDropdownRange, _constants.componentTypes.multiRange, _constants.componentTypes.rangeSlider, _constants.componentTypes.ratingsFilter, _constants.componentTypes.singleDropdownRange, _constants.componentTypes.singleRange, _constants.componentTypes.treeList];\nvar rangeComponents = [_constants.componentTypes.dateRange, _constants.componentTypes.dynamicRangeSlider, _constants.componentTypes.rangeSlider, _constants.componentTypes.rangeInput, _constants.componentTypes.ratingsFilter];\nvar rangeObjectComponents = [_constants.componentTypes.singleRange, _constants.componentTypes.singleDropdownRange, _constants.componentTypes.multiRange, _constants.componentTypes.multiDropdownRange];\n\nfunction parseRangeObject(filterKey, rangeObject) {\n  return filterKey + '=' + rangeObject.start + '~' + rangeObject.end;\n}\n\nfunction parseFilterValue(componentId, componentValues) {\n  var label = componentValues.label,\n      value = componentValues.value,\n      componentType = componentValues.componentType;\n  var filterKey = label || componentId;\n\n  if (rangeComponents.includes(componentType)) {\n    return filterKey + '=' + value[0] + '~' + value[1];\n  } else if (rangeObjectComponents.includes(componentType)) {\n    if (Array.isArray(value)) {\n      return value.map(function (item) {\n        return parseRangeObject(filterKey, item);\n      }).join();\n    }\n\n    return parseRangeObject(filterKey, value);\n  } else if (Array.isArray(value)) {\n    var isObject = typeof value[0] === 'object' && value[0] !== null;\n    return isObject ? value.map(function (item) {\n      return filterKey + '=' + item.value;\n    }).join() : value.map(function (item) {\n      return filterKey + '=' + item;\n    }).join();\n  }\n\n  return filterKey + '=' + value;\n}\n\nfunction getFilterString(selectedValues) {\n  if (selectedValues && Object.keys(selectedValues).length) {\n    return Object.entries(selectedValues).filter(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          componentValues = _ref2[1];\n\n      return filterComponents.includes(componentValues.componentType) && (componentValues.value && componentValues.value.length || componentValues.value && componentValues.value.start || componentValues.value && componentValues.value.end);\n    }).map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          componentId = _ref4[0],\n          componentValues = _ref4[1];\n\n      return parseFilterValue(componentId, componentValues);\n    }).join();\n  }\n\n  return null;\n}\n\nfunction parseCustomEvents(customEvents) {\n  var finalStr = '';\n  Object.keys(customEvents).forEach(function (key, index) {\n    finalStr += key + '=' + customEvents[key];\n\n    if (index < Object.keys(customEvents).length - 1) {\n      finalStr += ',';\n    }\n  });\n  return finalStr;\n}\n\nvar defaultAnalyticsConfig = exports.defaultAnalyticsConfig = {\n  emptyQuery: true,\n  suggestionAnalytics: true,\n  userId: null,\n  customEvents: null,\n  enableQueryRules: true\n};\nexports.filterComponents = filterComponents;\nexports.rangeComponents = rangeComponents;\nexports.rangeObjectComponents = rangeObjectComponents;\nexports.parseFilterValue = parseFilterValue;\nexports.parseRangeObject = parseRangeObject;\nexports.parseCustomEvents = parseCustomEvents;\nexports.default = getFilterString;","map":{"version":3,"names":["Object","defineProperty","exports","value","parseCustomEvents","parseRangeObject","parseFilterValue","rangeObjectComponents","rangeComponents","filterComponents","defaultAnalyticsConfig","undefined","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","_constants","require","componentTypes","numberBox","tagCloud","toggleButton","datePicker","dateRange","multiDataList","multiDropdownList","multiList","singleDataList","singleDropdownList","singleList","dynamicRangeSlider","multiDropdownRange","multiRange","rangeSlider","ratingsFilter","singleDropdownRange","singleRange","treeList","rangeInput","filterKey","rangeObject","start","end","componentId","componentValues","label","componentType","includes","map","item","join","isObject","getFilterString","selectedValues","keys","entries","filter","_ref","_ref2","_ref3","_ref4","customEvents","finalStr","forEach","key","index","emptyQuery","suggestionAnalytics","userId","enableQueryRules","default"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/reactivecore/lib/utils/analytics.js"],"sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:true});exports.parseCustomEvents=exports.parseRangeObject=exports.parseFilterValue=exports.rangeObjectComponents=exports.rangeComponents=exports.filterComponents=exports.defaultAnalyticsConfig=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[typeof Symbol==='function'?Symbol.iterator:'@@iterator'](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i[\"return\"])_i[\"return\"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if((typeof Symbol==='function'?Symbol.iterator:'@@iterator')in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");}};}();var _constants=require('../utils/constants');var filterComponents=[_constants.componentTypes.numberBox,_constants.componentTypes.tagCloud,_constants.componentTypes.toggleButton,_constants.componentTypes.datePicker,_constants.componentTypes.dateRange,_constants.componentTypes.multiDataList,_constants.componentTypes.multiDropdownList,_constants.componentTypes.multiList,_constants.componentTypes.singleDataList,_constants.componentTypes.singleDropdownList,_constants.componentTypes.singleList,_constants.componentTypes.dynamicRangeSlider,_constants.componentTypes.multiDropdownRange,_constants.componentTypes.multiRange,_constants.componentTypes.rangeSlider,_constants.componentTypes.ratingsFilter,_constants.componentTypes.singleDropdownRange,_constants.componentTypes.singleRange,_constants.componentTypes.treeList];var rangeComponents=[_constants.componentTypes.dateRange,_constants.componentTypes.dynamicRangeSlider,_constants.componentTypes.rangeSlider,_constants.componentTypes.rangeInput,_constants.componentTypes.ratingsFilter];var rangeObjectComponents=[_constants.componentTypes.singleRange,_constants.componentTypes.singleDropdownRange,_constants.componentTypes.multiRange,_constants.componentTypes.multiDropdownRange];function parseRangeObject(filterKey,rangeObject){return filterKey+'='+rangeObject.start+'~'+rangeObject.end;}function parseFilterValue(componentId,componentValues){var label=componentValues.label,value=componentValues.value,componentType=componentValues.componentType;var filterKey=label||componentId;if(rangeComponents.includes(componentType)){return filterKey+'='+value[0]+'~'+value[1];}else if(rangeObjectComponents.includes(componentType)){if(Array.isArray(value)){return value.map(function(item){return parseRangeObject(filterKey,item);}).join();}return parseRangeObject(filterKey,value);}else if(Array.isArray(value)){var isObject=typeof value[0]==='object'&&value[0]!==null;return isObject?value.map(function(item){return filterKey+'='+item.value;}).join():value.map(function(item){return filterKey+'='+item;}).join();}return filterKey+'='+value;}function getFilterString(selectedValues){if(selectedValues&&Object.keys(selectedValues).length){return Object.entries(selectedValues).filter(function(_ref){var _ref2=_slicedToArray(_ref,2),componentValues=_ref2[1];return filterComponents.includes(componentValues.componentType)&&(componentValues.value&&componentValues.value.length||componentValues.value&&componentValues.value.start||componentValues.value&&componentValues.value.end);}).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),componentId=_ref4[0],componentValues=_ref4[1];return parseFilterValue(componentId,componentValues);}).join();}return null;}function parseCustomEvents(customEvents){var finalStr='';Object.keys(customEvents).forEach(function(key,index){finalStr+=key+'='+customEvents[key];if(index<Object.keys(customEvents).length-1){finalStr+=',';}});return finalStr;}var defaultAnalyticsConfig=exports.defaultAnalyticsConfig={emptyQuery:true,suggestionAnalytics:true,userId:null,customEvents:null,enableQueryRules:true};exports.filterComponents=filterComponents;exports.rangeComponents=rangeComponents;exports.rangeObjectComponents=rangeObjectComponents;exports.parseFilterValue=parseFilterValue;exports.parseRangeObject=parseRangeObject;exports.parseCustomEvents=parseCustomEvents;exports.default=getFilterString;"],"mappings":"AAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA8B,YAA9B,EAA2C;EAACC,KAAK,EAAC;AAAP,CAA3C;AAAyDD,OAAO,CAACE,iBAAR,GAA0BF,OAAO,CAACG,gBAAR,GAAyBH,OAAO,CAACI,gBAAR,GAAyBJ,OAAO,CAACK,qBAAR,GAA8BL,OAAO,CAACM,eAAR,GAAwBN,OAAO,CAACO,gBAAR,GAAyBP,OAAO,CAACQ,sBAAR,GAA+BC,SAA1L;;AAAoM,IAAIC,cAAc,GAAC,YAAU;EAAC,SAASC,aAAT,CAAuBC,GAAvB,EAA2BC,CAA3B,EAA6B;IAAC,IAAIC,IAAI,GAAC,EAAT;IAAY,IAAIC,EAAE,GAAC,IAAP;IAAY,IAAIC,EAAE,GAAC,KAAP;IAAa,IAAIC,EAAE,GAACR,SAAP;;IAAiB,IAAG;MAAC,KAAI,IAAIS,EAAE,GAACN,GAAG,CAAC,OAAOO,MAAP,KAAgB,UAAhB,GAA2BA,MAAM,CAACC,QAAlC,GAA2C,YAA5C,CAAH,EAAP,EAAsEC,EAA1E,EAA6E,EAAEN,EAAE,GAAC,CAACM,EAAE,GAACH,EAAE,CAACI,IAAH,EAAJ,EAAeC,IAApB,CAA7E,EAAuGR,EAAE,GAAC,IAA1G,EAA+G;QAACD,IAAI,CAACU,IAAL,CAAUH,EAAE,CAACpB,KAAb;;QAAoB,IAAGY,CAAC,IAAEC,IAAI,CAACW,MAAL,KAAcZ,CAApB,EAAsB;MAAO;IAAC,CAAtK,CAAsK,OAAMa,GAAN,EAAU;MAACV,EAAE,GAAC,IAAH;MAAQC,EAAE,GAACS,GAAH;IAAQ,CAAjM,SAAwM;MAAC,IAAG;QAAC,IAAG,CAACX,EAAD,IAAKG,EAAE,CAAC,QAAD,CAAV,EAAqBA,EAAE,CAAC,QAAD,CAAF;MAAgB,CAAzC,SAAgD;QAAC,IAAGF,EAAH,EAAM,MAAMC,EAAN;MAAU;IAAC;;IAAA,OAAOH,IAAP;EAAa;;EAAA,OAAO,UAASF,GAAT,EAAaC,CAAb,EAAe;IAAC,IAAGc,KAAK,CAACC,OAAN,CAAchB,GAAd,CAAH,EAAsB;MAAC,OAAOA,GAAP;IAAY,CAAnC,MAAwC,IAAG,CAAC,OAAOO,MAAP,KAAgB,UAAhB,GAA2BA,MAAM,CAACC,QAAlC,GAA2C,YAA5C,KAA4DtB,MAAM,CAACc,GAAD,CAArE,EAA2E;MAAC,OAAOD,aAAa,CAACC,GAAD,EAAKC,CAAL,CAApB;IAA6B,CAAzG,MAA6G;MAAC,MAAM,IAAIgB,SAAJ,CAAc,sDAAd,CAAN;IAA6E;EAAC,CAA3P;AAA6P,CAApnB,EAAnB;;AAA0oB,IAAIC,UAAU,GAACC,OAAO,CAAC,oBAAD,CAAtB;;AAA6C,IAAIxB,gBAAgB,GAAC,CAACuB,UAAU,CAACE,cAAX,CAA0BC,SAA3B,EAAqCH,UAAU,CAACE,cAAX,CAA0BE,QAA/D,EAAwEJ,UAAU,CAACE,cAAX,CAA0BG,YAAlG,EAA+GL,UAAU,CAACE,cAAX,CAA0BI,UAAzI,EAAoJN,UAAU,CAACE,cAAX,CAA0BK,SAA9K,EAAwLP,UAAU,CAACE,cAAX,CAA0BM,aAAlN,EAAgOR,UAAU,CAACE,cAAX,CAA0BO,iBAA1P,EAA4QT,UAAU,CAACE,cAAX,CAA0BQ,SAAtS,EAAgTV,UAAU,CAACE,cAAX,CAA0BS,cAA1U,EAAyVX,UAAU,CAACE,cAAX,CAA0BU,kBAAnX,EAAsYZ,UAAU,CAACE,cAAX,CAA0BW,UAAha,EAA2ab,UAAU,CAACE,cAAX,CAA0BY,kBAArc,EAAwdd,UAAU,CAACE,cAAX,CAA0Ba,kBAAlf,EAAqgBf,UAAU,CAACE,cAAX,CAA0Bc,UAA/hB,EAA0iBhB,UAAU,CAACE,cAAX,CAA0Be,WAApkB,EAAglBjB,UAAU,CAACE,cAAX,CAA0BgB,aAA1mB,EAAwnBlB,UAAU,CAACE,cAAX,CAA0BiB,mBAAlpB,EAAsqBnB,UAAU,CAACE,cAAX,CAA0BkB,WAAhsB,EAA4sBpB,UAAU,CAACE,cAAX,CAA0BmB,QAAtuB,CAArB;AAAqwB,IAAI7C,eAAe,GAAC,CAACwB,UAAU,CAACE,cAAX,CAA0BK,SAA3B,EAAqCP,UAAU,CAACE,cAAX,CAA0BY,kBAA/D,EAAkFd,UAAU,CAACE,cAAX,CAA0Be,WAA5G,EAAwHjB,UAAU,CAACE,cAAX,CAA0BoB,UAAlJ,EAA6JtB,UAAU,CAACE,cAAX,CAA0BgB,aAAvL,CAApB;AAA0N,IAAI3C,qBAAqB,GAAC,CAACyB,UAAU,CAACE,cAAX,CAA0BkB,WAA3B,EAAuCpB,UAAU,CAACE,cAAX,CAA0BiB,mBAAjE,EAAqFnB,UAAU,CAACE,cAAX,CAA0Bc,UAA/G,EAA0HhB,UAAU,CAACE,cAAX,CAA0Ba,kBAApJ,CAA1B;;AAAkM,SAAS1C,gBAAT,CAA0BkD,SAA1B,EAAoCC,WAApC,EAAgD;EAAC,OAAOD,SAAS,GAAC,GAAV,GAAcC,WAAW,CAACC,KAA1B,GAAgC,GAAhC,GAAoCD,WAAW,CAACE,GAAvD;AAA4D;;AAAA,SAASpD,gBAAT,CAA0BqD,WAA1B,EAAsCC,eAAtC,EAAsD;EAAC,IAAIC,KAAK,GAACD,eAAe,CAACC,KAA1B;EAAA,IAAgC1D,KAAK,GAACyD,eAAe,CAACzD,KAAtD;EAAA,IAA4D2D,aAAa,GAACF,eAAe,CAACE,aAA1F;EAAwG,IAAIP,SAAS,GAACM,KAAK,IAAEF,WAArB;;EAAiC,IAAGnD,eAAe,CAACuD,QAAhB,CAAyBD,aAAzB,CAAH,EAA2C;IAAC,OAAOP,SAAS,GAAC,GAAV,GAAcpD,KAAK,CAAC,CAAD,CAAnB,GAAuB,GAAvB,GAA2BA,KAAK,CAAC,CAAD,CAAvC;EAA4C,CAAxF,MAA6F,IAAGI,qBAAqB,CAACwD,QAAtB,CAA+BD,aAA/B,CAAH,EAAiD;IAAC,IAAGjC,KAAK,CAACC,OAAN,CAAc3B,KAAd,CAAH,EAAwB;MAAC,OAAOA,KAAK,CAAC6D,GAAN,CAAU,UAASC,IAAT,EAAc;QAAC,OAAO5D,gBAAgB,CAACkD,SAAD,EAAWU,IAAX,CAAvB;MAAyC,CAAlE,EAAoEC,IAApE,EAAP;IAAmF;;IAAA,OAAO7D,gBAAgB,CAACkD,SAAD,EAAWpD,KAAX,CAAvB;EAA0C,CAAxM,MAA6M,IAAG0B,KAAK,CAACC,OAAN,CAAc3B,KAAd,CAAH,EAAwB;IAAC,IAAIgE,QAAQ,GAAC,OAAOhE,KAAK,CAAC,CAAD,CAAZ,KAAkB,QAAlB,IAA4BA,KAAK,CAAC,CAAD,CAAL,KAAW,IAApD;IAAyD,OAAOgE,QAAQ,GAAChE,KAAK,CAAC6D,GAAN,CAAU,UAASC,IAAT,EAAc;MAAC,OAAOV,SAAS,GAAC,GAAV,GAAcU,IAAI,CAAC9D,KAA1B;IAAiC,CAA1D,EAA4D+D,IAA5D,EAAD,GAAoE/D,KAAK,CAAC6D,GAAN,CAAU,UAASC,IAAT,EAAc;MAAC,OAAOV,SAAS,GAAC,GAAV,GAAcU,IAArB;IAA2B,CAApD,EAAsDC,IAAtD,EAAnF;EAAiJ;;EAAA,OAAOX,SAAS,GAAC,GAAV,GAAcpD,KAArB;AAA4B;;AAAA,SAASiE,eAAT,CAAyBC,cAAzB,EAAwC;EAAC,IAAGA,cAAc,IAAErE,MAAM,CAACsE,IAAP,CAAYD,cAAZ,EAA4B1C,MAA/C,EAAsD;IAAC,OAAO3B,MAAM,CAACuE,OAAP,CAAeF,cAAf,EAA+BG,MAA/B,CAAsC,UAASC,IAAT,EAAc;MAAC,IAAIC,KAAK,GAAC9D,cAAc,CAAC6D,IAAD,EAAM,CAAN,CAAxB;MAAA,IAAiCb,eAAe,GAACc,KAAK,CAAC,CAAD,CAAtD;;MAA0D,OAAOjE,gBAAgB,CAACsD,QAAjB,CAA0BH,eAAe,CAACE,aAA1C,MAA2DF,eAAe,CAACzD,KAAhB,IAAuByD,eAAe,CAACzD,KAAhB,CAAsBwB,MAA7C,IAAqDiC,eAAe,CAACzD,KAAhB,IAAuByD,eAAe,CAACzD,KAAhB,CAAsBsD,KAAlG,IAAyGG,eAAe,CAACzD,KAAhB,IAAuByD,eAAe,CAACzD,KAAhB,CAAsBuD,GAAjN,CAAP;IAA8N,CAA7U,EAA+UM,GAA/U,CAAmV,UAASW,KAAT,EAAe;MAAC,IAAIC,KAAK,GAAChE,cAAc,CAAC+D,KAAD,EAAO,CAAP,CAAxB;MAAA,IAAkChB,WAAW,GAACiB,KAAK,CAAC,CAAD,CAAnD;MAAA,IAAuDhB,eAAe,GAACgB,KAAK,CAAC,CAAD,CAA5E;;MAAgF,OAAOtE,gBAAgB,CAACqD,WAAD,EAAaC,eAAb,CAAvB;IAAsD,CAAze,EAA2eM,IAA3e,EAAP;EAA0f;;EAAA,OAAO,IAAP;AAAa;;AAAA,SAAS9D,iBAAT,CAA2ByE,YAA3B,EAAwC;EAAC,IAAIC,QAAQ,GAAC,EAAb;EAAgB9E,MAAM,CAACsE,IAAP,CAAYO,YAAZ,EAA0BE,OAA1B,CAAkC,UAASC,GAAT,EAAaC,KAAb,EAAmB;IAACH,QAAQ,IAAEE,GAAG,GAAC,GAAJ,GAAQH,YAAY,CAACG,GAAD,CAA9B;;IAAoC,IAAGC,KAAK,GAACjF,MAAM,CAACsE,IAAP,CAAYO,YAAZ,EAA0BlD,MAA1B,GAAiC,CAA1C,EAA4C;MAACmD,QAAQ,IAAE,GAAV;IAAe;EAAC,CAAvJ;EAAyJ,OAAOA,QAAP;AAAiB;;AAAA,IAAIpE,sBAAsB,GAACR,OAAO,CAACQ,sBAAR,GAA+B;EAACwE,UAAU,EAAC,IAAZ;EAAiBC,mBAAmB,EAAC,IAArC;EAA0CC,MAAM,EAAC,IAAjD;EAAsDP,YAAY,EAAC,IAAnE;EAAwEQ,gBAAgB,EAAC;AAAzF,CAA1D;AAAyJnF,OAAO,CAACO,gBAAR,GAAyBA,gBAAzB;AAA0CP,OAAO,CAACM,eAAR,GAAwBA,eAAxB;AAAwCN,OAAO,CAACK,qBAAR,GAA8BA,qBAA9B;AAAoDL,OAAO,CAACI,gBAAR,GAAyBA,gBAAzB;AAA0CJ,OAAO,CAACG,gBAAR,GAAyBA,gBAAzB;AAA0CH,OAAO,CAACE,iBAAR,GAA0BA,iBAA1B;AAA4CF,OAAO,CAACoF,OAAR,GAAgBlB,eAAhB"},"metadata":{},"sourceType":"script"}