{"ast":null,"code":"/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\n\nvar getDefaultCSSWhiteList = require(\"cssfilter\").getDefaultWhiteList;\n\nvar _ = require(\"./util\");\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\"autoplay\", \"controls\", \"crossorigin\", \"loop\", \"muted\", \"preload\", \"src\"],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\"autoplay\", \"controls\", \"crossorigin\", \"loop\", \"muted\", \"playsinline\", \"poster\", \"preload\", \"src\", \"height\", \"width\"]\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS();\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\n\nfunction onTag(tag, html, options) {// do nothing\n}\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\n\n\nfunction onIgnoreTag(tag, html, options) {// do nothing\n}\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\n\n\nfunction onTagAttr(tag, name, value) {// do nothing\n}\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\n\n\nfunction onIgnoreTagAttr(tag, name, value) {// do nothing\n}\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\n\n\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\n\n\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _.trim(value);\n    if (value === \"#\") return \"#\";\n\n    if (!(value.substr(0, 7) === \"http://\" || value.substr(0, 8) === \"https://\" || value.substr(0, 7) === \"mailto:\" || value.substr(0, 4) === \"tel:\" || value.substr(0, 11) === \"data:image/\" || value.substr(0, 6) === \"ftp://\" || value.substr(0, 2) === \"./\" || value.substr(0, 3) === \"../\" || value[0] === \"#\" || value[0] === \"/\")) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    } // `url()`\n\n\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  } // escape `<>\"` before returns\n\n\n  value = escapeAttrValue(value);\n  return value;\n} // RegExp list\n\n\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim; // var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\n\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 = /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a):/gi; // var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\n\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 = /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\n\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\n\n\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\n\n\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\" ? String.fromCharCode(parseInt(code.substr(1), 16)) : String.fromCharCode(parseInt(code, 10));\n  });\n}\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\n\n\nfunction escapeDangerHtml5Entities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_COLON, \":\").replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\n\n\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n\n  return _.trim(str2);\n}\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\n\n\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\n\n\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\n\n\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\n\n\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function () {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n  return {\n    onIgnoreTag: function (tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([posStart !== false ? posStart : options.position, end]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function (html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n\n      _.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    }\n  };\n}\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\n\n\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n\n    if (j === -1) {\n      break;\n    }\n\n    lastPos = j + 3;\n  }\n\n  return retHtml;\n}\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\n\n\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n\n    return true;\n  });\n  return chars.join(\"\");\n}\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onTag = onTag;\nexports.onIgnoreTag = onIgnoreTag;\nexports.onTagAttr = onTagAttr;\nexports.onIgnoreTagAttr = onIgnoreTagAttr;\nexports.safeAttrValue = safeAttrValue;\nexports.escapeHtml = escapeHtml;\nexports.escapeQuote = escapeQuote;\nexports.unescapeQuote = unescapeQuote;\nexports.escapeHtmlEntities = escapeHtmlEntities;\nexports.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\nexports.clearNonPrintableCharacter = clearNonPrintableCharacter;\nexports.friendlyAttrValue = friendlyAttrValue;\nexports.escapeAttrValue = escapeAttrValue;\nexports.onIgnoreTagStripAll = onIgnoreTagStripAll;\nexports.StripTagBody = StripTagBody;\nexports.stripCommentTag = stripCommentTag;\nexports.stripBlankChar = stripBlankChar;\nexports.cssFilter = defaultCSSFilter;\nexports.getDefaultCSSWhiteList = getDefaultCSSWhiteList;","map":{"version":3,"names":["FilterCSS","require","getDefaultCSSWhiteList","getDefaultWhiteList","_","a","abbr","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","caption","center","cite","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hr","i","img","ins","li","mark","nav","ol","p","pre","s","section","small","span","sub","summary","sup","strong","strike","table","tbody","td","tfoot","th","thead","tr","tt","u","ul","video","defaultCSSFilter","onTag","tag","html","options","onIgnoreTag","onTagAttr","name","value","onIgnoreTagAttr","escapeHtml","replace","REGEXP_LT","REGEXP_GT","safeAttrValue","cssFilter","friendlyAttrValue","trim","substr","REGEXP_DEFAULT_ON_TAG_ATTR_4","lastIndex","test","REGEXP_DEFAULT_ON_TAG_ATTR_7","REGEXP_DEFAULT_ON_TAG_ATTR_8","process","escapeAttrValue","REGEXP_QUOTE","REGEXP_QUOTE_2","REGEXP_ATTR_VALUE_1","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","escapeQuote","str","unescapeQuote","escapeHtmlEntities","replaceUnicode","String","fromCharCode","parseInt","escapeDangerHtml5Entities","clearNonPrintableCharacter","str2","len","length","charCodeAt","charAt","onIgnoreTagStripAll","StripTagBody","tags","next","isRemoveAllTag","Array","isArray","isRemoveTag","indexOf","removeList","posStart","isClosing","ret","end","position","push","remove","rethtml","lastPos","forEach","pos","slice","stripCommentTag","retHtml","j","stripBlankChar","chars","split","filter","char","c","join","exports","whiteList"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/xss/lib/default.js"],"sourcesContent":["/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar getDefaultCSSWhiteList = require(\"cssfilter\").getDefaultWhiteList;\nvar _ = require(\"./util\");\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"preload\",\n      \"src\",\n    ],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"playsinline\",\n      \"poster\",\n      \"preload\",\n      \"src\",\n      \"height\",\n      \"width\",\n    ],\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value.substr(0, 11) === \"data:image/\" ||\n        value.substr(0, 6) === \"ftp://\" ||\n        value.substr(0, 2) === \"./\" ||\n        value.substr(0, 3) === \"../\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 =\n  /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a):/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 =\n  /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function () {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function (tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end,\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function (html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    },\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n    if (j === -1) {\n      break;\n    }\n    lastPos = j + 3;\n  }\n  return retHtml;\n}\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onTag = onTag;\nexports.onIgnoreTag = onIgnoreTag;\nexports.onTagAttr = onTagAttr;\nexports.onIgnoreTagAttr = onIgnoreTagAttr;\nexports.safeAttrValue = safeAttrValue;\nexports.escapeHtml = escapeHtml;\nexports.escapeQuote = escapeQuote;\nexports.unescapeQuote = unescapeQuote;\nexports.escapeHtmlEntities = escapeHtmlEntities;\nexports.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\nexports.clearNonPrintableCharacter = clearNonPrintableCharacter;\nexports.friendlyAttrValue = friendlyAttrValue;\nexports.escapeAttrValue = escapeAttrValue;\nexports.onIgnoreTagStripAll = onIgnoreTagStripAll;\nexports.StripTagBody = StripTagBody;\nexports.stripCommentTag = stripCommentTag;\nexports.stripBlankChar = stripBlankChar;\nexports.cssFilter = defaultCSSFilter;\nexports.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}