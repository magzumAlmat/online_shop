{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _Base = require('../../styles/Base');\n\nvar _Base2 = _interopRequireDefault(_Base);\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar URLParamsProvider = function (_Component) {\n  _inherits(URLParamsProvider, _Component);\n\n  function URLParamsProvider() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, URLParamsProvider);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.init = function () {\n      _this.searchString = _this.props.getSearchParams ? _this.props.getSearchParams() : window.location.search;\n      _this.params = new URLSearchParams(_this.searchString);\n      _this.currentSelectedState = _this.props.selectedValues || {};\n    }, _this.checkForURLParamsChange = function () {\n      // we only compare the search string (window.location.search by default)\n      // to see if the route has changed (or) not. This handles the following usecase:\n      // search on homepage -> route changes -> search results page with same search query\n      if (window) {\n        var searchString = _this.props.getSearchParams ? _this.props.getSearchParams() : window.location.search;\n\n        if (searchString !== _this.searchString) {\n          var event = void 0;\n\n          if (typeof Event === 'function') {\n            event = new Event('popstate');\n          } else {\n            // Correctly fire popstate event on IE11 to prevent app crash.\n            event = document.createEvent('Event');\n            event.initEvent('popstate', true, true);\n          }\n\n          window.dispatchEvent(event);\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  URLParamsProvider.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.init();\n\n    window.onpopstate = function () {\n      _this2.init();\n\n      var activeComponents = Array.from(_this2.params.keys()); // remove inactive components from selectedValues\n\n      Object.keys(_this2.currentSelectedState).filter(function (item) {\n        return !activeComponents.includes(item);\n      }).forEach(function (component) {\n        _this2.props.setValue(component, null, undefined, undefined, undefined, undefined, undefined, undefined, 'URL');\n      }); // update active components in selectedValues\n\n      Array.from(_this2.params.entries()).forEach(function (item) {\n        try {\n          var component = item[0],\n              value = item[1];\n\n          var _ref = _this2.props.selectedValues[component] || {\n            label: component\n          },\n              label = _ref.label,\n              showFilter = _ref.showFilter,\n              URLParams = _ref.URLParams;\n\n          _this2.props.setValue(component, JSON.parse(value), label, showFilter, URLParams, undefined, undefined, undefined, 'URL');\n        } catch (e) {// Do not set value if JSON parsing fails.\n        }\n      });\n    };\n  };\n\n  URLParamsProvider.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this3 = this; // this ensures the url params change are handled\n    // when the url changes, which enables us to\n    // make `onpopstate` event handler work with history.pushState updates\n\n\n    this.checkForURLParamsChange();\n    var shouldPushHistory = false;\n    this.currentSelectedState = this.props.selectedValues;\n\n    if (!(0, _helper.isEqual)(this.props.selectedValues, prevProps.selectedValues)) {\n      this.searchString = this.props.getSearchParams ? this.props.getSearchParams() : window.location.search;\n      this.params = new URLSearchParams(this.searchString);\n      var currentComponents = Object.keys(this.props.selectedValues);\n      var urlComponents = Array.from(this.params.keys());\n      currentComponents.filter(function (component) {\n        return _this3.props.selectedValues[component].URLParams;\n      }).forEach(function (component) {\n        // prevents empty history pollution on initial load\n        if (_this3.hasValidValue(_this3.props.selectedValues[component]) || _this3.hasValidValue(prevProps.selectedValues[component])) {\n          var selectedValues = _this3.props.selectedValues[component];\n          var prevValues = prevProps.selectedValues[component];\n\n          if (selectedValues.URLParams) {\n            if (selectedValues.category) {\n              var shouldUpdateHistory = _this3.setURL(component, _this3.getValue({\n                category: selectedValues.category,\n                value: selectedValues.value\n              }));\n\n              if (shouldUpdateHistory) {\n                shouldPushHistory = true;\n              }\n            } else {\n              var currentValue = _this3.getValue(selectedValues.value);\n\n              var prevValue = prevValues && _this3.getValue(prevValues.value);\n              /*\n              \tPush to history only if values are different because setting url on\n              \tsame value will lead to 2 same entries in URL history which would cause\n              \trepeatation on pressing back button.\n              */\n\n\n              if (prevValue !== currentValue) {\n                var _shouldUpdateHistory = _this3.setURL(component, _this3.getValue(selectedValues.value));\n\n                if (_shouldUpdateHistory) {\n                  shouldPushHistory = true;\n                }\n              }\n            }\n          } else {\n            _this3.params.delete(component);\n\n            shouldPushHistory = true;\n          }\n        } else if (!_this3.hasValidValue(_this3.props.selectedValues[component]) && urlComponents.includes(component)) {\n          // doesn't have a valid value, but the url has a (stale) valid value set\n          _this3.params.delete(component);\n\n          shouldPushHistory = true;\n        }\n      }); // remove unmounted components\n\n      Object.keys(this.props.selectedValues).filter(function (component) {\n        return !currentComponents.includes(component);\n      }).forEach(function (component) {\n        _this3.params.delete(component);\n\n        shouldPushHistory = true;\n      });\n\n      if (!currentComponents.length) {\n        var searchComponents = this.props.searchComponents;\n        Array.from(this.params.keys()).forEach(function (item) {\n          if (searchComponents && searchComponents.includes(item)) {\n            _this3.params.delete(item);\n\n            shouldPushHistory = true;\n          }\n        });\n      }\n\n      if (shouldPushHistory) {\n        this.pushToHistory();\n      }\n    }\n\n    if (!(0, _helper.isEqual)(this.props.headers, prevProps.headers)) {\n      this.props.setHeaders(this.props.headers);\n    }\n  };\n\n  URLParamsProvider.prototype.hasValidValue = function hasValidValue(component) {\n    if (!component) return false;\n    if (Array.isArray(component.value)) return !!component.value.length;\n    return !!component.value;\n  };\n\n  URLParamsProvider.prototype.getValue = function getValue(value) {\n    var _this4 = this;\n\n    if (Array.isArray(value) && value.length) {\n      return value.map(function (item) {\n        return _this4.getValue(item);\n      });\n    } else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n      // TODO: support for NestedList\n      if (value.location) return value;\n      if (value.category) return value;\n\n      if (Object.prototype.hasOwnProperty.call(value, 'mainLabel') || Object.prototype.hasOwnProperty.call(value, 'secondaryLabel')) {\n        return value;\n      }\n\n      return value.label || value.key || null;\n    }\n\n    return value;\n  };\n\n  URLParamsProvider.prototype.setURL = function setURL(component, value) {\n    if (!value || typeof value === 'string' && value.trim() === '' || Array.isArray(value) && value.length === 0) {\n      this.params.delete(component);\n      return true;\n    }\n\n    var data = JSON.stringify(value);\n\n    if (data !== this.params.get(component)) {\n      this.params.set(component, data);\n      return true;\n    }\n\n    return false;\n  };\n\n  URLParamsProvider.prototype.pushToHistory = function pushToHistory() {\n    var paramsSting = this.params.toString() ? '?' + this.params.toString() : '';\n    var base = window.location.href.split('?')[0];\n    var newURL = '' + base + paramsSting;\n\n    if (this.props.setSearchParams) {\n      this.props.setSearchParams(newURL);\n    } else if (window.history.pushState) {\n      window.history.pushState({\n        path: newURL\n      }, '', newURL);\n    }\n\n    this.init();\n  };\n\n  URLParamsProvider.prototype.render = function render() {\n    return _react2.default.createElement(_Base2.default, {\n      as: this.props.as,\n      style: this.props.style,\n      className: this.props.className\n    }, this.props.children);\n  };\n\n  return URLParamsProvider;\n}(_react.Component);\n\nURLParamsProvider.propTypes = {\n  setHeaders: _types2.default.func,\n  setValue: _types2.default.func,\n  selectedValues: _types2.default.selectedValues,\n  searchComponents: _propTypes2.default.arrayOf(String),\n  // component props\n  children: _types2.default.children,\n  as: _types2.default.string,\n  headers: _types2.default.headers,\n  style: _types2.default.style,\n  className: _types2.default.string,\n  getSearchParams: _types2.default.func,\n  setSearchParams: _types2.default.func\n};\nURLParamsProvider.defaultProps = {\n  style: {},\n  className: null,\n  as: 'div'\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    selectedValues: state.selectedValues,\n    searchComponents: state.components\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    setHeaders: function setHeaders(headers) {\n      return dispatch((0, _actions.setHeaders)(headers));\n    },\n    setValue: function setValue(component, value, label, showFilter, URLParams, componentType, category, meta, updateSource) {\n      return dispatch((0, _actions.setValue)(component, value, label, showFilter, URLParams, componentType, category, meta, updateSource));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n  return _react2.default.createElement(URLParamsProvider, _extends({\n    ref: props.myForwardedRef\n  }, props));\n}); // eslint-disable-next-line\n\nexports.default = _react2.default.forwardRef(function (props, ref) {\n  return _react2.default.createElement(ConnectedComponent, _extends({}, props, {\n    myForwardedRef: ref\n  }));\n});","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_typeof","Symbol","iterator","obj","constructor","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_actions","_types","_types2","_helper","_Base","_Base2","_utils","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","value","enumerable","writable","configurable","setPrototypeOf","__proto__","URLParamsProvider","_Component","_temp","_this","_ret","_len","args","Array","_key","apply","concat","init","searchString","props","getSearchParams","window","location","search","params","URLSearchParams","currentSelectedState","selectedValues","checkForURLParamsChange","event","Event","document","createEvent","initEvent","dispatchEvent","componentDidMount","_this2","onpopstate","activeComponents","from","keys","filter","item","includes","forEach","component","setValue","undefined","entries","_ref","label","showFilter","URLParams","JSON","parse","e","componentDidUpdate","prevProps","_this3","shouldPushHistory","isEqual","currentComponents","urlComponents","hasValidValue","prevValues","category","shouldUpdateHistory","setURL","getValue","currentValue","prevValue","_shouldUpdateHistory","delete","searchComponents","pushToHistory","headers","setHeaders","isArray","_this4","map","trim","data","stringify","get","set","paramsSting","toString","base","href","split","newURL","setSearchParams","history","pushState","path","render","createElement","as","style","className","children","Component","propTypes","func","arrayOf","String","string","defaultProps","mapStateToProps","state","components","mapDispatchtoProps","dispatch","componentType","meta","updateSource","ConnectedComponent","connect","ref","myForwardedRef","forwardRef"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/reactivesearch/lib/components/basic/URLParamsProvider.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _Base = require('../../styles/Base');\n\nvar _Base2 = _interopRequireDefault(_Base);\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar URLParamsProvider = function (_Component) {\n\t_inherits(URLParamsProvider, _Component);\n\n\tfunction URLParamsProvider() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, URLParamsProvider);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.init = function () {\n\t\t\t_this.searchString = _this.props.getSearchParams ? _this.props.getSearchParams() : window.location.search;\n\t\t\t_this.params = new URLSearchParams(_this.searchString);\n\t\t\t_this.currentSelectedState = _this.props.selectedValues || {};\n\t\t}, _this.checkForURLParamsChange = function () {\n\t\t\t// we only compare the search string (window.location.search by default)\n\t\t\t// to see if the route has changed (or) not. This handles the following usecase:\n\t\t\t// search on homepage -> route changes -> search results page with same search query\n\t\t\tif (window) {\n\t\t\t\tvar searchString = _this.props.getSearchParams ? _this.props.getSearchParams() : window.location.search;\n\n\t\t\t\tif (searchString !== _this.searchString) {\n\t\t\t\t\tvar event = void 0;\n\t\t\t\t\tif (typeof Event === 'function') {\n\t\t\t\t\t\tevent = new Event('popstate');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Correctly fire popstate event on IE11 to prevent app crash.\n\t\t\t\t\t\tevent = document.createEvent('Event');\n\t\t\t\t\t\tevent.initEvent('popstate', true, true);\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.dispatchEvent(event);\n\t\t\t\t}\n\t\t\t}\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tURLParamsProvider.prototype.componentDidMount = function componentDidMount() {\n\t\tvar _this2 = this;\n\n\t\tthis.init();\n\n\t\twindow.onpopstate = function () {\n\t\t\t_this2.init();\n\t\t\tvar activeComponents = Array.from(_this2.params.keys());\n\n\t\t\t// remove inactive components from selectedValues\n\t\t\tObject.keys(_this2.currentSelectedState).filter(function (item) {\n\t\t\t\treturn !activeComponents.includes(item);\n\t\t\t}).forEach(function (component) {\n\t\t\t\t_this2.props.setValue(component, null, undefined, undefined, undefined, undefined, undefined, undefined, 'URL');\n\t\t\t});\n\n\t\t\t// update active components in selectedValues\n\t\t\tArray.from(_this2.params.entries()).forEach(function (item) {\n\t\t\t\ttry {\n\t\t\t\t\tvar component = item[0],\n\t\t\t\t\t    value = item[1];\n\n\t\t\t\t\tvar _ref = _this2.props.selectedValues[component] || { label: component },\n\t\t\t\t\t    label = _ref.label,\n\t\t\t\t\t    showFilter = _ref.showFilter,\n\t\t\t\t\t    URLParams = _ref.URLParams;\n\n\t\t\t\t\t_this2.props.setValue(component, JSON.parse(value), label, showFilter, URLParams, undefined, undefined, undefined, 'URL');\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Do not set value if JSON parsing fails.\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t};\n\n\tURLParamsProvider.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this3 = this;\n\n\t\t// this ensures the url params change are handled\n\t\t// when the url changes, which enables us to\n\t\t// make `onpopstate` event handler work with history.pushState updates\n\t\tthis.checkForURLParamsChange();\n\t\tvar shouldPushHistory = false;\n\t\tthis.currentSelectedState = this.props.selectedValues;\n\t\tif (!(0, _helper.isEqual)(this.props.selectedValues, prevProps.selectedValues)) {\n\t\t\tthis.searchString = this.props.getSearchParams ? this.props.getSearchParams() : window.location.search;\n\t\t\tthis.params = new URLSearchParams(this.searchString);\n\t\t\tvar currentComponents = Object.keys(this.props.selectedValues);\n\t\t\tvar urlComponents = Array.from(this.params.keys());\n\n\t\t\tcurrentComponents.filter(function (component) {\n\t\t\t\treturn _this3.props.selectedValues[component].URLParams;\n\t\t\t}).forEach(function (component) {\n\t\t\t\t// prevents empty history pollution on initial load\n\t\t\t\tif (_this3.hasValidValue(_this3.props.selectedValues[component]) || _this3.hasValidValue(prevProps.selectedValues[component])) {\n\t\t\t\t\tvar selectedValues = _this3.props.selectedValues[component];\n\t\t\t\t\tvar prevValues = prevProps.selectedValues[component];\n\t\t\t\t\tif (selectedValues.URLParams) {\n\t\t\t\t\t\tif (selectedValues.category) {\n\t\t\t\t\t\t\tvar shouldUpdateHistory = _this3.setURL(component, _this3.getValue({\n\t\t\t\t\t\t\t\tcategory: selectedValues.category,\n\t\t\t\t\t\t\t\tvalue: selectedValues.value\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\tif (shouldUpdateHistory) {\n\t\t\t\t\t\t\t\tshouldPushHistory = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar currentValue = _this3.getValue(selectedValues.value);\n\t\t\t\t\t\t\tvar prevValue = prevValues && _this3.getValue(prevValues.value);\n\n\t\t\t\t\t\t\t/*\n       \tPush to history only if values are different because setting url on\n       \tsame value will lead to 2 same entries in URL history which would cause\n       \trepeatation on pressing back button.\n       */\n\n\t\t\t\t\t\t\tif (prevValue !== currentValue) {\n\t\t\t\t\t\t\t\tvar _shouldUpdateHistory = _this3.setURL(component, _this3.getValue(selectedValues.value));\n\t\t\t\t\t\t\t\tif (_shouldUpdateHistory) {\n\t\t\t\t\t\t\t\t\tshouldPushHistory = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this3.params.delete(component);\n\t\t\t\t\t\tshouldPushHistory = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (!_this3.hasValidValue(_this3.props.selectedValues[component]) && urlComponents.includes(component)) {\n\t\t\t\t\t// doesn't have a valid value, but the url has a (stale) valid value set\n\t\t\t\t\t_this3.params.delete(component);\n\t\t\t\t\tshouldPushHistory = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// remove unmounted components\n\t\t\tObject.keys(this.props.selectedValues).filter(function (component) {\n\t\t\t\treturn !currentComponents.includes(component);\n\t\t\t}).forEach(function (component) {\n\t\t\t\t_this3.params.delete(component);\n\t\t\t\tshouldPushHistory = true;\n\t\t\t});\n\n\t\t\tif (!currentComponents.length) {\n\t\t\t\tvar searchComponents = this.props.searchComponents;\n\n\t\t\t\tArray.from(this.params.keys()).forEach(function (item) {\n\t\t\t\t\tif (searchComponents && searchComponents.includes(item)) {\n\t\t\t\t\t\t_this3.params.delete(item);\n\t\t\t\t\t\tshouldPushHistory = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (shouldPushHistory) {\n\t\t\t\tthis.pushToHistory();\n\t\t\t}\n\t\t}\n\n\t\tif (!(0, _helper.isEqual)(this.props.headers, prevProps.headers)) {\n\t\t\tthis.props.setHeaders(this.props.headers);\n\t\t}\n\t};\n\n\tURLParamsProvider.prototype.hasValidValue = function hasValidValue(component) {\n\t\tif (!component) return false;\n\t\tif (Array.isArray(component.value)) return !!component.value.length;\n\t\treturn !!component.value;\n\t};\n\n\tURLParamsProvider.prototype.getValue = function getValue(value) {\n\t\tvar _this4 = this;\n\n\t\tif (Array.isArray(value) && value.length) {\n\t\t\treturn value.map(function (item) {\n\t\t\t\treturn _this4.getValue(item);\n\t\t\t});\n\t\t} else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t\t\t// TODO: support for NestedList\n\t\t\tif (value.location) return value;\n\t\t\tif (value.category) return value;\n\t\t\tif (Object.prototype.hasOwnProperty.call(value, 'mainLabel') || Object.prototype.hasOwnProperty.call(value, 'secondaryLabel')) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\treturn value.label || value.key || null;\n\t\t}\n\t\treturn value;\n\t};\n\n\tURLParamsProvider.prototype.setURL = function setURL(component, value) {\n\t\tif (!value || typeof value === 'string' && value.trim() === '' || Array.isArray(value) && value.length === 0) {\n\t\t\tthis.params.delete(component);\n\t\t\treturn true;\n\t\t}\n\t\tvar data = JSON.stringify(value);\n\t\tif (data !== this.params.get(component)) {\n\t\t\tthis.params.set(component, data);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\tURLParamsProvider.prototype.pushToHistory = function pushToHistory() {\n\t\tvar paramsSting = this.params.toString() ? '?' + this.params.toString() : '';\n\t\tvar base = window.location.href.split('?')[0];\n\t\tvar newURL = '' + base + paramsSting;\n\n\t\tif (this.props.setSearchParams) {\n\t\t\tthis.props.setSearchParams(newURL);\n\t\t} else if (window.history.pushState) {\n\t\t\twindow.history.pushState({ path: newURL }, '', newURL);\n\t\t}\n\t\tthis.init();\n\t};\n\n\tURLParamsProvider.prototype.render = function render() {\n\t\treturn _react2.default.createElement(\n\t\t\t_Base2.default,\n\t\t\t{ as: this.props.as, style: this.props.style, className: this.props.className },\n\t\t\tthis.props.children\n\t\t);\n\t};\n\n\treturn URLParamsProvider;\n}(_react.Component);\n\nURLParamsProvider.propTypes = {\n\tsetHeaders: _types2.default.func,\n\tsetValue: _types2.default.func,\n\tselectedValues: _types2.default.selectedValues,\n\tsearchComponents: _propTypes2.default.arrayOf(String),\n\t// component props\n\tchildren: _types2.default.children,\n\tas: _types2.default.string,\n\theaders: _types2.default.headers,\n\tstyle: _types2.default.style,\n\tclassName: _types2.default.string,\n\tgetSearchParams: _types2.default.func,\n\tsetSearchParams: _types2.default.func\n};\n\nURLParamsProvider.defaultProps = {\n\tstyle: {},\n\tclassName: null,\n\tas: 'div'\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n\treturn {\n\t\tselectedValues: state.selectedValues,\n\t\tsearchComponents: state.components\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\tsetHeaders: function setHeaders(headers) {\n\t\t\treturn dispatch((0, _actions.setHeaders)(headers));\n\t\t},\n\t\tsetValue: function setValue(component, value, label, showFilter, URLParams, componentType, category, meta, updateSource) {\n\t\t\treturn dispatch((0, _actions.setValue)(component, value, label, showFilter, URLParams, componentType, category, meta, updateSource));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n\treturn _react2.default.createElement(URLParamsProvider, _extends({ ref: props.myForwardedRef }, props));\n});\n\n// eslint-disable-next-line\nexports.default = _react2.default.forwardRef(function (props, ref) {\n\treturn _react2.default.createElement(ConnectedComponent, _extends({}, props, { myForwardedRef: ref }));\n});"],"mappings":"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"},"metadata":{},"sourceType":"script"}