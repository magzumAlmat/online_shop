{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _SliderConstants = require(\"./constants/SliderConstants\");\n\nvar SliderConstants = _interopRequireWildcard(_SliderConstants);\n\nvar _linear = require(\"./algorithms/linear\");\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _helper = require(\"./utils/helper\");\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* eslint-disable max-classes-per-file */\n\n/* globals document */\n\n/* eslint react/no-array-index-key: 1 */\n\n\nfunction getClassName(props) {\n  var orientation = props.orientation === \"vertical\" ? \"rheostat-vertical\" : \"rheostat-horizontal\";\n  return [\"rheostat\", orientation].concat(props.className.split(\" \")).join(\" \");\n}\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar PropTypeArrOfNumber = _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].number);\n\nvar PropTypeReactComponent = _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].func, _propTypes2[\"default\"].string]);\n\nfunction getHandleFor(ev) {\n  return Number(ev.currentTarget.getAttribute(\"data-handle-key\"));\n}\n\nfunction killEvent(ev) {\n  ev.stopPropagation();\n  ev.preventDefault();\n}\n\nvar Button = function (_React$Component) {\n  _inherits(Button, _React$Component);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: \"render\",\n    value: function () {\n      function render() {\n        return _react2[\"default\"].createElement(\"button\", _extends({}, this.props, {\n          type: \"button\"\n        }));\n      }\n\n      return render;\n    }()\n  }]);\n\n  return Button;\n}(_react2[\"default\"].Component);\n\nvar propTypes = {\n  // the algorithm to use\n  algorithm: _propTypes2[\"default\"].shape({\n    getValue: _propTypes2[\"default\"].func,\n    getPosition: _propTypes2[\"default\"].func\n  }),\n  // any children you pass in\n  children: _propTypes2[\"default\"].any,\n  // standard class name you'd like to apply to the root element\n  className: _propTypes2[\"default\"].string,\n  // prevent the slider from moving when clicked\n  disabled: _propTypes2[\"default\"].bool,\n  // a custom handle you can pass in\n  handle: PropTypeReactComponent,\n  // the maximum possible value\n  max: _propTypes2[\"default\"].number,\n  // the minimum possible value\n  min: _propTypes2[\"default\"].number,\n  // called on click\n  onClick: _propTypes2[\"default\"].func,\n  // called whenever the user is done changing values on the slider\n  onChange: _propTypes2[\"default\"].func,\n  // called on key press\n  onKeyPress: _propTypes2[\"default\"].func,\n  // called when you finish dragging a handle\n  onSliderDragEnd: _propTypes2[\"default\"].func,\n  // called every time the slider is dragged and the value changes\n  onSliderDragMove: _propTypes2[\"default\"].func,\n  // called when you start dragging a handle\n  onSliderDragStart: _propTypes2[\"default\"].func,\n  // called whenever the user is actively changing the values on the slider\n  // (dragging, clicked, keypress)\n  onValuesUpdated: _propTypes2[\"default\"].func,\n  // the orientation\n  orientation: _propTypes2[\"default\"].oneOf([\"horizontal\", \"vertical\"]),\n  // a component for rendering the pits\n  pitComponent: PropTypeReactComponent,\n  // the points that pits are rendered on\n  pitPoints: PropTypeArrOfNumber,\n  // a custom progress bar you can pass in\n  progressBar: PropTypeReactComponent,\n  // should we snap?\n  snap: _propTypes2[\"default\"].bool,\n  // the points we should snap to\n  snapPoints: PropTypeArrOfNumber,\n  // the values\n  values: PropTypeArrOfNumber\n};\nvar defaultProps = {\n  algorithm: _linear2[\"default\"],\n  className: \"\",\n  disabled: false,\n  handle: Button,\n  max: SliderConstants.PERCENT_FULL,\n  min: SliderConstants.PERCENT_EMPTY,\n  orientation: \"horizontal\",\n  pitPoints: [],\n  progressBar: \"div\",\n  snap: false,\n  snapPoints: [],\n  values: [SliderConstants.PERCENT_EMPTY]\n};\n\nvar Rheostat = function (_React$Component2) {\n  _inherits(Rheostat, _React$Component2);\n\n  function Rheostat(props) {\n    _classCallCheck(this, Rheostat);\n\n    var _this2 = _possibleConstructorReturn(this, (Rheostat.__proto__ || Object.getPrototypeOf(Rheostat)).call(this, props));\n\n    console.log(\"24 Jan, 12 :37AM\");\n    var _this2$props = _this2.props,\n        max = _this2$props.max,\n        min = _this2$props.min,\n        values = _this2$props.values;\n    _this2.state = {\n      className: getClassName(_this2.props),\n      handlePos: values.map(function (value) {\n        return _this2.props.algorithm.getPosition(value, min, max);\n      }),\n      handleDimensions: 0,\n      mousePos: null,\n      sliderBox: {},\n      slidingIndex: null,\n      values: values\n    };\n    _this2.getPublicState = _this2.getPublicState.bind(_this2);\n    _this2.getSliderBoundingBox = _this2.getSliderBoundingBox.bind(_this2);\n    _this2.getProgressStyle = _this2.getProgressStyle.bind(_this2);\n    _this2.getMinValue = _this2.getMinValue.bind(_this2);\n    _this2.getMaxValue = _this2.getMaxValue.bind(_this2);\n    _this2.getHandleDimensions = _this2.getHandleDimensions.bind(_this2);\n    _this2.getClosestSnapPoint = _this2.getClosestSnapPoint.bind(_this2);\n    _this2.getSnapPosition = _this2.getSnapPosition.bind(_this2);\n    _this2.getNextPositionForKey = _this2.getNextPositionForKey.bind(_this2);\n    _this2.getNextState = _this2.getNextState.bind(_this2);\n    _this2.handleClick = _this2.handleClick.bind(_this2);\n    _this2.getClosestHandle = _this2.getClosestHandle.bind(_this2);\n    _this2.setStartSlide = _this2.setStartSlide.bind(_this2);\n    _this2.startMouseSlide = _this2.startMouseSlide.bind(_this2);\n    _this2.startTouchSlide = _this2.startTouchSlide.bind(_this2);\n    _this2.handleMouseSlide = _this2.handleMouseSlide.bind(_this2);\n    _this2.handleTouchSlide = _this2.handleTouchSlide.bind(_this2);\n    _this2.handleSlide = _this2.handleSlide.bind(_this2);\n    _this2.endSlide = _this2.endSlide.bind(_this2);\n    _this2.handleKeydown = _this2.handleKeydown.bind(_this2);\n    _this2.validatePosition = _this2.validatePosition.bind(_this2);\n    _this2.validateValues = _this2.validateValues.bind(_this2);\n    _this2.canMove = _this2.canMove.bind(_this2);\n    _this2.fireChangeEvent = _this2.fireChangeEvent.bind(_this2);\n    _this2.slideTo = _this2.slideTo.bind(_this2);\n    _this2.updateNewValues = _this2.updateNewValues.bind(_this2);\n    return _this2;\n  }\n\n  _createClass(Rheostat, [{\n    key: \"componentDidUpdate\",\n    value: function () {\n      function componentDidUpdate(prevProps, prevState) {\n        var nextProps = this.props;\n        var _state = this.state,\n            values = _state.values,\n            slidingIndex = _state.slidingIndex;\n        var minMaxChanged = nextProps.min !== prevProps.min || nextProps.max !== prevProps.max;\n        var valuesChangedThroughState = !(0, _helper.isEqual)(values, nextProps.values) && !(0, _helper.isEqual)(prevState.values, values);\n        var valuesChangedThroughProps = !(0, _helper.isEqual)(prevProps.values, nextProps.values) && (0, _helper.isEqual)(prevState.values, values); // if (valuesChangedThroughState || valuesChangedThroughProps) {\n        //   console.log(\"🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥\");\n        //   console.log(\"prevState.values\", prevState.values);\n        //   console.log(\"nextProps.values\", nextProps.values);\n        //   console.log(\"prevProps.values\", prevProps.values);\n        //   console.log(\"this.state.values\", this.state.values);\n        //   console.log(\"🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥\");\n        // }\n\n        var orientationChanged = nextProps.className !== prevProps.className || nextProps.orientation !== prevProps.orientation;\n        var willBeDisabled = nextProps.disabled && !prevProps.disabled;\n\n        if (orientationChanged) {\n          this.setState({\n            className: getClassName(nextProps)\n          });\n        }\n\n        if (valuesChangedThroughState) {\n          this.updateNewValues(this.getPublicState());\n        } else if (minMaxChanged || valuesChangedThroughProps) {\n          this.updateNewValues(nextProps);\n        }\n\n        if (willBeDisabled && slidingIndex !== null) {\n          this.endSlide();\n        }\n      }\n\n      return componentDidUpdate;\n    }()\n  }, {\n    key: \"getPublicState\",\n    value: function () {\n      function getPublicState() {\n        return {\n          max: this.props.max,\n          min: this.props.min,\n          values: this.state.values\n        };\n      }\n\n      return getPublicState;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"getSliderBoundingBox\",\n    value: function () {\n      function getSliderBoundingBox() {\n        var rheostat = this.refs.rheostat;\n        var node = rheostat.getDOMNode ? rheostat.getDOMNode() : rheostat;\n        var rect = node.getBoundingClientRect();\n        return {\n          height: rect.height || node.clientHeight,\n          left: rect.left,\n          top: rect.top,\n          width: rect.width || node.clientWidth\n        };\n      }\n\n      return getSliderBoundingBox;\n    }()\n  }, {\n    key: \"getProgressStyle\",\n    value: function () {\n      function getProgressStyle(idx) {\n        var handlePos = this.state.handlePos;\n        var value = handlePos[idx];\n\n        if (idx === 0) {\n          return this.props.orientation === \"vertical\" ? {\n            height: String(value) + \"%\",\n            top: 0\n          } : {\n            left: 0,\n            width: String(value) + \"%\"\n          };\n        }\n\n        var prevValue = handlePos[idx - 1];\n        var diffValue = value - prevValue;\n        return this.props.orientation === \"vertical\" ? {\n          height: diffValue + \"%\",\n          top: String(prevValue) + \"%\"\n        } : {\n          left: String(prevValue) + \"%\",\n          width: diffValue + \"%\"\n        };\n      }\n\n      return getProgressStyle;\n    }()\n  }, {\n    key: \"getMinValue\",\n    value: function () {\n      function getMinValue(idx) {\n        return this.state.values[idx - 1] ? Math.max(this.props.min, this.state.values[idx - 1]) : this.props.min;\n      }\n\n      return getMinValue;\n    }()\n  }, {\n    key: \"getMaxValue\",\n    value: function () {\n      function getMaxValue(idx) {\n        return this.state.values[idx + 1] ? Math.min(this.props.max, this.state.values[idx + 1]) : this.props.max;\n      }\n\n      return getMaxValue;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"getHandleDimensions\",\n    value: function () {\n      function getHandleDimensions(ev, sliderBox) {\n        var handleNode = ev.currentTarget || null;\n        if (!handleNode) return 0;\n        return this.props.orientation === \"vertical\" ? handleNode.clientHeight / sliderBox.height * SliderConstants.PERCENT_FULL / 2 : handleNode.clientWidth / sliderBox.width * SliderConstants.PERCENT_FULL / 2;\n      }\n\n      return getHandleDimensions;\n    }()\n  }, {\n    key: \"getClosestSnapPoint\",\n    value: function () {\n      function getClosestSnapPoint(value) {\n        if (!this.props.snapPoints.length) return value;\n        return this.props.snapPoints.reduce(function (snapTo, snap) {\n          return Math.abs(snapTo - value) < Math.abs(snap - value) ? snapTo : snap;\n        });\n      }\n\n      return getClosestSnapPoint;\n    }()\n  }, {\n    key: \"getSnapPosition\",\n    value: function () {\n      function getSnapPosition(positionPercent) {\n        if (!this.props.snap) return positionPercent;\n        var _props = this.props,\n            algorithm = _props.algorithm,\n            max = _props.max,\n            min = _props.min;\n        var value = algorithm.getValue(positionPercent, min, max);\n        var snapValue = this.getClosestSnapPoint(value);\n        return algorithm.getPosition(snapValue, min, max);\n      }\n\n      return getSnapPosition;\n    }()\n  }, {\n    key: \"getNextPositionForKey\",\n    value: function () {\n      function getNextPositionForKey(idx, keyCode) {\n        var _stepMultiplier;\n\n        var _state2 = this.state,\n            handlePos = _state2.handlePos,\n            values = _state2.values;\n        var _props2 = this.props,\n            algorithm = _props2.algorithm,\n            max = _props2.max,\n            min = _props2.min,\n            snapPoints = _props2.snapPoints;\n        var shouldSnap = this.props.snap;\n        var proposedValue = values[idx];\n        var proposedPercentage = handlePos[idx];\n        var originalPercentage = proposedPercentage;\n        var stepValue = 1;\n\n        if (max >= 100) {\n          proposedPercentage = Math.round(proposedPercentage);\n        } else {\n          stepValue = 100 / (max - min);\n        }\n\n        var currentIndex = null;\n\n        if (shouldSnap) {\n          currentIndex = snapPoints.indexOf(this.getClosestSnapPoint(values[idx]));\n        }\n\n        var stepMultiplier = (_stepMultiplier = {}, _defineProperty(_stepMultiplier, SliderConstants.KEYS.LEFT, function (v) {\n          return v * -1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.RIGHT, function (v) {\n          return v * 1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.UP, function (v) {\n          return v * 1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.DOWN, function (v) {\n          return v * -1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.PAGE_DOWN, function (v) {\n          return v > 1 ? -v : v * -10;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.PAGE_UP, function (v) {\n          return v > 1 ? v : v * 10;\n        }), _stepMultiplier);\n\n        if (has.call(stepMultiplier, keyCode)) {\n          proposedPercentage += stepMultiplier[keyCode](stepValue);\n\n          if (shouldSnap) {\n            if (proposedPercentage > originalPercentage) {\n              // move cursor right unless overflow\n              if (currentIndex < snapPoints.length - 1) {\n                proposedValue = snapPoints[currentIndex + 1];\n              } // move cursor left unless there is overflow\n\n            } else if (currentIndex > 0) {\n              proposedValue = snapPoints[currentIndex - 1];\n            }\n          }\n        } else if (keyCode === SliderConstants.KEYS.HOME) {\n          proposedPercentage = SliderConstants.PERCENT_EMPTY;\n\n          if (shouldSnap) {\n            proposedValue = snapPoints[0];\n          }\n        } else if (keyCode === SliderConstants.KEYS.END) {\n          proposedPercentage = SliderConstants.PERCENT_FULL;\n\n          if (shouldSnap) {\n            proposedValue = snapPoints[snapPoints.length - 1];\n          }\n        } else {\n          return null;\n        }\n\n        return shouldSnap ? algorithm.getPosition(proposedValue, min, max) : proposedPercentage;\n      }\n\n      return getNextPositionForKey;\n    }()\n  }, {\n    key: \"getNextState\",\n    value: function () {\n      function getNextState(idx, proposedPosition) {\n        var _this3 = this;\n\n        var handlePos = this.state.handlePos;\n        var _props3 = this.props,\n            max = _props3.max,\n            min = _props3.min;\n        var actualPosition = this.validatePosition(idx, proposedPosition);\n        var nextHandlePos = handlePos.map(function (pos, index) {\n          return index === idx ? actualPosition : pos;\n        });\n        return {\n          handlePos: nextHandlePos,\n          values: nextHandlePos.map(function (pos) {\n            return _this3.props.algorithm.getValue(pos, min, max);\n          })\n        };\n      }\n\n      return getNextState;\n    }()\n  }, {\n    key: \"getClosestHandle\",\n    value: function () {\n      function getClosestHandle(positionPercent) {\n        var handlePos = this.state.handlePos;\n        return handlePos.reduce(function (closestIdx, node, idx) {\n          var challenger = Math.abs(handlePos[idx] - positionPercent);\n          var current = Math.abs(handlePos[closestIdx] - positionPercent);\n          return challenger < current ? idx : closestIdx;\n        }, 0);\n      }\n\n      return getClosestHandle;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"setStartSlide\",\n    value: function () {\n      function setStartSlide(ev, x, y) {\n        var sliderBox = this.getSliderBoundingBox();\n        this.setState({\n          handleDimensions: this.getHandleDimensions(ev, sliderBox),\n          mousePos: {\n            x: x,\n            y: y\n          },\n          sliderBox: sliderBox,\n          slidingIndex: getHandleFor(ev)\n        });\n      }\n\n      return setStartSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"startMouseSlide\",\n    value: function () {\n      function startMouseSlide(ev) {\n        this.setStartSlide(ev, ev.clientX, ev.clientY);\n\n        if (typeof document.addEventListener === \"function\") {\n          document.addEventListener(\"mousemove\", this.handleMouseSlide, false);\n          document.addEventListener(\"mouseup\", this.endSlide, false);\n        } else {\n          document.attachEvent(\"onmousemove\", this.handleMouseSlide);\n          document.attachEvent(\"onmouseup\", this.endSlide);\n        }\n\n        killEvent(ev);\n      }\n\n      return startMouseSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"startTouchSlide\",\n    value: function () {\n      function startTouchSlide(ev) {\n        if (ev.changedTouches.length > 1) return;\n        var touch = ev.changedTouches[0];\n        this.setStartSlide(ev, touch.clientX, touch.clientY);\n        document.addEventListener(\"touchmove\", this.handleTouchSlide, false);\n        document.addEventListener(\"touchend\", this.endSlide, false);\n        if (this.props.onSliderDragStart) this.props.onSliderDragStart();\n        killEvent(ev);\n      }\n\n      return startTouchSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"handleMouseSlide\",\n    value: function () {\n      function handleMouseSlide(ev) {\n        if (this.state.slidingIndex === null) return;\n        this.handleSlide(ev.clientX, ev.clientY);\n        killEvent(ev);\n      }\n\n      return handleMouseSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"handleTouchSlide\",\n    value: function () {\n      function handleTouchSlide(ev) {\n        if (this.state.slidingIndex === null) return;\n\n        if (ev.changedTouches.length > 1) {\n          this.endSlide();\n          return;\n        }\n\n        var touch = ev.changedTouches[0];\n        this.handleSlide(touch.clientX, touch.clientY);\n        killEvent(ev);\n      }\n\n      return handleTouchSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"handleSlide\",\n    value: function () {\n      function handleSlide(x, y) {\n        var _state3 = this.state,\n            idx = _state3.slidingIndex,\n            sliderBox = _state3.sliderBox;\n        var positionPercent = this.props.orientation === \"vertical\" ? (y - sliderBox.top) / sliderBox.height * SliderConstants.PERCENT_FULL : (x - sliderBox.left) / sliderBox.width * SliderConstants.PERCENT_FULL;\n        this.slideTo(idx, positionPercent);\n\n        if (this.canMove(idx, positionPercent)) {\n          // update mouse positions\n          this.setState({\n            x: x,\n            y: y\n          });\n          if (this.props.onSliderDragMove) this.props.onSliderDragMove();\n        }\n      }\n\n      return handleSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"endSlide\",\n    value: function () {\n      function endSlide() {\n        var _this4 = this;\n\n        var idx = this.state.slidingIndex;\n        this.setState({\n          slidingIndex: null\n        });\n\n        if (typeof document.removeEventListener === \"function\") {\n          document.removeEventListener(\"mouseup\", this.endSlide, false);\n          document.removeEventListener(\"touchend\", this.endSlide, false);\n          document.removeEventListener(\"touchmove\", this.handleTouchSlide, false);\n          document.removeEventListener(\"mousemove\", this.handleMouseSlide, false);\n        } else {\n          document.detachEvent(\"onmousemove\", this.handleMouseSlide);\n          document.detachEvent(\"onmouseup\", this.endSlide);\n        }\n\n        if (this.props.onSliderDragEnd) this.props.onSliderDragEnd();\n\n        if (this.props.snap) {\n          var positionPercent = this.getSnapPosition(this.state.handlePos[idx]);\n          this.slideTo(idx, positionPercent, function () {\n            return _this4.fireChangeEvent();\n          });\n        } else {\n          this.fireChangeEvent();\n        }\n      }\n\n      return endSlide;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"handleClick\",\n    value: function () {\n      function handleClick(ev) {\n        var _this5 = this;\n\n        if (ev.target.getAttribute(\"data-handle-key\")) {\n          return;\n        } // Calculate the position of the slider on the page so we can determine\n        // the position where you click in relativity.\n\n\n        var sliderBox = this.getSliderBoundingBox();\n        var positionDecimal = this.props.orientation === \"vertical\" ? (ev.clientY - sliderBox.top) / sliderBox.height : (ev.clientX - sliderBox.left) / sliderBox.width;\n        var positionPercent = positionDecimal * SliderConstants.PERCENT_FULL;\n        var handleId = this.getClosestHandle(positionPercent);\n        var validPositionPercent = this.getSnapPosition(positionPercent); // Move the handle there\n\n        this.slideTo(handleId, validPositionPercent, function () {\n          return _this5.fireChangeEvent();\n        });\n        if (this.props.onClick) this.props.onClick();\n      }\n\n      return handleClick;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"handleKeydown\",\n    value: function () {\n      function handleKeydown(ev) {\n        var _this6 = this;\n\n        var idx = getHandleFor(ev);\n\n        if (ev.keyCode === SliderConstants.KEYS.ESC) {\n          ev.currentTarget.blur();\n          return;\n        }\n\n        var proposedPercentage = this.getNextPositionForKey(idx, ev.keyCode);\n        if (proposedPercentage === null) return;\n\n        if (this.canMove(idx, proposedPercentage)) {\n          this.slideTo(idx, proposedPercentage, function () {\n            return _this6.fireChangeEvent();\n          });\n          if (this.props.onKeyPress) this.props.onKeyPress();\n        }\n\n        killEvent(ev);\n      }\n\n      return handleKeydown;\n    }() // Make sure the proposed position respects the bounds and\n    // does not collide with other handles too much.\n\n  }, {\n    key: \"validatePosition\",\n    value: function () {\n      function validatePosition(idx, proposedPosition) {\n        var _state4 = this.state,\n            handlePos = _state4.handlePos,\n            handleDimensions = _state4.handleDimensions;\n        return Math.max(Math.min(proposedPosition, handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handleDimensions : SliderConstants.PERCENT_FULL // 100% is the highest value\n        ), handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handleDimensions : SliderConstants.PERCENT_EMPTY // 0% is the lowest value\n        );\n      }\n\n      return validatePosition;\n    }()\n  }, {\n    key: \"validateValues\",\n    value: function () {\n      function validateValues(proposedValues, props) {\n        var _ref = props || this.props,\n            max = _ref.max,\n            min = _ref.min;\n\n        return proposedValues.map(function (value, idx, values) {\n          var realValue = Math.max(Math.min(value, max), min);\n\n          if (values.length && realValue < values[idx - 1]) {\n            return values[idx - 1];\n          }\n\n          return realValue;\n        });\n      }\n\n      return validateValues;\n    }() // Can we move the slider to the given position?\n\n  }, {\n    key: \"canMove\",\n    value: function () {\n      function canMove(idx, proposedPosition) {\n        var _state5 = this.state,\n            handlePos = _state5.handlePos,\n            handleDimensions = _state5.handleDimensions;\n        if (proposedPosition < SliderConstants.PERCENT_EMPTY) return false;\n        if (proposedPosition > SliderConstants.PERCENT_FULL) return false;\n        var nextHandlePosition = handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handleDimensions : Infinity;\n        if (proposedPosition > nextHandlePosition) return false;\n        var prevHandlePosition = handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handleDimensions : -Infinity;\n        if (proposedPosition < prevHandlePosition) return false;\n        return true;\n      }\n\n      return canMove;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"fireChangeEvent\",\n    value: function () {\n      function fireChangeEvent() {\n        if (this.props.onChange) this.props.onChange(this.getPublicState());\n      }\n\n      return fireChangeEvent;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"slideTo\",\n    value: function () {\n      function slideTo(idx, proposedPosition, onAfterSet) {\n        var _this7 = this;\n\n        var nextState = this.getNextState(idx, proposedPosition);\n        this.setState(nextState, function () {\n          if (_this7.props.onValuesUpdated) {\n            _this7.props.onValuesUpdated(_this7.getPublicState());\n          }\n\n          if (onAfterSet) onAfterSet();\n        });\n      }\n\n      return slideTo;\n    }() // istanbul ignore next\n\n  }, {\n    key: \"updateNewValues\",\n    value: function () {\n      function updateNewValues(nextProps) {\n        var _this8 = this; // Don't update while the slider is sliding\n\n\n        if (this.state.slidingIndex !== null) {\n          return;\n        }\n\n        var max = nextProps.max,\n            min = nextProps.min,\n            values = nextProps.values;\n        var nextValues = this.validateValues(values, nextProps);\n        this.setState({\n          handlePos: nextValues.map(function (value) {\n            return _this8.props.algorithm.getPosition(value, min, max);\n          }),\n          values: nextValues\n        }, function () {\n          return _this8.fireChangeEvent();\n        });\n      }\n\n      return updateNewValues;\n    }()\n  }, {\n    key: \"render\",\n    value: function () {\n      function render() {\n        var _this9 = this;\n\n        var _props4 = this.props,\n            algorithm = _props4.algorithm,\n            children = _props4.children,\n            disabled = _props4.disabled,\n            Handle = _props4.handle,\n            max = _props4.max,\n            min = _props4.min,\n            orientation = _props4.orientation,\n            PitComponent = _props4.pitComponent,\n            pitPoints = _props4.pitPoints,\n            ProgressBar = _props4.progressBar;\n        return (// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n          _react2[\"default\"].createElement(\"div\", {\n            className: this.state.className,\n            ref: \"rheostat\",\n            onClick: !disabled && this.handleClick,\n            style: {\n              position: \"relative\"\n            }\n          }, _react2[\"default\"].createElement(\"div\", {\n            className: \"rheostat-background\"\n          }), this.state.handlePos.map(function (pos, idx) {\n            var handleStyle = orientation === \"vertical\" ? {\n              top: String(pos) + \"%\",\n              position: \"absolute\"\n            } : {\n              left: String(pos) + \"%\",\n              position: \"absolute\"\n            };\n            return _react2[\"default\"].createElement(Handle, {\n              \"aria-valuemax\": _this9.getMaxValue(idx),\n              \"aria-valuemin\": _this9.getMinValue(idx),\n              \"aria-valuenow\": _this9.state.values[idx],\n              \"aria-disabled\": disabled,\n              \"data-handle-key\": idx,\n              className: \"rheostat-handle\",\n              key: idx,\n              onClick: _this9.killEvent,\n              onKeyDown: !disabled && _this9.handleKeydown,\n              onMouseDown: !disabled && _this9.startMouseSlide,\n              onTouchStart: !disabled && _this9.startTouchSlide,\n              role: \"slider\",\n              style: handleStyle,\n              tabIndex: 0\n            });\n          }), this.state.handlePos.map(function (node, idx, arr) {\n            if (idx === 0 && arr.length > 1) {\n              return null;\n            }\n\n            return _react2[\"default\"].createElement(ProgressBar, {\n              className: \"rheostat-progress\",\n              key: idx,\n              style: _this9.getProgressStyle(idx)\n            });\n          }), PitComponent && pitPoints.map(function (n) {\n            var pos = algorithm.getPosition(n, min, max);\n            var pitStyle = orientation === \"vertical\" ? {\n              top: String(pos) + \"%\",\n              position: \"absolute\"\n            } : {\n              left: String(pos) + \"%\",\n              position: \"absolute\"\n            };\n            return _react2[\"default\"].createElement(PitComponent, {\n              key: n,\n              style: pitStyle\n            }, n);\n          }), children)\n        );\n      }\n\n      return render;\n    }()\n  }]);\n\n  return Rheostat;\n}(_react2[\"default\"].Component);\n\nRheostat.propTypes = propTypes;\nRheostat.defaultProps = defaultProps;\nexports[\"default\"] = Rheostat;","map":{"version":3,"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_SliderConstants","SliderConstants","_interopRequireWildcard","_linear","_linear2","_helper","obj","__esModule","newObj","default","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","getClassName","orientation","concat","className","split","join","has","PropTypeArrOfNumber","arrayOf","number","PropTypeReactComponent","oneOfType","func","string","getHandleFor","ev","Number","currentTarget","getAttribute","killEvent","stopPropagation","preventDefault","Button","_React$Component","getPrototypeOf","apply","render","createElement","type","Component","propTypes","algorithm","shape","getValue","getPosition","children","any","disabled","bool","handle","max","min","onClick","onChange","onKeyPress","onSliderDragEnd","onSliderDragMove","onSliderDragStart","onValuesUpdated","oneOf","pitComponent","pitPoints","progressBar","snap","snapPoints","values","defaultProps","PERCENT_FULL","PERCENT_EMPTY","Rheostat","_React$Component2","_this2","console","log","_this2$props","state","handlePos","map","handleDimensions","mousePos","sliderBox","slidingIndex","getPublicState","bind","getSliderBoundingBox","getProgressStyle","getMinValue","getMaxValue","getHandleDimensions","getClosestSnapPoint","getSnapPosition","getNextPositionForKey","getNextState","handleClick","getClosestHandle","setStartSlide","startMouseSlide","startTouchSlide","handleMouseSlide","handleTouchSlide","handleSlide","endSlide","handleKeydown","validatePosition","validateValues","canMove","fireChangeEvent","slideTo","updateNewValues","componentDidUpdate","prevProps","prevState","nextProps","_state","minMaxChanged","valuesChangedThroughState","isEqual","valuesChangedThroughProps","orientationChanged","willBeDisabled","setState","rheostat","refs","node","getDOMNode","rect","getBoundingClientRect","height","clientHeight","left","top","width","clientWidth","idx","String","prevValue","diffValue","Math","handleNode","reduce","snapTo","abs","positionPercent","_props","snapValue","keyCode","_stepMultiplier","_state2","_props2","shouldSnap","proposedValue","proposedPercentage","originalPercentage","stepValue","round","currentIndex","indexOf","stepMultiplier","KEYS","LEFT","v","RIGHT","UP","DOWN","PAGE_DOWN","PAGE_UP","HOME","END","proposedPosition","_this3","_props3","actualPosition","nextHandlePos","pos","index","closestIdx","challenger","current","x","y","clientX","clientY","document","addEventListener","attachEvent","changedTouches","touch","_state3","_this4","removeEventListener","detachEvent","_this5","positionDecimal","handleId","validPositionPercent","_this6","ESC","blur","_state4","undefined","proposedValues","_ref","realValue","_state5","nextHandlePosition","Infinity","prevHandlePosition","onAfterSet","_this7","nextState","_this8","nextValues","_this9","_props4","Handle","PitComponent","ProgressBar","ref","style","position","handleStyle","onKeyDown","onMouseDown","onTouchStart","role","tabIndex","arr","n","pitStyle"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/rheostat/lib/Slider.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _SliderConstants = require(\"./constants/SliderConstants\");\n\nvar SliderConstants = _interopRequireWildcard(_SliderConstants);\n\nvar _linear = require(\"./algorithms/linear\");\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _helper = require(\"./utils/helper\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable max-classes-per-file */\n/* globals document */\n/* eslint react/no-array-index-key: 1 */\n\nfunction getClassName(props) {\n  var orientation = props.orientation === \"vertical\" ? \"rheostat-vertical\" : \"rheostat-horizontal\";\n\n  return [\"rheostat\", orientation].concat(props.className.split(\" \")).join(\" \");\n}\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar PropTypeArrOfNumber = _propTypes2[\"default\"].arrayOf(_propTypes2[\"default\"].number);\nvar PropTypeReactComponent = _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].func, _propTypes2[\"default\"].string]);\n\nfunction getHandleFor(ev) {\n  return Number(ev.currentTarget.getAttribute(\"data-handle-key\"));\n}\n\nfunction killEvent(ev) {\n  ev.stopPropagation();\n  ev.preventDefault();\n}\n\nvar Button = function (_React$Component) {\n  _inherits(Button, _React$Component);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: \"render\",\n    value: function () {\n      function render() {\n        return _react2[\"default\"].createElement(\"button\", _extends({}, this.props, { type: \"button\" }));\n      }\n\n      return render;\n    }()\n  }]);\n\n  return Button;\n}(_react2[\"default\"].Component);\n\nvar propTypes = {\n  // the algorithm to use\n  algorithm: _propTypes2[\"default\"].shape({\n    getValue: _propTypes2[\"default\"].func,\n    getPosition: _propTypes2[\"default\"].func\n  }),\n  // any children you pass in\n  children: _propTypes2[\"default\"].any,\n  // standard class name you'd like to apply to the root element\n  className: _propTypes2[\"default\"].string,\n  // prevent the slider from moving when clicked\n  disabled: _propTypes2[\"default\"].bool,\n  // a custom handle you can pass in\n  handle: PropTypeReactComponent,\n  // the maximum possible value\n  max: _propTypes2[\"default\"].number,\n  // the minimum possible value\n  min: _propTypes2[\"default\"].number,\n  // called on click\n  onClick: _propTypes2[\"default\"].func,\n  // called whenever the user is done changing values on the slider\n  onChange: _propTypes2[\"default\"].func,\n  // called on key press\n  onKeyPress: _propTypes2[\"default\"].func,\n  // called when you finish dragging a handle\n  onSliderDragEnd: _propTypes2[\"default\"].func,\n  // called every time the slider is dragged and the value changes\n  onSliderDragMove: _propTypes2[\"default\"].func,\n  // called when you start dragging a handle\n  onSliderDragStart: _propTypes2[\"default\"].func,\n  // called whenever the user is actively changing the values on the slider\n  // (dragging, clicked, keypress)\n  onValuesUpdated: _propTypes2[\"default\"].func,\n  // the orientation\n  orientation: _propTypes2[\"default\"].oneOf([\"horizontal\", \"vertical\"]),\n  // a component for rendering the pits\n  pitComponent: PropTypeReactComponent,\n  // the points that pits are rendered on\n  pitPoints: PropTypeArrOfNumber,\n  // a custom progress bar you can pass in\n  progressBar: PropTypeReactComponent,\n  // should we snap?\n  snap: _propTypes2[\"default\"].bool,\n  // the points we should snap to\n  snapPoints: PropTypeArrOfNumber,\n  // the values\n  values: PropTypeArrOfNumber\n};\n\nvar defaultProps = {\n  algorithm: _linear2[\"default\"],\n  className: \"\",\n  disabled: false,\n  handle: Button,\n  max: SliderConstants.PERCENT_FULL,\n  min: SliderConstants.PERCENT_EMPTY,\n  orientation: \"horizontal\",\n  pitPoints: [],\n  progressBar: \"div\",\n  snap: false,\n  snapPoints: [],\n  values: [SliderConstants.PERCENT_EMPTY]\n};\n\nvar Rheostat = function (_React$Component2) {\n  _inherits(Rheostat, _React$Component2);\n\n  function Rheostat(props) {\n    _classCallCheck(this, Rheostat);\n\n    var _this2 = _possibleConstructorReturn(this, (Rheostat.__proto__ || Object.getPrototypeOf(Rheostat)).call(this, props));\n\n    console.log(\"24 Jan, 12 :37AM\");\n    var _this2$props = _this2.props,\n        max = _this2$props.max,\n        min = _this2$props.min,\n        values = _this2$props.values;\n\n    _this2.state = {\n      className: getClassName(_this2.props),\n      handlePos: values.map(function (value) {\n        return _this2.props.algorithm.getPosition(value, min, max);\n      }),\n      handleDimensions: 0,\n      mousePos: null,\n      sliderBox: {},\n      slidingIndex: null,\n      values: values\n    };\n    _this2.getPublicState = _this2.getPublicState.bind(_this2);\n    _this2.getSliderBoundingBox = _this2.getSliderBoundingBox.bind(_this2);\n    _this2.getProgressStyle = _this2.getProgressStyle.bind(_this2);\n    _this2.getMinValue = _this2.getMinValue.bind(_this2);\n    _this2.getMaxValue = _this2.getMaxValue.bind(_this2);\n    _this2.getHandleDimensions = _this2.getHandleDimensions.bind(_this2);\n    _this2.getClosestSnapPoint = _this2.getClosestSnapPoint.bind(_this2);\n    _this2.getSnapPosition = _this2.getSnapPosition.bind(_this2);\n    _this2.getNextPositionForKey = _this2.getNextPositionForKey.bind(_this2);\n    _this2.getNextState = _this2.getNextState.bind(_this2);\n    _this2.handleClick = _this2.handleClick.bind(_this2);\n    _this2.getClosestHandle = _this2.getClosestHandle.bind(_this2);\n    _this2.setStartSlide = _this2.setStartSlide.bind(_this2);\n    _this2.startMouseSlide = _this2.startMouseSlide.bind(_this2);\n    _this2.startTouchSlide = _this2.startTouchSlide.bind(_this2);\n    _this2.handleMouseSlide = _this2.handleMouseSlide.bind(_this2);\n    _this2.handleTouchSlide = _this2.handleTouchSlide.bind(_this2);\n    _this2.handleSlide = _this2.handleSlide.bind(_this2);\n    _this2.endSlide = _this2.endSlide.bind(_this2);\n    _this2.handleKeydown = _this2.handleKeydown.bind(_this2);\n    _this2.validatePosition = _this2.validatePosition.bind(_this2);\n    _this2.validateValues = _this2.validateValues.bind(_this2);\n    _this2.canMove = _this2.canMove.bind(_this2);\n    _this2.fireChangeEvent = _this2.fireChangeEvent.bind(_this2);\n    _this2.slideTo = _this2.slideTo.bind(_this2);\n    _this2.updateNewValues = _this2.updateNewValues.bind(_this2);\n    return _this2;\n  }\n\n  _createClass(Rheostat, [{\n    key: \"componentDidUpdate\",\n    value: function () {\n      function componentDidUpdate(prevProps, prevState) {\n        var nextProps = this.props;\n        var _state = this.state,\n            values = _state.values,\n            slidingIndex = _state.slidingIndex;\n\n        var minMaxChanged = nextProps.min !== prevProps.min || nextProps.max !== prevProps.max;\n\n        var valuesChangedThroughState = !(0, _helper.isEqual)(values, nextProps.values) && !(0, _helper.isEqual)(prevState.values, values);\n        var valuesChangedThroughProps = !(0, _helper.isEqual)(prevProps.values, nextProps.values) && (0, _helper.isEqual)(prevState.values, values);\n        // if (valuesChangedThroughState || valuesChangedThroughProps) {\n        //   console.log(\"🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥\");\n\n        //   console.log(\"prevState.values\", prevState.values);\n        //   console.log(\"nextProps.values\", nextProps.values);\n        //   console.log(\"prevProps.values\", prevProps.values);\n        //   console.log(\"this.state.values\", this.state.values);\n        //   console.log(\"🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥🫥\");\n        // }\n        var orientationChanged = nextProps.className !== prevProps.className || nextProps.orientation !== prevProps.orientation;\n\n        var willBeDisabled = nextProps.disabled && !prevProps.disabled;\n\n        if (orientationChanged) {\n          this.setState({\n            className: getClassName(nextProps)\n          });\n        }\n\n        if (valuesChangedThroughState) {\n          this.updateNewValues(this.getPublicState());\n        } else if (minMaxChanged || valuesChangedThroughProps) {\n          this.updateNewValues(nextProps);\n        }\n\n        if (willBeDisabled && slidingIndex !== null) {\n          this.endSlide();\n        }\n      }\n\n      return componentDidUpdate;\n    }()\n  }, {\n    key: \"getPublicState\",\n    value: function () {\n      function getPublicState() {\n        return {\n          max: this.props.max,\n          min: this.props.min,\n          values: this.state.values\n        };\n      }\n\n      return getPublicState;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"getSliderBoundingBox\",\n    value: function () {\n      function getSliderBoundingBox() {\n        var rheostat = this.refs.rheostat;\n\n        var node = rheostat.getDOMNode ? rheostat.getDOMNode() : rheostat;\n        var rect = node.getBoundingClientRect();\n\n        return {\n          height: rect.height || node.clientHeight,\n          left: rect.left,\n          top: rect.top,\n          width: rect.width || node.clientWidth\n        };\n      }\n\n      return getSliderBoundingBox;\n    }()\n  }, {\n    key: \"getProgressStyle\",\n    value: function () {\n      function getProgressStyle(idx) {\n        var handlePos = this.state.handlePos;\n\n\n        var value = handlePos[idx];\n\n        if (idx === 0) {\n          return this.props.orientation === \"vertical\" ? { height: String(value) + \"%\", top: 0 } : { left: 0, width: String(value) + \"%\" };\n        }\n\n        var prevValue = handlePos[idx - 1];\n        var diffValue = value - prevValue;\n\n        return this.props.orientation === \"vertical\" ? { height: diffValue + \"%\", top: String(prevValue) + \"%\" } : { left: String(prevValue) + \"%\", width: diffValue + \"%\" };\n      }\n\n      return getProgressStyle;\n    }()\n  }, {\n    key: \"getMinValue\",\n    value: function () {\n      function getMinValue(idx) {\n        return this.state.values[idx - 1] ? Math.max(this.props.min, this.state.values[idx - 1]) : this.props.min;\n      }\n\n      return getMinValue;\n    }()\n  }, {\n    key: \"getMaxValue\",\n    value: function () {\n      function getMaxValue(idx) {\n        return this.state.values[idx + 1] ? Math.min(this.props.max, this.state.values[idx + 1]) : this.props.max;\n      }\n\n      return getMaxValue;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"getHandleDimensions\",\n    value: function () {\n      function getHandleDimensions(ev, sliderBox) {\n        var handleNode = ev.currentTarget || null;\n\n        if (!handleNode) return 0;\n\n        return this.props.orientation === \"vertical\" ? handleNode.clientHeight / sliderBox.height * SliderConstants.PERCENT_FULL / 2 : handleNode.clientWidth / sliderBox.width * SliderConstants.PERCENT_FULL / 2;\n      }\n\n      return getHandleDimensions;\n    }()\n  }, {\n    key: \"getClosestSnapPoint\",\n    value: function () {\n      function getClosestSnapPoint(value) {\n        if (!this.props.snapPoints.length) return value;\n\n        return this.props.snapPoints.reduce(function (snapTo, snap) {\n          return Math.abs(snapTo - value) < Math.abs(snap - value) ? snapTo : snap;\n        });\n      }\n\n      return getClosestSnapPoint;\n    }()\n  }, {\n    key: \"getSnapPosition\",\n    value: function () {\n      function getSnapPosition(positionPercent) {\n        if (!this.props.snap) return positionPercent;\n\n        var _props = this.props,\n            algorithm = _props.algorithm,\n            max = _props.max,\n            min = _props.min;\n\n\n        var value = algorithm.getValue(positionPercent, min, max);\n\n        var snapValue = this.getClosestSnapPoint(value);\n\n        return algorithm.getPosition(snapValue, min, max);\n      }\n\n      return getSnapPosition;\n    }()\n  }, {\n    key: \"getNextPositionForKey\",\n    value: function () {\n      function getNextPositionForKey(idx, keyCode) {\n        var _stepMultiplier;\n\n        var _state2 = this.state,\n            handlePos = _state2.handlePos,\n            values = _state2.values;\n        var _props2 = this.props,\n            algorithm = _props2.algorithm,\n            max = _props2.max,\n            min = _props2.min,\n            snapPoints = _props2.snapPoints;\n\n\n        var shouldSnap = this.props.snap;\n\n        var proposedValue = values[idx];\n        var proposedPercentage = handlePos[idx];\n        var originalPercentage = proposedPercentage;\n        var stepValue = 1;\n\n        if (max >= 100) {\n          proposedPercentage = Math.round(proposedPercentage);\n        } else {\n          stepValue = 100 / (max - min);\n        }\n\n        var currentIndex = null;\n\n        if (shouldSnap) {\n          currentIndex = snapPoints.indexOf(this.getClosestSnapPoint(values[idx]));\n        }\n\n        var stepMultiplier = (_stepMultiplier = {}, _defineProperty(_stepMultiplier, SliderConstants.KEYS.LEFT, function (v) {\n          return v * -1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.RIGHT, function (v) {\n          return v * 1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.UP, function (v) {\n          return v * 1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.DOWN, function (v) {\n          return v * -1;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.PAGE_DOWN, function (v) {\n          return v > 1 ? -v : v * -10;\n        }), _defineProperty(_stepMultiplier, SliderConstants.KEYS.PAGE_UP, function (v) {\n          return v > 1 ? v : v * 10;\n        }), _stepMultiplier);\n\n        if (has.call(stepMultiplier, keyCode)) {\n          proposedPercentage += stepMultiplier[keyCode](stepValue);\n\n          if (shouldSnap) {\n            if (proposedPercentage > originalPercentage) {\n              // move cursor right unless overflow\n              if (currentIndex < snapPoints.length - 1) {\n                proposedValue = snapPoints[currentIndex + 1];\n              }\n              // move cursor left unless there is overflow\n            } else if (currentIndex > 0) {\n              proposedValue = snapPoints[currentIndex - 1];\n            }\n          }\n        } else if (keyCode === SliderConstants.KEYS.HOME) {\n          proposedPercentage = SliderConstants.PERCENT_EMPTY;\n\n          if (shouldSnap) {\n            proposedValue = snapPoints[0];\n          }\n        } else if (keyCode === SliderConstants.KEYS.END) {\n          proposedPercentage = SliderConstants.PERCENT_FULL;\n\n          if (shouldSnap) {\n            proposedValue = snapPoints[snapPoints.length - 1];\n          }\n        } else {\n          return null;\n        }\n\n        return shouldSnap ? algorithm.getPosition(proposedValue, min, max) : proposedPercentage;\n      }\n\n      return getNextPositionForKey;\n    }()\n  }, {\n    key: \"getNextState\",\n    value: function () {\n      function getNextState(idx, proposedPosition) {\n        var _this3 = this;\n\n        var handlePos = this.state.handlePos;\n        var _props3 = this.props,\n            max = _props3.max,\n            min = _props3.min;\n\n\n        var actualPosition = this.validatePosition(idx, proposedPosition);\n\n        var nextHandlePos = handlePos.map(function (pos, index) {\n          return index === idx ? actualPosition : pos;\n        });\n\n        return {\n          handlePos: nextHandlePos,\n          values: nextHandlePos.map(function (pos) {\n            return _this3.props.algorithm.getValue(pos, min, max);\n          })\n        };\n      }\n\n      return getNextState;\n    }()\n  }, {\n    key: \"getClosestHandle\",\n    value: function () {\n      function getClosestHandle(positionPercent) {\n        var handlePos = this.state.handlePos;\n\n\n        return handlePos.reduce(function (closestIdx, node, idx) {\n          var challenger = Math.abs(handlePos[idx] - positionPercent);\n          var current = Math.abs(handlePos[closestIdx] - positionPercent);\n          return challenger < current ? idx : closestIdx;\n        }, 0);\n      }\n\n      return getClosestHandle;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"setStartSlide\",\n    value: function () {\n      function setStartSlide(ev, x, y) {\n        var sliderBox = this.getSliderBoundingBox();\n\n        this.setState({\n          handleDimensions: this.getHandleDimensions(ev, sliderBox),\n          mousePos: { x: x, y: y },\n          sliderBox: sliderBox,\n          slidingIndex: getHandleFor(ev)\n        });\n      }\n\n      return setStartSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"startMouseSlide\",\n    value: function () {\n      function startMouseSlide(ev) {\n        this.setStartSlide(ev, ev.clientX, ev.clientY);\n\n        if (typeof document.addEventListener === \"function\") {\n          document.addEventListener(\"mousemove\", this.handleMouseSlide, false);\n          document.addEventListener(\"mouseup\", this.endSlide, false);\n        } else {\n          document.attachEvent(\"onmousemove\", this.handleMouseSlide);\n          document.attachEvent(\"onmouseup\", this.endSlide);\n        }\n\n        killEvent(ev);\n      }\n\n      return startMouseSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"startTouchSlide\",\n    value: function () {\n      function startTouchSlide(ev) {\n        if (ev.changedTouches.length > 1) return;\n\n        var touch = ev.changedTouches[0];\n\n        this.setStartSlide(ev, touch.clientX, touch.clientY);\n\n        document.addEventListener(\"touchmove\", this.handleTouchSlide, false);\n        document.addEventListener(\"touchend\", this.endSlide, false);\n\n        if (this.props.onSliderDragStart) this.props.onSliderDragStart();\n\n        killEvent(ev);\n      }\n\n      return startTouchSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"handleMouseSlide\",\n    value: function () {\n      function handleMouseSlide(ev) {\n        if (this.state.slidingIndex === null) return;\n        this.handleSlide(ev.clientX, ev.clientY);\n        killEvent(ev);\n      }\n\n      return handleMouseSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"handleTouchSlide\",\n    value: function () {\n      function handleTouchSlide(ev) {\n        if (this.state.slidingIndex === null) return;\n\n        if (ev.changedTouches.length > 1) {\n          this.endSlide();\n          return;\n        }\n\n        var touch = ev.changedTouches[0];\n\n        this.handleSlide(touch.clientX, touch.clientY);\n        killEvent(ev);\n      }\n\n      return handleTouchSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"handleSlide\",\n    value: function () {\n      function handleSlide(x, y) {\n        var _state3 = this.state,\n            idx = _state3.slidingIndex,\n            sliderBox = _state3.sliderBox;\n\n\n        var positionPercent = this.props.orientation === \"vertical\" ? (y - sliderBox.top) / sliderBox.height * SliderConstants.PERCENT_FULL : (x - sliderBox.left) / sliderBox.width * SliderConstants.PERCENT_FULL;\n\n        this.slideTo(idx, positionPercent);\n\n        if (this.canMove(idx, positionPercent)) {\n          // update mouse positions\n          this.setState({ x: x, y: y });\n          if (this.props.onSliderDragMove) this.props.onSliderDragMove();\n        }\n      }\n\n      return handleSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"endSlide\",\n    value: function () {\n      function endSlide() {\n        var _this4 = this;\n\n        var idx = this.state.slidingIndex;\n\n        this.setState({ slidingIndex: null });\n\n        if (typeof document.removeEventListener === \"function\") {\n          document.removeEventListener(\"mouseup\", this.endSlide, false);\n          document.removeEventListener(\"touchend\", this.endSlide, false);\n          document.removeEventListener(\"touchmove\", this.handleTouchSlide, false);\n          document.removeEventListener(\"mousemove\", this.handleMouseSlide, false);\n        } else {\n          document.detachEvent(\"onmousemove\", this.handleMouseSlide);\n          document.detachEvent(\"onmouseup\", this.endSlide);\n        }\n\n        if (this.props.onSliderDragEnd) this.props.onSliderDragEnd();\n        if (this.props.snap) {\n          var positionPercent = this.getSnapPosition(this.state.handlePos[idx]);\n          this.slideTo(idx, positionPercent, function () {\n            return _this4.fireChangeEvent();\n          });\n        } else {\n          this.fireChangeEvent();\n        }\n      }\n\n      return endSlide;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"handleClick\",\n    value: function () {\n      function handleClick(ev) {\n        var _this5 = this;\n\n        if (ev.target.getAttribute(\"data-handle-key\")) {\n          return;\n        }\n\n        // Calculate the position of the slider on the page so we can determine\n        // the position where you click in relativity.\n        var sliderBox = this.getSliderBoundingBox();\n\n        var positionDecimal = this.props.orientation === \"vertical\" ? (ev.clientY - sliderBox.top) / sliderBox.height : (ev.clientX - sliderBox.left) / sliderBox.width;\n\n        var positionPercent = positionDecimal * SliderConstants.PERCENT_FULL;\n\n        var handleId = this.getClosestHandle(positionPercent);\n\n        var validPositionPercent = this.getSnapPosition(positionPercent);\n\n        // Move the handle there\n        this.slideTo(handleId, validPositionPercent, function () {\n          return _this5.fireChangeEvent();\n        });\n\n        if (this.props.onClick) this.props.onClick();\n      }\n\n      return handleClick;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"handleKeydown\",\n    value: function () {\n      function handleKeydown(ev) {\n        var _this6 = this;\n\n        var idx = getHandleFor(ev);\n\n        if (ev.keyCode === SliderConstants.KEYS.ESC) {\n          ev.currentTarget.blur();\n          return;\n        }\n\n        var proposedPercentage = this.getNextPositionForKey(idx, ev.keyCode);\n\n        if (proposedPercentage === null) return;\n\n        if (this.canMove(idx, proposedPercentage)) {\n          this.slideTo(idx, proposedPercentage, function () {\n            return _this6.fireChangeEvent();\n          });\n          if (this.props.onKeyPress) this.props.onKeyPress();\n        }\n\n        killEvent(ev);\n      }\n\n      return handleKeydown;\n    }()\n\n    // Make sure the proposed position respects the bounds and\n    // does not collide with other handles too much.\n\n  }, {\n    key: \"validatePosition\",\n    value: function () {\n      function validatePosition(idx, proposedPosition) {\n        var _state4 = this.state,\n            handlePos = _state4.handlePos,\n            handleDimensions = _state4.handleDimensions;\n\n\n        return Math.max(Math.min(proposedPosition, handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handleDimensions : SliderConstants.PERCENT_FULL // 100% is the highest value\n        ), handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handleDimensions : SliderConstants.PERCENT_EMPTY // 0% is the lowest value\n        );\n      }\n\n      return validatePosition;\n    }()\n  }, {\n    key: \"validateValues\",\n    value: function () {\n      function validateValues(proposedValues, props) {\n        var _ref = props || this.props,\n            max = _ref.max,\n            min = _ref.min;\n\n        return proposedValues.map(function (value, idx, values) {\n          var realValue = Math.max(Math.min(value, max), min);\n\n          if (values.length && realValue < values[idx - 1]) {\n            return values[idx - 1];\n          }\n\n          return realValue;\n        });\n      }\n\n      return validateValues;\n    }()\n\n    // Can we move the slider to the given position?\n\n  }, {\n    key: \"canMove\",\n    value: function () {\n      function canMove(idx, proposedPosition) {\n        var _state5 = this.state,\n            handlePos = _state5.handlePos,\n            handleDimensions = _state5.handleDimensions;\n\n\n        if (proposedPosition < SliderConstants.PERCENT_EMPTY) return false;\n        if (proposedPosition > SliderConstants.PERCENT_FULL) return false;\n\n        var nextHandlePosition = handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handleDimensions : Infinity;\n\n        if (proposedPosition > nextHandlePosition) return false;\n\n        var prevHandlePosition = handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handleDimensions : -Infinity;\n\n        if (proposedPosition < prevHandlePosition) return false;\n\n        return true;\n      }\n\n      return canMove;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"fireChangeEvent\",\n    value: function () {\n      function fireChangeEvent() {\n        if (this.props.onChange) this.props.onChange(this.getPublicState());\n      }\n\n      return fireChangeEvent;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"slideTo\",\n    value: function () {\n      function slideTo(idx, proposedPosition, onAfterSet) {\n        var _this7 = this;\n\n        var nextState = this.getNextState(idx, proposedPosition);\n\n        this.setState(nextState, function () {\n          if (_this7.props.onValuesUpdated) {\n            _this7.props.onValuesUpdated(_this7.getPublicState());\n          }\n          if (onAfterSet) onAfterSet();\n        });\n      }\n\n      return slideTo;\n    }()\n\n    // istanbul ignore next\n\n  }, {\n    key: \"updateNewValues\",\n    value: function () {\n      function updateNewValues(nextProps) {\n        var _this8 = this;\n\n        // Don't update while the slider is sliding\n        if (this.state.slidingIndex !== null) {\n          return;\n        }\n\n        var max = nextProps.max,\n            min = nextProps.min,\n            values = nextProps.values;\n\n\n        var nextValues = this.validateValues(values, nextProps);\n\n        this.setState({\n          handlePos: nextValues.map(function (value) {\n            return _this8.props.algorithm.getPosition(value, min, max);\n          }),\n          values: nextValues\n        }, function () {\n          return _this8.fireChangeEvent();\n        });\n      }\n\n      return updateNewValues;\n    }()\n  }, {\n    key: \"render\",\n    value: function () {\n      function render() {\n        var _this9 = this;\n\n        var _props4 = this.props,\n            algorithm = _props4.algorithm,\n            children = _props4.children,\n            disabled = _props4.disabled,\n            Handle = _props4.handle,\n            max = _props4.max,\n            min = _props4.min,\n            orientation = _props4.orientation,\n            PitComponent = _props4.pitComponent,\n            pitPoints = _props4.pitPoints,\n            ProgressBar = _props4.progressBar;\n\n        return (\n          // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n          _react2[\"default\"].createElement(\n            \"div\",\n            {\n              className: this.state.className,\n              ref: \"rheostat\",\n              onClick: !disabled && this.handleClick,\n              style: { position: \"relative\" }\n            },\n            _react2[\"default\"].createElement(\"div\", { className: \"rheostat-background\" }),\n            this.state.handlePos.map(function (pos, idx) {\n              var handleStyle = orientation === \"vertical\" ? { top: String(pos) + \"%\", position: \"absolute\" } : { left: String(pos) + \"%\", position: \"absolute\" };\n\n              return _react2[\"default\"].createElement(Handle, {\n                \"aria-valuemax\": _this9.getMaxValue(idx),\n                \"aria-valuemin\": _this9.getMinValue(idx),\n                \"aria-valuenow\": _this9.state.values[idx],\n                \"aria-disabled\": disabled,\n                \"data-handle-key\": idx,\n                className: \"rheostat-handle\",\n                key: idx,\n                onClick: _this9.killEvent,\n                onKeyDown: !disabled && _this9.handleKeydown,\n                onMouseDown: !disabled && _this9.startMouseSlide,\n                onTouchStart: !disabled && _this9.startTouchSlide,\n                role: \"slider\",\n                style: handleStyle,\n                tabIndex: 0\n              });\n            }),\n            this.state.handlePos.map(function (node, idx, arr) {\n              if (idx === 0 && arr.length > 1) {\n                return null;\n              }\n\n              return _react2[\"default\"].createElement(ProgressBar, {\n                className: \"rheostat-progress\",\n                key: idx,\n                style: _this9.getProgressStyle(idx)\n              });\n            }),\n            PitComponent && pitPoints.map(function (n) {\n              var pos = algorithm.getPosition(n, min, max);\n              var pitStyle = orientation === \"vertical\" ? { top: String(pos) + \"%\", position: \"absolute\" } : { left: String(pos) + \"%\", position: \"absolute\" };\n\n              return _react2[\"default\"].createElement(\n                PitComponent,\n                { key: n, style: pitStyle },\n                n\n              );\n            }),\n            children\n          )\n        );\n      }\n\n      return render;\n    }()\n  }]);\n\n  return Rheostat;\n}(_react2[\"default\"].Component);\n\nRheostat.propTypes = propTypes;\nRheostat.defaultProps = defaultProps;\n\nexports[\"default\"] = Rheostat;"],"mappings":"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"},"metadata":{},"sourceType":"script"}