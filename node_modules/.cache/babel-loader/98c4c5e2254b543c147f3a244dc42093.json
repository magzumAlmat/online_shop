{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _trimStart2 = require('lodash/trimStart');\n\nvar _trimStart3 = _interopRequireDefault(_trimStart2);\n\nvar _replace2 = require('lodash/replace');\n\nvar _replace3 = _interopRequireDefault(_replace2);\n\nvar _pick2 = require('lodash/pick');\n\nvar _pick3 = _interopRequireDefault(_pick2);\n\nvar _isArray2 = require('lodash/isArray');\n\nvar _isArray3 = _interopRequireDefault(_isArray2);\n\nvar _isBoolean2 = require('lodash/isBoolean');\n\nvar _isBoolean3 = _interopRequireDefault(_isBoolean2);\n\nvar _isFunction2 = require('lodash/isFunction');\n\nvar _isFunction3 = _interopRequireDefault(_isFunction2);\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.pathToArr = pathToArr;\nexports.getSlashStrPath = getSlashStrPath;\nexports.getDotStrPath = getDotStrPath;\nexports.combineReducers = combineReducers;\nexports.pathFromMeta = pathFromMeta;\nexports.updateItemInArray = updateItemInArray;\nexports.createReducer = createReducer;\nexports.preserveValuesFromState = preserveValuesFromState;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction pathToArr(path) {\n  return path ? path.split(/\\//).filter(function (p) {\n    return !!p;\n  }) : [];\n}\n\nfunction getSlashStrPath(path) {\n  return (0, _trimStart3.default)((0, _replace3.default)(path, /[.]/g, '/'), '/');\n}\n\nfunction getDotStrPath(path) {\n  return pathToArr(path).join('.');\n}\n\nfunction combineReducers(reducers) {\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n    return Object.keys(reducers).reduce(function (nextState, key) {\n      nextState[key] = reducers[key](state[key], action);\n      return nextState;\n    }, {});\n  };\n}\n\nfunction pathFromMeta(meta) {\n  if (!meta) {\n    throw new Error('Action meta is required to build path for reducers.');\n  }\n\n  var collection = meta.collection,\n      doc = meta.doc,\n      subcollections = meta.subcollections,\n      storeAs = meta.storeAs;\n\n  if (storeAs) {\n    return doc ? storeAs + '.' + doc : storeAs;\n  }\n\n  if (meta.path) {\n    return meta.path.split('/');\n  }\n\n  if (!collection) {\n    throw new Error('Collection is required to construct reducer path.');\n  }\n\n  var basePath = collection;\n\n  if (doc) {\n    basePath += '.' + doc;\n  }\n\n  if (!subcollections) {\n    return basePath;\n  }\n\n  var mappedCollections = subcollections.map(pathFromMeta);\n  return basePath.concat('.' + mappedCollections.join('.'));\n}\n\nfunction updateItemInArray(array, itemId, updateItemCallback) {\n  var matchFound = false;\n  var modified = array.map(function (item) {\n    if (!item || item.id !== itemId) {\n      return item;\n    }\n\n    matchFound = true;\n    var updatedItem = updateItemCallback(item);\n    return updatedItem;\n  });\n\n  if (!matchFound) {\n    modified.push(updateItemCallback({\n      id: itemId\n    }));\n  }\n\n  return modified;\n}\n\nfunction createReducer(initialState, handlers) {\n  return function reducer() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    if (handlers.hasOwnProperty(action.type)) {\n      return handlers[action.type](state, action);\n    }\n\n    return state;\n  };\n}\n\nfunction preserveValuesFromState(state, preserveSetting, nextState) {\n  if ((0, _isBoolean3.default)(preserveSetting)) {\n    return nextState ? _extends({}, state, nextState) : state;\n  }\n\n  if ((0, _isFunction3.default)(preserveSetting)) {\n    return preserveSetting(state, nextState);\n  }\n\n  if ((0, _isArray3.default)(preserveSetting)) {\n    return (0, _pick3.default)(state, preserveSetting);\n  }\n\n  throw new Error('Invalid preserve parameter. It must be an Object or an Array.');\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","_trimStart2","require","_trimStart3","_interopRequireDefault","_replace2","_replace3","_pick2","_pick3","_isArray2","_isArray3","_isBoolean2","_isBoolean3","_isFunction2","_isFunction3","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","pathToArr","getSlashStrPath","getDotStrPath","combineReducers","pathFromMeta","updateItemInArray","createReducer","preserveValuesFromState","obj","__esModule","default","path","split","filter","p","join","reducers","state","undefined","action","keys","reduce","nextState","meta","Error","collection","doc","subcollections","storeAs","basePath","mappedCollections","map","concat","array","itemId","updateItemCallback","matchFound","modified","item","id","updatedItem","push","initialState","handlers","reducer","type","preserveSetting"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/redux-firestore/es/utils/reducers.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _trimStart2 = require('lodash/trimStart');\n\nvar _trimStart3 = _interopRequireDefault(_trimStart2);\n\nvar _replace2 = require('lodash/replace');\n\nvar _replace3 = _interopRequireDefault(_replace2);\n\nvar _pick2 = require('lodash/pick');\n\nvar _pick3 = _interopRequireDefault(_pick2);\n\nvar _isArray2 = require('lodash/isArray');\n\nvar _isArray3 = _interopRequireDefault(_isArray2);\n\nvar _isBoolean2 = require('lodash/isBoolean');\n\nvar _isBoolean3 = _interopRequireDefault(_isBoolean2);\n\nvar _isFunction2 = require('lodash/isFunction');\n\nvar _isFunction3 = _interopRequireDefault(_isFunction2);\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.pathToArr = pathToArr;\nexports.getSlashStrPath = getSlashStrPath;\nexports.getDotStrPath = getDotStrPath;\nexports.combineReducers = combineReducers;\nexports.pathFromMeta = pathFromMeta;\nexports.updateItemInArray = updateItemInArray;\nexports.createReducer = createReducer;\nexports.preserveValuesFromState = preserveValuesFromState;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction pathToArr(path) {\n  return path ? path.split(/\\//).filter(function (p) {\n    return !!p;\n  }) : [];\n}\n\nfunction getSlashStrPath(path) {\n  return (0, _trimStart3.default)((0, _replace3.default)(path, /[.]/g, '/'), '/');\n}\n\nfunction getDotStrPath(path) {\n  return pathToArr(path).join('.');\n}\n\nfunction combineReducers(reducers) {\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n    return Object.keys(reducers).reduce(function (nextState, key) {\n      nextState[key] = reducers[key](state[key], action);\n\n      return nextState;\n    }, {});\n  };\n}\n\nfunction pathFromMeta(meta) {\n  if (!meta) {\n    throw new Error('Action meta is required to build path for reducers.');\n  }\n  var collection = meta.collection,\n      doc = meta.doc,\n      subcollections = meta.subcollections,\n      storeAs = meta.storeAs;\n\n  if (storeAs) {\n    return doc ? storeAs + '.' + doc : storeAs;\n  }\n  if (meta.path) {\n    return meta.path.split('/');\n  }\n  if (!collection) {\n    throw new Error('Collection is required to construct reducer path.');\n  }\n  var basePath = collection;\n  if (doc) {\n    basePath += '.' + doc;\n  }\n  if (!subcollections) {\n    return basePath;\n  }\n  var mappedCollections = subcollections.map(pathFromMeta);\n  return basePath.concat('.' + mappedCollections.join('.'));\n}\n\nfunction updateItemInArray(array, itemId, updateItemCallback) {\n  var matchFound = false;\n  var modified = array.map(function (item) {\n    if (!item || item.id !== itemId) {\n      return item;\n    }\n    matchFound = true;\n\n    var updatedItem = updateItemCallback(item);\n    return updatedItem;\n  });\n  if (!matchFound) {\n    modified.push(updateItemCallback({ id: itemId }));\n  }\n  return modified;\n}\n\nfunction createReducer(initialState, handlers) {\n  return function reducer() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    if (handlers.hasOwnProperty(action.type)) {\n      return handlers[action.type](state, action);\n    }\n    return state;\n  };\n}\n\nfunction preserveValuesFromState(state, preserveSetting, nextState) {\n  if ((0, _isBoolean3.default)(preserveSetting)) {\n    return nextState ? _extends({}, state, nextState) : state;\n  }\n\n  if ((0, _isFunction3.default)(preserveSetting)) {\n    return preserveSetting(state, nextState);\n  }\n\n  if ((0, _isArray3.default)(preserveSetting)) {\n    return (0, _pick3.default)(state, preserveSetting);\n  }\n\n  throw new Error('Invalid preserve parameter. It must be an Object or an Array.');\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}