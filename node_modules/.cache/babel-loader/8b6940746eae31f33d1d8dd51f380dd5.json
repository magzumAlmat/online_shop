{"ast":null,"code":"import fetch from 'cross-fetch';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n} // Function to parse the URL\n\n\nfunction btoa(input) {\n  if (input === void 0) {\n    input = '';\n  }\n\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n  var str = input;\n  var output = ''; // eslint-disable-next-line\n\n  for (var block = 0, charCode, i = 0, map = chars; str.charAt(i | 0) || (map = '=', i % 1); // eslint-disable-line no-bitwise\n  output += map.charAt(63 & block >> 8 - i % 1 * 8) // eslint-disable-line no-bitwise\n  ) {\n    charCode = str.charCodeAt(i += 3 / 4);\n\n    if (charCode > 0xff) {\n      throw new Error('\"btoa\" failed: The string to be encoded contains characters outside of the Latin1 range.');\n    }\n\n    block = block << 8 | charCode; // eslint-disable-line no-bitwise\n  }\n\n  return output;\n}\n\nfunction validateIndex(index) {\n  if (!index) {\n    throw new Error('appbase-analytics: A valid index must be present to record analytics events.');\n  }\n}\n\nfunction validateCredentials(credentials) {\n  if (!credentials) {\n    throw new Error('appbase-analytics: Auth credentials is missing.');\n  }\n}\n\nfunction validateURL(url) {\n  if (!url) {\n    throw new Error('appbase-analytics: URL is missing.');\n  }\n}\n\nfunction validateQuery(query, queryID) {\n  if ((query === undefined || query === null) && !queryID) {\n    throw new Error('appbase-analytics: query or queryID must be present to register a click/conversion event');\n  }\n}\n\nfunction validateQueryID(queryID) {\n  if (!queryID) {\n    throw new Error('appbase-analytics: queryID must be present to save search/favorite');\n  }\n}\n\nfunction validateClickObjects(objects) {\n  if (!objects || Object.keys(objects).length < 1) {\n    throw new Error('appbase-analytics: at least one click object must be present to register a click event');\n  }\n}\n\nfunction validateConversionObjects(objects) {\n  if (!objects || Object.keys(objects).length < 1) {\n    throw new Error('appbase-analytics: at least one click object must be present to register a click event');\n  }\n}\n\nfunction initClient(config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var metrics = {\n    credentials: config.credentials,\n    index: config.index,\n    url: config.url,\n    userID: config.userID,\n    globalCustomEvents: config.globalCustomEvents,\n    queryID: '',\n    headers: null,\n    _request: function _request(method, url, body, queryParams, callback) {\n      var finalBody = _extends({\n        user_id: metrics.userID\n      }, body, {\n        custom_events: _extends({}, body && body.custom_events, {}, metrics.globalCustomEvents)\n      });\n\n      var queryParamsString = '';\n\n      if (queryParams) {\n        queryParamsString = Object.keys(queryParams).map(function (param) {\n          return param + \"=\" + queryParams[param];\n        }).join('&');\n      }\n\n      return fetch(metrics.url + \"/\" + url + \"?\" + queryParamsString, {\n        method: method,\n        headers: _extends({}, metrics.headers, {\n          'Content-Type': 'application/json',\n          Authorization: \"Basic \" + btoa(metrics.credentials)\n        }),\n        body: method === 'GET' ? null : JSON.stringify(finalBody)\n      }).then(function (response) {\n        if (callback) {\n          callback(null, response);\n        }\n      })[\"catch\"](function (err) {\n        if (callback) {\n          callback(err, null);\n        }\n      });\n    }\n  };\n  validateIndex(metrics.index);\n  validateCredentials(metrics.credentials);\n  validateURL(metrics.url); // To register a search\n\n  metrics.search = function (searchConfig, callback) {\n    validateQuery(searchConfig.query, searchConfig.queryID);\n\n    var captureQueryID = function captureQueryID(err, res) {\n      if (res) {\n        res.json().then(function (response) {\n          if (response && response.query_id) {\n            metrics.queryID = response.query_id;\n          }\n\n          if (callback) {\n            callback(err, res);\n          }\n        })[\"catch\"](function (err2) {\n          if (callback) {\n            callback(err2, res);\n          }\n        });\n      } else if (callback) {\n        callback(err, res);\n      }\n    }; // just to avoid the flow type error\n\n\n    if (metrics._request) {\n      var requestBody = {\n        query: searchConfig.query,\n        query_id: searchConfig.queryID,\n        custom_events: searchConfig.customEvents,\n        filters: searchConfig.filters,\n        hits: searchConfig.hits,\n        impressions: searchConfig.impressions\n      };\n\n      metrics._request('PUT', metrics.index + \"/_analytics/search\", requestBody, null, captureQueryID);\n    }\n  }; // To register a click\n\n\n  metrics.click = function (clickConfig, callback) {\n    validateQuery(clickConfig.query, clickConfig.queryID);\n    validateClickObjects(clickConfig.objects); // just to avoid the flow type error\n\n    if (metrics._request) {\n      var requestBody = {\n        click_on: clickConfig.objects,\n        click_type: clickConfig.isSuggestionClick ? 'suggestion' : 'result',\n        query: clickConfig.query,\n        query_id: clickConfig.queryID,\n        custom_events: clickConfig.customEvents,\n        meta: clickConfig.meta\n      };\n\n      metrics._request('PUT', metrics.index + \"/_analytics/click\", requestBody, null, callback);\n    }\n  }; // To register a conversion\n\n\n  metrics.conversion = function (conversionConfig, callback) {\n    validateQuery(null, conversionConfig.queryID);\n    validateConversionObjects(conversionConfig.objects); // just to avoid the flow type error\n\n    if (metrics._request) {\n      var requestBody = {\n        conversion_on: conversionConfig.objects,\n        query_id: conversionConfig.queryID,\n        meta: conversionConfig.meta\n      };\n\n      metrics._request('PUT', metrics.index + \"/_analytics/conversion\", requestBody, null, callback);\n    }\n  }; // To save search\n\n\n  metrics.saveSearch = function (saveSearchConfig, callback) {\n    validateQueryID(saveSearchConfig.queryID);\n    var requestBody = {\n      query_id: saveSearchConfig.queryID,\n      save_search_id: saveSearchConfig.saveSearchID,\n      save_search_meta: saveSearchConfig.saveSearchMeta,\n      user_id: saveSearchConfig.userID,\n      custom_events: saveSearchConfig.customEvents\n    };\n\n    metrics._request('PUT', '_analytics/save-search', requestBody, null, callback);\n  }; // To delete save search\n\n\n  metrics.deleteSavedSearch = function (saveSearchId, callback) {\n    metrics._request('DELETE', '_analytics/save-search/' + saveSearchId, null, null, callback);\n  }; // To retrieve saved searches\n\n\n  metrics.getSavedSearches = function (filters, callback) {\n    // just to avoid the flow type error\n    if (metrics._request) {\n      metrics._request('GET', '_analytics/saved-searches', null, filters, callback);\n    }\n  }; // To record a favorite document\n\n\n  metrics.favorite = function (favoriteConfig, callback) {\n    validateQueryID(favoriteConfig.queryID);\n\n    if (!favoriteConfig.favoriteOn || favoriteConfig.favoriteOn === '') {\n      throw new Error('appbase-analytics: favoriteOn property is required');\n    }\n\n    if (!favoriteConfig.source) {\n      throw new Error('appbase-analytics: source property is required');\n    }\n\n    var requestBody = {\n      query_id: favoriteConfig.queryID,\n      favorite_on: favoriteConfig.favoriteOn,\n      source: favoriteConfig.source,\n      id: favoriteConfig.id,\n      meta: favoriteConfig.meta,\n      user_id: favoriteConfig.userID,\n      custom_events: favoriteConfig.customEvents\n    };\n\n    metrics._request('PUT', '_analytics/favorite', requestBody, null, callback);\n  }; // To retrieve favorites\n\n\n  metrics.getFavorites = function (filters, callback) {\n    // just to avoid the flow type error\n    if (metrics._request) {\n      metrics._request('GET', '_analytics/favorites', null, filters, callback);\n    }\n  }; // Sets the userID\n\n\n  metrics.setUserID = function (userID) {\n    metrics.userID = userID;\n  }; // Sets the global events\n\n\n  metrics.setGlobalCustomEvents = function (globalEvents) {\n    metrics.globalCustomEvents = globalEvents;\n  }; // Sets the headers\n\n\n  metrics.setHeaders = function (headers) {\n    metrics.headers = headers;\n  }; // get queryID\n\n\n  metrics.getQueryID = function () {\n    return metrics.queryID;\n  };\n\n  return metrics;\n}\n\nvar index = {\n  init: initClient\n};\nexport default index;","map":{"version":3,"names":["fetch","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","btoa","input","chars","str","output","block","charCode","map","charAt","charCodeAt","Error","validateIndex","index","validateCredentials","credentials","validateURL","url","validateQuery","query","queryID","undefined","validateQueryID","validateClickObjects","objects","keys","validateConversionObjects","initClient","config","metrics","userID","globalCustomEvents","headers","_request","method","body","queryParams","callback","finalBody","user_id","custom_events","queryParamsString","param","join","Authorization","JSON","stringify","then","response","err","search","searchConfig","captureQueryID","res","json","query_id","err2","requestBody","customEvents","filters","hits","impressions","click","clickConfig","click_on","click_type","isSuggestionClick","meta","conversion","conversionConfig","conversion_on","saveSearch","saveSearchConfig","save_search_id","saveSearchID","save_search_meta","saveSearchMeta","deleteSavedSearch","saveSearchId","getSavedSearches","favorite","favoriteConfig","favoriteOn","favorite_on","id","getFavorites","setUserID","setGlobalCustomEvents","globalEvents","setHeaders","getQueryID","init"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/analytics/dist/@appbaseio/analytics.es.js"],"sourcesContent":["import fetch from 'cross-fetch';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n// Function to parse the URL\nfunction btoa(input) {\n  if (input === void 0) {\n    input = '';\n  }\n\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n  var str = input;\n  var output = ''; // eslint-disable-next-line\n\n  for (var block = 0, charCode, i = 0, map = chars; str.charAt(i | 0) || (map = '=', i % 1); // eslint-disable-line no-bitwise\n  output += map.charAt(63 & block >> 8 - i % 1 * 8) // eslint-disable-line no-bitwise\n  ) {\n    charCode = str.charCodeAt(i += 3 / 4);\n\n    if (charCode > 0xff) {\n      throw new Error('\"btoa\" failed: The string to be encoded contains characters outside of the Latin1 range.');\n    }\n\n    block = block << 8 | charCode; // eslint-disable-line no-bitwise\n  }\n\n  return output;\n}\n\nfunction validateIndex(index) {\n  if (!index) {\n    throw new Error('appbase-analytics: A valid index must be present to record analytics events.');\n  }\n}\nfunction validateCredentials(credentials) {\n  if (!credentials) {\n    throw new Error('appbase-analytics: Auth credentials is missing.');\n  }\n}\nfunction validateURL(url) {\n  if (!url) {\n    throw new Error('appbase-analytics: URL is missing.');\n  }\n}\nfunction validateQuery(query, queryID) {\n  if ((query === undefined || query === null) && !queryID) {\n    throw new Error('appbase-analytics: query or queryID must be present to register a click/conversion event');\n  }\n}\nfunction validateQueryID(queryID) {\n  if (!queryID) {\n    throw new Error('appbase-analytics: queryID must be present to save search/favorite');\n  }\n}\nfunction validateClickObjects(objects) {\n  if (!objects || Object.keys(objects).length < 1) {\n    throw new Error('appbase-analytics: at least one click object must be present to register a click event');\n  }\n}\nfunction validateConversionObjects(objects) {\n  if (!objects || Object.keys(objects).length < 1) {\n    throw new Error('appbase-analytics: at least one click object must be present to register a click event');\n  }\n}\n\nfunction initClient(config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var metrics = {\n    credentials: config.credentials,\n    index: config.index,\n    url: config.url,\n    userID: config.userID,\n    globalCustomEvents: config.globalCustomEvents,\n    queryID: '',\n    headers: null,\n    _request: function _request(method, url, body, queryParams, callback) {\n      var finalBody = _extends({\n        user_id: metrics.userID\n      }, body, {\n        custom_events: _extends({}, body && body.custom_events, {}, metrics.globalCustomEvents)\n      });\n\n      var queryParamsString = '';\n\n      if (queryParams) {\n        queryParamsString = Object.keys(queryParams).map(function (param) {\n          return param + \"=\" + queryParams[param];\n        }).join('&');\n      }\n\n      return fetch(metrics.url + \"/\" + url + \"?\" + queryParamsString, {\n        method: method,\n        headers: _extends({}, metrics.headers, {\n          'Content-Type': 'application/json',\n          Authorization: \"Basic \" + btoa(metrics.credentials)\n        }),\n        body: method === 'GET' ? null : JSON.stringify(finalBody)\n      }).then(function (response) {\n        if (callback) {\n          callback(null, response);\n        }\n      })[\"catch\"](function (err) {\n        if (callback) {\n          callback(err, null);\n        }\n      });\n    }\n  };\n  validateIndex(metrics.index);\n  validateCredentials(metrics.credentials);\n  validateURL(metrics.url); // To register a search\n\n  metrics.search = function (searchConfig, callback) {\n    validateQuery(searchConfig.query, searchConfig.queryID);\n\n    var captureQueryID = function captureQueryID(err, res) {\n      if (res) {\n        res.json().then(function (response) {\n          if (response && response.query_id) {\n            metrics.queryID = response.query_id;\n          }\n\n          if (callback) {\n            callback(err, res);\n          }\n        })[\"catch\"](function (err2) {\n          if (callback) {\n            callback(err2, res);\n          }\n        });\n      } else if (callback) {\n        callback(err, res);\n      }\n    }; // just to avoid the flow type error\n\n\n    if (metrics._request) {\n      var requestBody = {\n        query: searchConfig.query,\n        query_id: searchConfig.queryID,\n        custom_events: searchConfig.customEvents,\n        filters: searchConfig.filters,\n        hits: searchConfig.hits,\n        impressions: searchConfig.impressions\n      };\n\n      metrics._request('PUT', metrics.index + \"/_analytics/search\", requestBody, null, captureQueryID);\n    }\n  }; // To register a click\n\n\n  metrics.click = function (clickConfig, callback) {\n    validateQuery(clickConfig.query, clickConfig.queryID);\n    validateClickObjects(clickConfig.objects); // just to avoid the flow type error\n\n    if (metrics._request) {\n      var requestBody = {\n        click_on: clickConfig.objects,\n        click_type: clickConfig.isSuggestionClick ? 'suggestion' : 'result',\n        query: clickConfig.query,\n        query_id: clickConfig.queryID,\n        custom_events: clickConfig.customEvents,\n        meta: clickConfig.meta\n      };\n\n      metrics._request('PUT', metrics.index + \"/_analytics/click\", requestBody, null, callback);\n    }\n  }; // To register a conversion\n\n\n  metrics.conversion = function (conversionConfig, callback) {\n    validateQuery(null, conversionConfig.queryID);\n    validateConversionObjects(conversionConfig.objects); // just to avoid the flow type error\n\n    if (metrics._request) {\n      var requestBody = {\n        conversion_on: conversionConfig.objects,\n        query_id: conversionConfig.queryID,\n        meta: conversionConfig.meta\n      };\n\n      metrics._request('PUT', metrics.index + \"/_analytics/conversion\", requestBody, null, callback);\n    }\n  }; // To save search\n\n\n  metrics.saveSearch = function (saveSearchConfig, callback) {\n    validateQueryID(saveSearchConfig.queryID);\n    var requestBody = {\n      query_id: saveSearchConfig.queryID,\n      save_search_id: saveSearchConfig.saveSearchID,\n      save_search_meta: saveSearchConfig.saveSearchMeta,\n      user_id: saveSearchConfig.userID,\n      custom_events: saveSearchConfig.customEvents\n    };\n\n    metrics._request('PUT', '_analytics/save-search', requestBody, null, callback);\n  }; // To delete save search\n\n\n  metrics.deleteSavedSearch = function (saveSearchId, callback) {\n    metrics._request('DELETE', '_analytics/save-search/' + saveSearchId, null, null, callback);\n  }; // To retrieve saved searches\n\n\n  metrics.getSavedSearches = function (filters, callback) {\n    // just to avoid the flow type error\n    if (metrics._request) {\n      metrics._request('GET', '_analytics/saved-searches', null, filters, callback);\n    }\n  }; // To record a favorite document\n\n\n  metrics.favorite = function (favoriteConfig, callback) {\n    validateQueryID(favoriteConfig.queryID);\n\n    if (!favoriteConfig.favoriteOn || favoriteConfig.favoriteOn === '') {\n      throw new Error('appbase-analytics: favoriteOn property is required');\n    }\n\n    if (!favoriteConfig.source) {\n      throw new Error('appbase-analytics: source property is required');\n    }\n\n    var requestBody = {\n      query_id: favoriteConfig.queryID,\n      favorite_on: favoriteConfig.favoriteOn,\n      source: favoriteConfig.source,\n      id: favoriteConfig.id,\n      meta: favoriteConfig.meta,\n      user_id: favoriteConfig.userID,\n      custom_events: favoriteConfig.customEvents\n    };\n\n    metrics._request('PUT', '_analytics/favorite', requestBody, null, callback);\n  }; // To retrieve favorites\n\n\n  metrics.getFavorites = function (filters, callback) {\n    // just to avoid the flow type error\n    if (metrics._request) {\n      metrics._request('GET', '_analytics/favorites', null, filters, callback);\n    }\n  }; // Sets the userID\n\n\n  metrics.setUserID = function (userID) {\n    metrics.userID = userID;\n  }; // Sets the global events\n\n\n  metrics.setGlobalCustomEvents = function (globalEvents) {\n    metrics.globalCustomEvents = globalEvents;\n  }; // Sets the headers\n\n\n  metrics.setHeaders = function (headers) {\n    metrics.headers = headers;\n  }; // get queryID\n\n\n  metrics.getQueryID = function () {\n    return metrics.queryID;\n  };\n\n  return metrics;\n}\n\nvar index = {\n  init: initClient\n};\n\nexport default index;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}