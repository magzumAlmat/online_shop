{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\amagzum\\\\Downloads\\\\22082021\\\\marioplan-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { SHOW_CART, ADD_ITEM, DELETE_ITEM, UPDATE_PRICE, DECREMENT_QTY } from '..//actions/types';\nconst initialState = {\n  isOpen: false,\n  cartItems: [],\n  totalPrice: 0,\n  qty: 0\n};\nexport default ((state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_CART:\n      return _objectSpread({}, state, {\n        isOpen: !state.isOpen\n      });\n\n    case ADD_ITEM:\n      const isAlreadyAdded = state.cartItems.find(product => product.id === action.payload.id);\n      if (!isAlreadyAdded) action.payload.qty = 1;\n      return _objectSpread({}, state, {\n        cartItems: !isAlreadyAdded ? [action.payload, ...state.cartItems] : state.cartItems.map(item => item.id === action.payload.id ? _objectSpread({}, item, {\n          qty: ++item.qty\n        }) : item)\n      });\n\n    case DELETE_ITEM:\n      return _objectSpread({}, state, {\n        cartItems: state.cartItems.filter(item => item.id !== action.payload)\n      });\n\n    case DECREMENT_QTY:\n      return _objectSpread({}, state, {\n        cartItems: state.cartItems.map(item => item.id === action.payload.id ? _objectSpread({}, item, {\n          qty: --item.qty\n        }) : item)\n      });\n\n    case UPDATE_PRICE:\n      return _objectSpread({}, state, {\n        totalPrice: state.cartItems.reduce((acc, val) => acc + val.qty * val.price, 0).toFixed(2)\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:\\Users\\amagzum\\Downloads\\22082021\\marioplan-master\\src\\store\\reducers\\cartReducer.js"],"names":["SHOW_CART","ADD_ITEM","DELETE_ITEM","UPDATE_PRICE","DECREMENT_QTY","initialState","isOpen","cartItems","totalPrice","qty","state","action","type","isAlreadyAdded","find","product","id","payload","map","item","filter","reduce","acc","val","price","toFixed"],"mappings":";AAAA,SACEA,SADF,EAEEC,QAFF,EAGEC,WAHF,EAIEC,YAJF,EAKEC,aALF,QAMO,mBANP;AAQA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE,KADW;AAEnBC,EAAAA,SAAS,EAAE,EAFQ;AAGnBC,EAAAA,UAAU,EAAE,CAHO;AAInBC,EAAAA,GAAG,EAAC;AAJe,CAArB;AAOA,gBAAe,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AAC/C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKZ,SAAL;AACE,+BACKU,KADL;AAEEJ,QAAAA,MAAM,EAAE,CAACI,KAAK,CAACJ;AAFjB;;AAIF,SAAKL,QAAL;AACE,YAAMY,cAAc,GAAGH,KAAK,CAACH,SAAN,CAAgBO,IAAhB,CACrBC,OAAO,IAAIA,OAAO,CAACC,EAAR,KAAeL,MAAM,CAACM,OAAP,CAAeD,EADpB,CAAvB;AAIA,UAAI,CAACH,cAAL,EAAqBF,MAAM,CAACM,OAAP,CAAeR,GAAf,GAAqB,CAArB;AAErB,+BACKC,KADL;AAEEH,QAAAA,SAAS,EAAE,CAACM,cAAD,GACP,CAACF,MAAM,CAACM,OAAR,EAAiB,GAAGP,KAAK,CAACH,SAA1B,CADO,GAEPG,KAAK,CAACH,SAAN,CAAgBW,GAAhB,CACEC,IAAI,IACFA,IAAI,CAACH,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,qBACSG,IADT;AACeV,UAAAA,GAAG,EAAE,EAAEU,IAAI,CAACV;AAD3B,aAEIU,IAJR;AAJN;;AAWF,SAAKjB,WAAL;AACE,+BACKQ,KADL;AAEEH,QAAAA,SAAS,EAAEG,KAAK,CAACH,SAAN,CAAgBa,MAAhB,CAAuBD,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYL,MAAM,CAACM,OAAlD;AAFb;;AAIF,SAAKb,aAAL;AACE,+BACKM,KADL;AAEEH,QAAAA,SAAS,EAAEG,KAAK,CAACH,SAAN,CAAgBW,GAAhB,CACTC,IAAI,IACFA,IAAI,CAACH,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,qBAAqCG,IAArC;AAA2CV,UAAAA,GAAG,EAAE,EAAEU,IAAI,CAACV;AAAvD,aAA+DU,IAFxD;AAFb;;AAOF,SAAKhB,YAAL;AACE,+BACKO,KADL;AAEEF,QAAAA,UAAU,EAAEE,KAAK,CAACH,SAAN,CACTc,MADS,CACF,CAACC,GAAD,EAAMC,GAAN,KAAcD,GAAG,GAAGC,GAAG,CAACd,GAAJ,GAAUc,GAAG,CAACC,KADhC,EACuC,CADvC,EAETC,OAFS,CAED,CAFC;AAFd;;AAMF;AACE,aAAOf,KAAP;AA7CJ;AA+CD,CAhDD","sourcesContent":["import {\n  SHOW_CART,\n  ADD_ITEM,\n  DELETE_ITEM,\n  UPDATE_PRICE,\n  DECREMENT_QTY\n} from '..//actions/types';\n\nconst initialState = {\n  isOpen: false,\n  cartItems: [],\n  totalPrice: 0,\n  qty:0\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_CART:\n      return {\n        ...state,\n        isOpen: !state.isOpen\n      };\n    case ADD_ITEM:\n      const isAlreadyAdded = state.cartItems.find(\n        product => product.id === action.payload.id\n      );\n     \n      if (!isAlreadyAdded) action.payload.qty = 1;\n\n      return {\n        ...state,\n        cartItems: !isAlreadyAdded\n          ? [action.payload, ...state.cartItems]\n          : state.cartItems.map(\n              item =>\n                item.id === action.payload.id\n                  ? { ...item, qty: ++item.qty }\n                  : item\n            )\n      };\n    case DELETE_ITEM:\n      return {\n        ...state,\n        cartItems: state.cartItems.filter(item => item.id !== action.payload)\n      };\n    case DECREMENT_QTY:\n      return {\n        ...state,\n        cartItems: state.cartItems.map(\n          item =>\n            item.id === action.payload.id ? { ...item, qty: --item.qty } : item\n        )\n      };\n    case UPDATE_PRICE:\n      return {\n        ...state,\n        totalPrice: state.cartItems\n          .reduce((acc, val) => acc + val.qty * val.price, 0)\n          .toFixed(2)\n      };\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}