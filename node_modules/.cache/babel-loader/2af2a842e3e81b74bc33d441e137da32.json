{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _Slider = require('@appbaseio/rheostat/lib/Slider');\n\nvar _Slider2 = _interopRequireDefault(_Slider);\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _dateFormats = require('@appbaseio/reactivecore/lib/utils/dateFormats');\n\nvar _dateFormats2 = _interopRequireDefault(_dateFormats);\n\nvar _propTypes = require('prop-types');\n\nvar _PreferencesConsumer = require('../basic/PreferencesConsumer');\n\nvar _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);\n\nvar _HistogramContainer = require('./addons/HistogramContainer');\n\nvar _HistogramContainer2 = _interopRequireDefault(_HistogramContainer);\n\nvar _RangeLabel = require('./addons/RangeLabel');\n\nvar _RangeLabel2 = _interopRequireDefault(_RangeLabel);\n\nvar _SliderHandle = require('./addons/SliderHandle');\n\nvar _SliderHandle2 = _interopRequireDefault(_SliderHandle);\n\nvar _Slider3 = require('../../styles/Slider');\n\nvar _Slider4 = _interopRequireDefault(_Slider3);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Label = require('../../styles/Label');\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/** @jsxRuntime classic */\n\n/** @jsx jsx */\n// the formatRange() function formats the range value received from props\n// when dealing with dates we are always storing\n// milliseconds value in the local state\n\n\nvar formatRange = function formatRange() {\n  var range = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var rangeArray = (0, _utils.getNumericRangeArray)(range, props.queryFormat);\n  return {\n    start: rangeArray[0],\n    end: rangeArray[1]\n  };\n};\n\nvar DynamicRangeSlider = function (_Component) {\n  _inherits(DynamicRangeSlider, _Component);\n\n  function DynamicRangeSlider(props) {\n    _classCallCheck(this, DynamicRangeSlider);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var queryFormat = props.queryFormat,\n        selectedValue = props.selectedValue;\n\n    if (queryFormat) {\n      if (!(0, _helper.isValidDateRangeQueryFormat)(queryFormat)) {\n        throw new Error('queryFormat is not supported. Try with a valid queryFormat.');\n      }\n    }\n\n    _this.state = {\n      currentValue: null,\n      range: null,\n      stats: []\n    };\n    _this._timestamp = new Date().getTime(); // Caution: Don't change the ids unnecessarily.\n    // If it's required then you need to update it in reactivecore(transform.js) too.\n\n    _this.internalHistogramComponent = _this.props.componentId + '__histogram__internal';\n    _this.internalRangeComponent = _this.props.componentId + '__range__internal';\n    _this.internalMatchAllComponent = _this.props.componentId + '__match_all__internal';\n    props.addComponent(props.componentId, _this._timestamp);\n    props.addComponent(_this.internalHistogramComponent, _this._timestamp);\n    props.addComponent(_this.internalRangeComponent, _this._timestamp);\n    props.setQueryListener(props.componentId, props.onQueryChange, null); // Update props in store\n\n    props.setComponentProps(props.componentId, props, _constants.componentTypes.dynamicRangeSlider);\n    props.setComponentProps(_this.internalHistogramComponent, props, _constants.componentTypes.dynamicRangeSlider);\n    props.setComponentProps(_this.internalRangeComponent, props, _constants.componentTypes.dynamicRangeSlider); // Set custom query in store\n\n    (0, _helper.updateCustomQuery)(props.componentId, props, _this.state.currentValue);\n\n    if (props.mockData) {\n      props.setTestData(_this.internalRangeComponent, props.mockData[_this.internalRangeComponent]);\n      props.setTestData(props.componentId, props.mockData[props.componentId]);\n    } else {\n      // get range before executing other queries\n      _this.updateRangeQueryOptions(props);\n    }\n\n    if (selectedValue) {\n      if (Array.isArray(selectedValue)) {\n        _this.state.currentValue = selectedValue;\n\n        _this.updateQuery(selectedValue, props);\n      } else {\n        _this.state.currentValue = DynamicRangeSlider.parseValue(selectedValue, props);\n\n        _this.updateQuery(DynamicRangeSlider.parseValue(selectedValue, props), props);\n      }\n    }\n\n    var mode = _this.props.mode;\n\n    if (mode !== 'test') {\n      _this.setReact(_this.props, false);\n    }\n\n    return _this;\n  }\n\n  DynamicRangeSlider.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    // Update the current value based on range to avoid the unnecessary API calls\n    if (!state.currentValue && props.range) {\n      var range = formatRange(props.range, props);\n\n      if (props.selectedValue) {\n        // selected value must be in limit\n        // we are using getNumericRangeArray() util method to get a numeric range array\n        // since the value from redux store can be a string\n        // as we have started using dateFormats\n        var selectedValueNumericArray = (0, _utils.getNumericRangeArray)({\n          start: props.selectedValue[0],\n          end: props.selectedValue[1]\n        });\n\n        if (selectedValueNumericArray[0] >= range.start && selectedValueNumericArray[1] <= range.end) {\n          return {\n            currentValue: null\n          };\n        }\n\n        return {\n          currentValue: [range.start, range.end]\n        };\n      } else if (!(0, _helper.isEqual)(state.currentValue, [range.start, range.end])) {\n        // Just set the value for visibility don't apply as query or filter\n        return {\n          currentValue: [range.start, range.end]\n        };\n      }\n    }\n\n    return null;\n  };\n\n  DynamicRangeSlider.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, (0, _utils.getValidPropsKeys)(this.props), function () {\n      _this2.props.updateComponentProps(_this2.props.componentId, _extends({}, _this2.props, _this2.props.range && !_this2.props.calendarInterval && _this2.props.queryFormat ? {\n        calendarInterval: (0, _helper.getCalendarIntervalErrorMessage)(formatRange(_this2.props.range, _this2.props).end - formatRange(_this2.props.range, _this2.props).start).calculatedCalendarInterval\n      } : {}), _constants.componentTypes.dynamicRangeSlider);\n\n      _this2.props.updateComponentProps(_this2.internalHistogramComponent, _this2.props, _constants.componentTypes.dynamicRangeSlider);\n\n      _this2.props.updateComponentProps(_this2.internalRangeComponent, _this2.props, _constants.componentTypes.dynamicRangeSlider);\n    });\n\n    if (!(0, _helper.isEqual)(this.props.range, prevProps.range) && this.props.range) {\n      // when range prop is changed\n      // it will happen due to initial mount (or) due to subscription\n      this.updateQueryOptions(this.props, this.props.range); // floor and ceil to take edge cases into account\n\n      this.updateRange(formatRange(this.props.range, this.props)); // only listen to selectedValue initially, after the\n      // component has mounted and range is received\n    } else if (this.props.range && !(0, _helper.isEqual)(this.props.value && this.props.value(this.props.range.start, this.props.range.end), prevProps.value && prevProps.value(this.props.range.start, this.props.range.end))) {\n      // when value prop is changed\n      var _props$value = this.props.value(this.props.range.start, this.props.range.end),\n          start = _props$value.start,\n          end = _props$value.end;\n\n      this.handleChange([start, end]);\n    } else if (!(0, _helper.isEqual)(this.state.currentValue, this.props.selectedValue) && !(0, _helper.isEqual)(this.props.selectedValue, prevProps.selectedValue)) {\n      var _props = this.props,\n          value = _props.value,\n          onChange = _props.onChange;\n\n      if (value === undefined) {\n        this.handleChange(this.props.selectedValue || null);\n      } else if (onChange) {\n        onChange(this.props.selectedValue || null);\n      } else {\n        this.handleChange(this.state.currentValue);\n      }\n    } else if (this.props.range && this.props.selectedValue === null && prevProps.selectedValue) {\n      // when the filter is reset\n      this.handleChange();\n    }\n\n    (0, _helper.checkPropChange)(this.props.react, prevProps.react, function () {\n      _this2.updateRangeQueryOptions(_this2.props);\n\n      _this2.setReact(_this2.props);\n    });\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'nestedField', 'aggregationSize'], function () {\n      _this2.updateRangeQueryOptions(_this2.props);\n    });\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['showHistogram', 'interval', 'calendarInterval'], function () {\n      return _this2.updateQueryOptions(_this2.props, _this2.props.range || _this2.state.range);\n    });\n    (0, _helper.checkPropChange)(this.props.options, prevProps.options, function () {\n      var options = _this2.props.options;\n      options.sort(function (a, b) {\n        if (a.key < b.key) return -1;\n        if (a.key > b.key) return 1;\n        return 0;\n      });\n\n      _this2.setState({\n        stats: options\n      });\n    });\n  };\n\n  DynamicRangeSlider.prototype.componentDidMount = function componentDidMount() {\n    var mode = this.props.mode;\n\n    if (mode !== 'test') {\n      this.setReact(this.props);\n    }\n  };\n\n  DynamicRangeSlider.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    var _this3 = this;\n\n    if (nextState.range) {\n      var upperLimit = Math.floor((nextState.range.end - nextState.range.start) / 2);\n\n      if (nextProps.stepValue < 1 || nextProps.stepValue > upperLimit) {\n        console.warn('stepValue for DynamicRangeSlider ' + nextProps.componentId + ' should be greater than 0 and less than or equal to ' + upperLimit);\n        return false;\n      } // when testing with playround, the queryformat knob changed the queryFormat prop\n      // which changed the value incase of date types but the local state didn't update\n      // this block of code takes care of updating the local value with optimized rerendering\n\n\n      (0, _helper.checkSomePropChange)(nextProps, this.props, ['queryFormat'], function () {\n        _this3.setState({\n          currentValue: [formatRange(nextProps.range, nextProps).start, formatRange(nextProps.range, nextProps).end],\n          range: formatRange(nextProps.range, nextProps)\n        });\n\n        _this3.updateRangeQueryOptions(nextProps); // stopping the rerender since setState call above would rerender anyway.\n\n\n        return false;\n      });\n      return true;\n    }\n\n    return true;\n  };\n\n  DynamicRangeSlider.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.removeComponent(this.props.componentId);\n    this.props.removeComponent(this.internalHistogramComponent);\n    this.props.removeComponent(this.internalRangeComponent);\n    this.props.removeComponent(this.internalMatchAllComponent);\n  }; // value parser for SSR\n\n\n  DynamicRangeSlider.prototype.renderHistogram = function renderHistogram() {\n    if (this.props.isLoading && this.props.loader) {\n      return this.props.loader;\n    }\n\n    if (this.state.stats.length && this.props.showHistogram) {\n      var rangeValue = this.state.range;\n      return (0, _core.jsx)(_HistogramContainer2.default, {\n        stats: this.state.stats,\n        range: rangeValue,\n        interval: this.getValidInterval(this.props, rangeValue)\n      });\n    }\n\n    return null;\n  };\n\n  DynamicRangeSlider.prototype.render = function render() {\n    var _this4 = this;\n\n    if (!this.state.currentValue || !this.state.range || this.props.range === null || this.props.range.start === null) {\n      return null;\n    }\n\n    var _getRangeLabels = this.getRangeLabels(),\n        startLabel = _getRangeLabels.startLabel,\n        endLabel = _getRangeLabels.endLabel;\n\n    return (0, _core.jsx)(_Slider4.default, {\n      primary: true,\n      style: this.props.style,\n      className: this.props.className\n    }, this.props.title && (0, _core.jsx)(_Title2.default, {\n      className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null\n    }, this.props.title), this.renderHistogram(), (0, _core.jsx)(_Slider2.default, {\n      min: this.state.range.start,\n      max: this.state.range.end,\n      values: this.state.currentValue,\n      onChange: this.handleSlider,\n      onValuesUpdated: this.handleDrag,\n      snap: this.props.snap,\n      snapPoints: this.props.snap ? this.getSnapPoints() : null,\n      className: (0, _helper.getClassName)(this.props.innerClass, 'slider'),\n      handle: function handle(_ref) {\n        var className = _ref.className,\n            style = _ref.style,\n            passProps = _objectWithoutProperties(_ref, ['className', 'style']);\n\n        return (0, _core.jsx)(_SliderHandle2.default, _extends({\n          style: style,\n          className: className\n        }, passProps, {\n          renderTooltipData: _this4.props.renderTooltipData,\n          tooltipTrigger: _this4.props.tooltipTrigger\n        }));\n      }\n    }), (0, _core.jsx)('div', {\n      css: _Label.rangeLabelsContainer\n    }, (0, _core.jsx)(_RangeLabel2.default, {\n      align: 'left',\n      className: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n    }, startLabel), (0, _core.jsx)(_RangeLabel2.default, {\n      align: 'right',\n      className: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n    }, endLabel)));\n  };\n\n  return DynamicRangeSlider;\n}(_react.Component);\n\nDynamicRangeSlider.parseValue = function (value, props) {\n  if (Array.isArray(value)) return value;\n  return value ? (0, _utils.getNumericRangeArray)({\n    start: value().start,\n    end: value().end\n  }, props.queryFormat) : null;\n};\n\nDynamicRangeSlider.defaultQuery = function (value, props) {\n  return {\n    query: {\n      queryFormat: props.queryFormat,\n      dataField: props.dataField,\n      value: value,\n      showMissing: props.showMissing\n    }\n  };\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.setReact = function (props) {\n    var shouldExecuteQuery = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var react = props.react;\n\n    if (react) {\n      props.watchComponent(_this5.internalRangeComponent, props.react, shouldExecuteQuery);\n      var newReact = (0, _helper.pushToAndClause)(react, _this5.internalHistogramComponent);\n      props.watchComponent(props.componentId, newReact, shouldExecuteQuery);\n    } else {\n      // internalRangeComponent watches internalMatchAll component allowing execution of query\n      // in case of no react prop\n      _this5.props.addComponent(_this5.internalMatchAllComponent, _this5._timestamp);\n\n      props.setQueryOptions(_this5.internalMatchAllComponent, {\n        aggs: {\n          match_all: {}\n        }\n      }, false);\n      props.watchComponent(_this5.internalRangeComponent, {\n        and: _this5.internalMatchAllComponent\n      }, shouldExecuteQuery);\n      props.watchComponent(props.componentId, {\n        and: _this5.internalHistogramComponent\n      }, shouldExecuteQuery);\n    }\n  };\n\n  this.getSnapPoints = function () {\n    var snapPoints = [];\n    var stepValue = _this5.props.stepValue;\n    var range = _this5.state.range; // limit the number of steps to prevent generating a large number of snapPoints\n\n    if ((range.end - range.start) / stepValue > 100) {\n      stepValue = (range.end - range.start) / 100;\n    }\n\n    for (var i = range.start; i <= range.end; i += stepValue) {\n      snapPoints = snapPoints.concat(i);\n    }\n\n    if (snapPoints[snapPoints.length - 1] !== range.end) {\n      snapPoints = snapPoints.concat(range.end);\n    }\n\n    return snapPoints;\n  };\n\n  this.getValidInterval = function (props, range) {\n    if ((0, _helper.isValidDateRangeQueryFormat)(props.queryFormat)) {\n      var calendarInterval = props.calendarInterval || (0, _helper.getCalendarIntervalErrorMessage)(range.end - range.start).calculatedCalendarInterval;\n      var numberOfIntervals = Math.ceil((range.end - range.start) / _helper.queryFormatMillisecondsMap[calendarInterval]);\n\n      if (numberOfIntervals > 100) {\n        console.error(props.componentId + ': ' + (0, _helper.getCalendarIntervalErrorMessage)(range.end - range.start, calendarInterval).errorMessage);\n      }\n\n      return _helper.queryFormatMillisecondsMap[calendarInterval];\n    }\n\n    var min = Math.ceil((range.end - range.start) / 100) || 1;\n\n    if (!props.interval) {\n      return min;\n    } else if (props.interval < min) {\n      console.error(props.componentId + ': interval prop\\'s value should be greater than or equal to ' + min);\n      return min;\n    }\n\n    return props.interval;\n  };\n\n  this.histogramQuery = function (props, range) {\n    var _query;\n\n    var query = (_query = {}, _query[props.dataField] = {\n      histogram: {\n        field: props.dataField,\n        interval: _this5.getValidInterval(props, range),\n        offset: range.start\n      }\n    }, _query);\n\n    if (props.nestedField) {\n      return {\n        inner: {\n          aggs: query,\n          nested: {\n            path: props.nestedField\n          }\n        }\n      };\n    }\n\n    return query;\n  };\n\n  this.rangeQuery = function (props) {\n    return {\n      min: {\n        min: {\n          field: props.dataField\n        }\n      },\n      max: {\n        max: {\n          field: props.dataField\n        }\n      }\n    };\n  };\n\n  this.handleChange = function (currentValue) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this5.props;\n    var normalizedValue = null;\n\n    if (currentValue) {\n      var start = currentValue[0],\n          end = currentValue[1]; // converting the received value params to numeric equivalent\n      // incase of date type, we convert them to milliseconds value always\n\n      var _getNumericRangeArray = (0, _utils.getNumericRangeArray)({\n        start: start,\n        end: end\n      }, props.queryFormat),\n          processedStart = _getNumericRangeArray[0],\n          processedEnd = _getNumericRangeArray[1];\n\n      if (props.range) {\n        // always keep the values within range\n        // props.range.start\n        // (props.queryFormat !== dateFormats.epoch_second ? 1 : 1000) is required\n        // since we need to convert the milliseconds value into seconds in case of epoch_second\n        normalizedValue = [processedStart < props.range.start ? props.range.start : processedStart, processedEnd > props.range.end ? props.range.end : processedEnd];\n\n        if (props.range.start === null) {\n          normalizedValue = [processedStart, processedEnd];\n        }\n      } else {\n        normalizedValue = [processedStart, processedEnd];\n      }\n    } // isValidDateRangeQueryFormat(props.queryFormat)\n    //    checks if date type is used\n    // props.queryFormat !== dateFormats.epoch_second\n    //    to avoid further division by 1000\n    // getRangeValueString(normalizedValue[0], props)\n    //    we store this string in redux store for representational purpose\n    // normalizedValue[0],\n    // default behaviour for numerics and dateFormats.epoch_second\n\n\n    var normalizedValues = normalizedValue ? [(0, _helper.isValidDateRangeQueryFormat)(props.queryFormat) ? (0, _utils.formatDateString)(normalizedValue[0]) : normalizedValue[0], (0, _helper.isValidDateRangeQueryFormat)(props.queryFormat) ? (0, _utils.formatDateString)(normalizedValue[1]) : normalizedValue[1]] : null;\n\n    var performUpdate = function performUpdate() {\n      _this5.setState({\n        currentValue: normalizedValue\n      }, function () {\n        // Only update the queries for dependent components when range is changed by input\n        _this5.updateQuery(normalizedValues, props);\n\n        if (props.onValueChange) props.onValueChange(normalizedValues);\n      });\n    };\n\n    (0, _helper.checkValueChange)(props.componentId, normalizedValues, props.beforeValueChange, performUpdate);\n  };\n\n  this.handleSlider = function (_ref2) {\n    var values = _ref2.values;\n\n    if (!(0, _helper.isEqual)(values, _this5.state.currentValue)) {\n      var _props2 = _this5.props,\n          value = _props2.value,\n          onChange = _props2.onChange;\n\n      if (value === undefined) {\n        _this5.handleChange(values);\n      } else if (onChange) {\n        onChange(values);\n      } else {\n        _this5.handleChange(values);\n      }\n    }\n  };\n\n  this.handleDrag = function (values) {\n    if (_this5.props.onDrag) {\n      var min = values.min,\n          max = values.max,\n          currentValue = values.values;\n\n      _this5.props.onDrag(currentValue, [min, max]);\n    }\n  };\n\n  this.updateQuery = function (value, props) {\n    var customQuery = props.customQuery;\n    var query = DynamicRangeSlider.defaultQuery(value, props);\n    var customQueryOptions = void 0;\n\n    if (customQuery) {\n      (0, _helper.updateCustomQuery)(props.componentId, props, value);\n    }\n\n    var showFilter = props.showFilter;\n    props.setQueryOptions(props.componentId, customQueryOptions, false);\n    props.updateQuery({\n      componentId: props.componentId,\n      query: query,\n      value: value,\n      label: props.filterLabel,\n      showFilter: showFilter,\n      URLParams: props.URLParams,\n      componentType: _constants.componentTypes.dynamicRangeSlider\n    });\n  };\n\n  this.updateQueryOptions = function (props, range) {\n    if (props.showHistogram) {\n      var queryOptions = {\n        aggs: _this5.histogramQuery(props, range)\n      };\n      var customQuery = props.customQuery;\n      var query = props.customQuery || DynamicRangeSlider.defaultQuery;\n      var value = [range.start, range.end];\n      var customQueryOptions = customQuery ? (0, _helper.getOptionsFromQuery)(customQuery(value, props)) : null;\n      props.setQueryOptions(_this5.internalHistogramComponent, _extends({}, queryOptions, customQueryOptions), false);\n      props.updateQuery({\n        componentId: _this5.internalHistogramComponent,\n        query: query(value, props),\n        value: value\n      });\n    }\n  };\n\n  this.updateRange = function (range) {\n    _this5.setState({\n      range: range\n    });\n  };\n\n  this.updateRangeQueryOptions = function (props) {\n    var queryOptions = {};\n    var nestedField = props.nestedField;\n\n    if (nestedField) {\n      var _aggs;\n\n      queryOptions = {\n        aggs: (_aggs = {}, _aggs[nestedField] = {\n          nested: {\n            path: nestedField\n          },\n          aggs: _this5.rangeQuery(props)\n        }, _aggs)\n      };\n    } else {\n      queryOptions = {\n        aggs: _this5.rangeQuery(props)\n      };\n    }\n\n    props.setQueryOptions(_this5.internalRangeComponent, queryOptions);\n  };\n\n  this.getRangeLabels = function () {\n    var _state$range = _this5.state.range,\n        startLabel = _state$range.start,\n        endLabel = _state$range.end;\n\n    if (_this5.props.rangeLabels) {\n      var rangeLabels = _this5.props.rangeLabels(_this5.props.range.start, _this5.props.range.end);\n\n      startLabel = rangeLabels.start;\n      endLabel = rangeLabels.end;\n      return {\n        startLabel: startLabel,\n        endLabel: endLabel\n      };\n    }\n\n    return {\n      // formatDateString gives value as string in the format 'yyyy-MM-dd'\n      startLabel: (0, _helper.isValidDateRangeQueryFormat)(_this5.props.queryFormat) ? (0, _utils.formatDateString)(startLabel) : startLabel,\n      endLabel: (0, _helper.isValidDateRangeQueryFormat)(_this5.props.queryFormat) ? (0, _utils.formatDateString)(endLabel) : endLabel\n    };\n  };\n};\n\nDynamicRangeSlider.propTypes = {\n  addComponent: _types2.default.funcRequired,\n  removeComponent: _types2.default.funcRequired,\n  setQueryListener: _types2.default.funcRequired,\n  setQueryOptions: _types2.default.funcRequired,\n  updateQuery: _types2.default.funcRequired,\n  watchComponent: _types2.default.funcRequired,\n  options: _types2.default.options,\n  range: _types2.default.range,\n  selectedValue: _types2.default.selectedValue,\n  setComponentProps: _types2.default.funcRequired,\n  updateComponentProps: _types2.default.funcRequired,\n  isLoading: _types2.default.bool,\n  setCustomQuery: _types2.default.funcRequired,\n  setTestData: _types2.default.funcRequired,\n  // component props\n  beforeValueChange: _types2.default.func,\n  className: _types2.default.string,\n  componentId: _types2.default.stringRequired,\n  customQuery: _types2.default.func,\n  dataField: _types2.default.stringRequired,\n  defaultValue: _types2.default.func,\n  value: _types2.default.func,\n  filterLabel: _types2.default.string,\n  innerClass: _types2.default.style,\n  interval: _types2.default.number,\n  loader: _types2.default.title,\n  nestedField: _types2.default.string,\n  onDrag: _types2.default.func,\n  onQueryChange: _types2.default.func,\n  onValueChange: _types2.default.func,\n  onChange: _types2.default.func,\n  rangeLabels: _types2.default.func,\n  react: _types2.default.react,\n  showHistogram: _types2.default.bool,\n  showFilter: _types2.default.bool,\n  tooltipTrigger: _types2.default.tooltipTrigger,\n  renderTooltipData: _types2.default.func,\n  snap: _types2.default.bool,\n  stepValue: _types2.default.number,\n  style: _types2.default.style,\n  title: _types2.default.title,\n  URLParams: _types2.default.bool,\n  includeNullValues: _types2.default.bool,\n  index: _types2.default.string,\n  queryFormat: (0, _propTypes.oneOf)([].concat(Object.keys(_dateFormats2.default))),\n  calendarInterval: _types2.default.calendarInterval,\n  mockData: _types2.default.any,\n  // eslint-disable-line\n  mode: _types2.default.string,\n  endpoint: _types2.default.endpoint\n};\nDynamicRangeSlider.defaultProps = {\n  className: null,\n  showHistogram: true,\n  tooltipTrigger: 'none',\n  snap: true,\n  stepValue: 1,\n  style: {},\n  URLParams: false,\n  showFilter: true,\n  includeNullValues: false\n}; // Add componentType for SSR\n\nDynamicRangeSlider.componentType = _constants.componentTypes.dynamicRangeSlider;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  var aggregation = state.aggregations[props.componentId];\n\n  if (props.nestedField) {\n    aggregation = state.aggregations[props.componentId] && state.aggregations[props.componentId].inner;\n  }\n\n  var options = aggregation && aggregation[props.dataField];\n  var range = state.aggregations[props.componentId + '__range__internal'];\n\n  if (props.nestedField) {\n    options = options && aggregation[props.dataField] && aggregation[props.dataField].buckets ? aggregation[props.dataField].buckets : [];\n    range = range && state.aggregations[props.componentId + '__range__internal'][props.nestedField].min ? {\n      start: state.aggregations[props.componentId + '__range__internal'][props.nestedField].min.value,\n      end: state.aggregations[props.componentId + '__range__internal'][props.nestedField].max.value // prettier-ignore\n\n    } : null;\n  } else {\n    options = options && aggregation[props.dataField].buckets ? aggregation[props.dataField].buckets : [];\n    range = range && state.aggregations[props.componentId + '__range__internal'].min ? {\n      start: state.aggregations[props.componentId + '__range__internal'].min.value,\n      end: state.aggregations[props.componentId + '__range__internal'].max.value // prettier-ignore\n\n    } : null;\n  }\n\n  if (range) {\n    range = formatRange(range); // eslint-disable-next-line no-restricted-globals\n\n    if (isNaN(range.start) && isNaN(range.end)) {\n      range = null;\n    }\n  }\n\n  return {\n    options: options,\n    isLoading: state.isLoading[props.componentId],\n    range: range,\n    selectedValue: state.selectedValues[props.componentId] ? state.selectedValues[props.componentId].value : null\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    setTestData: function setTestData(component, data) {\n      return dispatch((0, _actions.mockDataForTesting)(component, data));\n    },\n    setComponentProps: function setComponentProps(component, options, componentType) {\n      return dispatch((0, _actions.setComponentProps)(component, options, componentType));\n    },\n    setCustomQuery: function setCustomQuery(component, query) {\n      return dispatch((0, _actions.setCustomQuery)(component, query));\n    },\n    updateComponentProps: function updateComponentProps(component, options, componentType) {\n      return dispatch((0, _actions.updateComponentProps)(component, options, componentType));\n    },\n    addComponent: function addComponent(component, timestamp) {\n      return dispatch((0, _actions.addComponent)(component, timestamp));\n    },\n    removeComponent: function removeComponent(component) {\n      return dispatch((0, _actions.removeComponent)(component));\n    },\n    setQueryOptions: function setQueryOptions() {\n      return dispatch(_actions.setQueryOptions.apply(undefined, arguments));\n    },\n    setQueryListener: function setQueryListener(component, onQueryChange, beforeQueryChange) {\n      return dispatch((0, _actions.setQueryListener)(component, onQueryChange, beforeQueryChange));\n    },\n    updateQuery: function updateQuery(updateQueryObject, execute) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject, execute));\n    },\n    watchComponent: function watchComponent(component, react, shouldExecute) {\n      return dispatch((0, _actions.watchComponent)(component, react, shouldExecute));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n  return (0, _core.jsx)(DynamicRangeSlider, _extends({\n    ref: props.myForwardedRef\n  }, props));\n}); // eslint-disable-next-line\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n  return (0, _core.jsx)(_PreferencesConsumer2.default, {\n    userProps: props\n  }, function (preferenceProps) {\n    return (0, _core.jsx)(ConnectedComponent, _extends({}, preferenceProps, {\n      myForwardedRef: ref\n    }));\n  });\n});\n\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, DynamicRangeSlider);\nForwardRefComponent.displayName = 'DynamicRangeSlider';\nexports.default = ForwardRefComponent;","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_core","require","_react","_react2","_interopRequireDefault","_actions","_hoistNonReactStatics","_hoistNonReactStatics2","_helper","_types","_types2","_Slider","_Slider2","_constants","_dateFormats","_dateFormats2","_propTypes","_PreferencesConsumer","_PreferencesConsumer2","_HistogramContainer","_HistogramContainer2","_RangeLabel","_RangeLabel2","_SliderHandle","_SliderHandle2","_Slider3","_Slider4","_Title","_Title2","_Label","_utils","obj","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","formatRange","range","undefined","props","rangeArray","getNumericRangeArray","queryFormat","start","end","DynamicRangeSlider","_Component","_this","_initialiseProps","selectedValue","isValidDateRangeQueryFormat","Error","state","currentValue","stats","_timestamp","Date","getTime","internalHistogramComponent","componentId","internalRangeComponent","internalMatchAllComponent","addComponent","setQueryListener","onQueryChange","setComponentProps","componentTypes","dynamicRangeSlider","updateCustomQuery","mockData","setTestData","updateRangeQueryOptions","Array","isArray","updateQuery","parseValue","mode","setReact","getDerivedStateFromProps","selectedValueNumericArray","isEqual","componentDidUpdate","prevProps","_this2","checkSomePropChange","getValidPropsKeys","updateComponentProps","calendarInterval","getCalendarIntervalErrorMessage","calculatedCalendarInterval","updateQueryOptions","updateRange","_props$value","handleChange","_props","onChange","checkPropChange","react","options","sort","a","b","setState","componentDidMount","shouldComponentUpdate","nextProps","nextState","_this3","upperLimit","Math","floor","stepValue","console","warn","componentWillUnmount","removeComponent","renderHistogram","isLoading","loader","showHistogram","rangeValue","jsx","interval","getValidInterval","render","_this4","_getRangeLabels","getRangeLabels","startLabel","endLabel","primary","style","className","title","getClassName","innerClass","min","max","values","handleSlider","onValuesUpdated","handleDrag","snap","snapPoints","getSnapPoints","handle","_ref","passProps","renderTooltipData","tooltipTrigger","css","rangeLabelsContainer","align","Component","defaultQuery","query","dataField","showMissing","_this5","shouldExecuteQuery","watchComponent","newReact","pushToAndClause","setQueryOptions","aggs","match_all","and","concat","numberOfIntervals","ceil","queryFormatMillisecondsMap","error","errorMessage","histogramQuery","_query","histogram","field","offset","nestedField","inner","nested","path","rangeQuery","normalizedValue","_getNumericRangeArray","processedStart","processedEnd","normalizedValues","formatDateString","performUpdate","onValueChange","checkValueChange","beforeValueChange","_ref2","_props2","onDrag","customQuery","customQueryOptions","showFilter","label","filterLabel","URLParams","componentType","queryOptions","getOptionsFromQuery","_aggs","_state$range","rangeLabels","propTypes","funcRequired","bool","setCustomQuery","func","string","stringRequired","defaultValue","number","includeNullValues","index","oneOf","any","endpoint","defaultProps","mapStateToProps","aggregation","aggregations","buckets","isNaN","selectedValues","mapDispatchtoProps","dispatch","component","data","mockDataForTesting","timestamp","apply","beforeQueryChange","updateQueryObject","execute","shouldExecute","ConnectedComponent","connect","ref","myForwardedRef","ForwardRefComponent","forwardRef","userProps","preferenceProps","displayName"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/reactivesearch/lib/components/range/DynamicRangeSlider.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _Slider = require('@appbaseio/rheostat/lib/Slider');\n\nvar _Slider2 = _interopRequireDefault(_Slider);\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _dateFormats = require('@appbaseio/reactivecore/lib/utils/dateFormats');\n\nvar _dateFormats2 = _interopRequireDefault(_dateFormats);\n\nvar _propTypes = require('prop-types');\n\nvar _PreferencesConsumer = require('../basic/PreferencesConsumer');\n\nvar _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);\n\nvar _HistogramContainer = require('./addons/HistogramContainer');\n\nvar _HistogramContainer2 = _interopRequireDefault(_HistogramContainer);\n\nvar _RangeLabel = require('./addons/RangeLabel');\n\nvar _RangeLabel2 = _interopRequireDefault(_RangeLabel);\n\nvar _SliderHandle = require('./addons/SliderHandle');\n\nvar _SliderHandle2 = _interopRequireDefault(_SliderHandle);\n\nvar _Slider3 = require('../../styles/Slider');\n\nvar _Slider4 = _interopRequireDefault(_Slider3);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Label = require('../../styles/Label');\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /** @jsxRuntime classic */\n/** @jsx jsx */\n\n\n// the formatRange() function formats the range value received from props\n// when dealing with dates we are always storing\n// milliseconds value in the local state\nvar formatRange = function formatRange() {\n\tvar range = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tvar rangeArray = (0, _utils.getNumericRangeArray)(range, props.queryFormat);\n\treturn {\n\t\tstart: rangeArray[0],\n\t\tend: rangeArray[1]\n\t};\n};\n\nvar DynamicRangeSlider = function (_Component) {\n\t_inherits(DynamicRangeSlider, _Component);\n\n\tfunction DynamicRangeSlider(props) {\n\t\t_classCallCheck(this, DynamicRangeSlider);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\tvar queryFormat = props.queryFormat,\n\t\t    selectedValue = props.selectedValue;\n\n\t\tif (queryFormat) {\n\t\t\tif (!(0, _helper.isValidDateRangeQueryFormat)(queryFormat)) {\n\t\t\t\tthrow new Error('queryFormat is not supported. Try with a valid queryFormat.');\n\t\t\t}\n\t\t}\n\n\t\t_this.state = {\n\t\t\tcurrentValue: null,\n\t\t\trange: null,\n\t\t\tstats: []\n\t\t};\n\t\t_this._timestamp = new Date().getTime();\n\t\t// Caution: Don't change the ids unnecessarily.\n\t\t// If it's required then you need to update it in reactivecore(transform.js) too.\n\t\t_this.internalHistogramComponent = _this.props.componentId + '__histogram__internal';\n\t\t_this.internalRangeComponent = _this.props.componentId + '__range__internal';\n\t\t_this.internalMatchAllComponent = _this.props.componentId + '__match_all__internal';\n\n\t\tprops.addComponent(props.componentId, _this._timestamp);\n\t\tprops.addComponent(_this.internalHistogramComponent, _this._timestamp);\n\t\tprops.addComponent(_this.internalRangeComponent, _this._timestamp);\n\t\tprops.setQueryListener(props.componentId, props.onQueryChange, null);\n\t\t// Update props in store\n\t\tprops.setComponentProps(props.componentId, props, _constants.componentTypes.dynamicRangeSlider);\n\t\tprops.setComponentProps(_this.internalHistogramComponent, props, _constants.componentTypes.dynamicRangeSlider);\n\t\tprops.setComponentProps(_this.internalRangeComponent, props, _constants.componentTypes.dynamicRangeSlider);\n\t\t// Set custom query in store\n\t\t(0, _helper.updateCustomQuery)(props.componentId, props, _this.state.currentValue);\n\t\tif (props.mockData) {\n\t\t\tprops.setTestData(_this.internalRangeComponent, props.mockData[_this.internalRangeComponent]);\n\t\t\tprops.setTestData(props.componentId, props.mockData[props.componentId]);\n\t\t} else {\n\t\t\t// get range before executing other queries\n\t\t\t_this.updateRangeQueryOptions(props);\n\t\t}\n\t\tif (selectedValue) {\n\t\t\tif (Array.isArray(selectedValue)) {\n\t\t\t\t_this.state.currentValue = selectedValue;\n\t\t\t\t_this.updateQuery(selectedValue, props);\n\t\t\t} else {\n\t\t\t\t_this.state.currentValue = DynamicRangeSlider.parseValue(selectedValue, props);\n\t\t\t\t_this.updateQuery(DynamicRangeSlider.parseValue(selectedValue, props), props);\n\t\t\t}\n\t\t}\n\n\t\tvar mode = _this.props.mode;\n\n\t\tif (mode !== 'test') {\n\t\t\t_this.setReact(_this.props, false);\n\t\t}\n\t\treturn _this;\n\t}\n\n\tDynamicRangeSlider.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n\t\t// Update the current value based on range to avoid the unnecessary API calls\n\t\tif (!state.currentValue && props.range) {\n\t\t\tvar range = formatRange(props.range, props);\n\t\t\tif (props.selectedValue) {\n\t\t\t\t// selected value must be in limit\n\t\t\t\t// we are using getNumericRangeArray() util method to get a numeric range array\n\t\t\t\t// since the value from redux store can be a string\n\t\t\t\t// as we have started using dateFormats\n\t\t\t\tvar selectedValueNumericArray = (0, _utils.getNumericRangeArray)({\n\t\t\t\t\tstart: props.selectedValue[0],\n\t\t\t\t\tend: props.selectedValue[1]\n\t\t\t\t});\n\t\t\t\tif (selectedValueNumericArray[0] >= range.start && selectedValueNumericArray[1] <= range.end) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcurrentValue: null\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tcurrentValue: [range.start, range.end]\n\t\t\t\t};\n\t\t\t} else if (!(0, _helper.isEqual)(state.currentValue, [range.start, range.end])) {\n\t\t\t\t// Just set the value for visibility don't apply as query or filter\n\t\t\t\treturn {\n\t\t\t\t\tcurrentValue: [range.start, range.end]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\n\tDynamicRangeSlider.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, (0, _utils.getValidPropsKeys)(this.props), function () {\n\t\t\t_this2.props.updateComponentProps(_this2.props.componentId, _extends({}, _this2.props, _this2.props.range && !_this2.props.calendarInterval && _this2.props.queryFormat ? {\n\t\t\t\tcalendarInterval: (0, _helper.getCalendarIntervalErrorMessage)(formatRange(_this2.props.range, _this2.props).end - formatRange(_this2.props.range, _this2.props).start).calculatedCalendarInterval\n\t\t\t} : {}), _constants.componentTypes.dynamicRangeSlider);\n\t\t\t_this2.props.updateComponentProps(_this2.internalHistogramComponent, _this2.props, _constants.componentTypes.dynamicRangeSlider);\n\t\t\t_this2.props.updateComponentProps(_this2.internalRangeComponent, _this2.props, _constants.componentTypes.dynamicRangeSlider);\n\t\t});\n\t\tif (!(0, _helper.isEqual)(this.props.range, prevProps.range) && this.props.range) {\n\t\t\t// when range prop is changed\n\t\t\t// it will happen due to initial mount (or) due to subscription\n\t\t\tthis.updateQueryOptions(this.props, this.props.range);\n\t\t\t// floor and ceil to take edge cases into account\n\t\t\tthis.updateRange(formatRange(this.props.range, this.props));\n\t\t\t// only listen to selectedValue initially, after the\n\t\t\t// component has mounted and range is received\n\t\t} else if (this.props.range && !(0, _helper.isEqual)(this.props.value && this.props.value(this.props.range.start, this.props.range.end), prevProps.value && prevProps.value(this.props.range.start, this.props.range.end))) {\n\t\t\t// when value prop is changed\n\t\t\tvar _props$value = this.props.value(this.props.range.start, this.props.range.end),\n\t\t\t    start = _props$value.start,\n\t\t\t    end = _props$value.end;\n\n\t\t\tthis.handleChange([start, end]);\n\t\t} else if (!(0, _helper.isEqual)(this.state.currentValue, this.props.selectedValue) && !(0, _helper.isEqual)(this.props.selectedValue, prevProps.selectedValue)) {\n\t\t\tvar _props = this.props,\n\t\t\t    value = _props.value,\n\t\t\t    onChange = _props.onChange;\n\n\t\t\tif (value === undefined) {\n\t\t\t\tthis.handleChange(this.props.selectedValue || null);\n\t\t\t} else if (onChange) {\n\t\t\t\tonChange(this.props.selectedValue || null);\n\t\t\t} else {\n\t\t\t\tthis.handleChange(this.state.currentValue);\n\t\t\t}\n\t\t} else if (this.props.range && this.props.selectedValue === null && prevProps.selectedValue) {\n\t\t\t// when the filter is reset\n\t\t\tthis.handleChange();\n\t\t}\n\n\t\t(0, _helper.checkPropChange)(this.props.react, prevProps.react, function () {\n\t\t\t_this2.updateRangeQueryOptions(_this2.props);\n\t\t\t_this2.setReact(_this2.props);\n\t\t});\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'nestedField', 'aggregationSize'], function () {\n\t\t\t_this2.updateRangeQueryOptions(_this2.props);\n\t\t});\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['showHistogram', 'interval', 'calendarInterval'], function () {\n\t\t\treturn _this2.updateQueryOptions(_this2.props, _this2.props.range || _this2.state.range);\n\t\t});\n\n\t\t(0, _helper.checkPropChange)(this.props.options, prevProps.options, function () {\n\t\t\tvar options = _this2.props.options;\n\n\t\t\toptions.sort(function (a, b) {\n\t\t\t\tif (a.key < b.key) return -1;\n\t\t\t\tif (a.key > b.key) return 1;\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t\t_this2.setState({\n\t\t\t\tstats: options\n\t\t\t});\n\t\t});\n\t};\n\n\tDynamicRangeSlider.prototype.componentDidMount = function componentDidMount() {\n\t\tvar mode = this.props.mode;\n\n\t\tif (mode !== 'test') {\n\t\t\tthis.setReact(this.props);\n\t\t}\n\t};\n\n\tDynamicRangeSlider.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n\t\tvar _this3 = this;\n\n\t\tif (nextState.range) {\n\t\t\tvar upperLimit = Math.floor((nextState.range.end - nextState.range.start) / 2);\n\t\t\tif (nextProps.stepValue < 1 || nextProps.stepValue > upperLimit) {\n\t\t\t\tconsole.warn('stepValue for DynamicRangeSlider ' + nextProps.componentId + ' should be greater than 0 and less than or equal to ' + upperLimit);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// when testing with playround, the queryformat knob changed the queryFormat prop\n\t\t\t// which changed the value incase of date types but the local state didn't update\n\t\t\t// this block of code takes care of updating the local value with optimized rerendering\n\t\t\t(0, _helper.checkSomePropChange)(nextProps, this.props, ['queryFormat'], function () {\n\t\t\t\t_this3.setState({\n\t\t\t\t\tcurrentValue: [formatRange(nextProps.range, nextProps).start, formatRange(nextProps.range, nextProps).end],\n\t\t\t\t\trange: formatRange(nextProps.range, nextProps)\n\t\t\t\t});\n\t\t\t\t_this3.updateRangeQueryOptions(nextProps);\n\n\t\t\t\t// stopping the rerender since setState call above would rerender anyway.\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\t\treturn true;\n\t};\n\n\tDynamicRangeSlider.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\tthis.props.removeComponent(this.props.componentId);\n\t\tthis.props.removeComponent(this.internalHistogramComponent);\n\t\tthis.props.removeComponent(this.internalRangeComponent);\n\t\tthis.props.removeComponent(this.internalMatchAllComponent);\n\t};\n\n\t// value parser for SSR\n\n\n\tDynamicRangeSlider.prototype.renderHistogram = function renderHistogram() {\n\t\tif (this.props.isLoading && this.props.loader) {\n\t\t\treturn this.props.loader;\n\t\t}\n\t\tif (this.state.stats.length && this.props.showHistogram) {\n\t\t\tvar rangeValue = this.state.range;\n\t\t\treturn (0, _core.jsx)(_HistogramContainer2.default, {\n\t\t\t\tstats: this.state.stats,\n\t\t\t\trange: rangeValue,\n\t\t\t\tinterval: this.getValidInterval(this.props, rangeValue)\n\t\t\t});\n\t\t}\n\t\treturn null;\n\t};\n\n\tDynamicRangeSlider.prototype.render = function render() {\n\t\tvar _this4 = this;\n\n\t\tif (!this.state.currentValue || !this.state.range || this.props.range === null || this.props.range.start === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar _getRangeLabels = this.getRangeLabels(),\n\t\t    startLabel = _getRangeLabels.startLabel,\n\t\t    endLabel = _getRangeLabels.endLabel;\n\n\t\treturn (0, _core.jsx)(\n\t\t\t_Slider4.default,\n\t\t\t{ primary: true, style: this.props.style, className: this.props.className },\n\t\t\tthis.props.title && (0, _core.jsx)(\n\t\t\t\t_Title2.default,\n\t\t\t\t{ className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null },\n\t\t\t\tthis.props.title\n\t\t\t),\n\t\t\tthis.renderHistogram(),\n\t\t\t(0, _core.jsx)(_Slider2.default, {\n\t\t\t\tmin: this.state.range.start,\n\t\t\t\tmax: this.state.range.end,\n\t\t\t\tvalues: this.state.currentValue,\n\t\t\t\tonChange: this.handleSlider,\n\t\t\t\tonValuesUpdated: this.handleDrag,\n\t\t\t\tsnap: this.props.snap,\n\t\t\t\tsnapPoints: this.props.snap ? this.getSnapPoints() : null,\n\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'slider'),\n\t\t\t\thandle: function handle(_ref) {\n\t\t\t\t\tvar className = _ref.className,\n\t\t\t\t\t    style = _ref.style,\n\t\t\t\t\t    passProps = _objectWithoutProperties(_ref, ['className', 'style']);\n\n\t\t\t\t\treturn (0, _core.jsx)(_SliderHandle2.default, _extends({\n\t\t\t\t\t\tstyle: style,\n\t\t\t\t\t\tclassName: className\n\t\t\t\t\t}, passProps, {\n\t\t\t\t\t\trenderTooltipData: _this4.props.renderTooltipData,\n\t\t\t\t\t\ttooltipTrigger: _this4.props.tooltipTrigger\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}),\n\t\t\t(0, _core.jsx)(\n\t\t\t\t'div',\n\t\t\t\t{ css: _Label.rangeLabelsContainer },\n\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t_RangeLabel2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\talign: 'left',\n\t\t\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n\t\t\t\t\t},\n\t\t\t\t\tstartLabel\n\t\t\t\t),\n\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t_RangeLabel2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\talign: 'right',\n\t\t\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'label') || null\n\t\t\t\t\t},\n\t\t\t\t\tendLabel\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\treturn DynamicRangeSlider;\n}(_react.Component);\n\nDynamicRangeSlider.parseValue = function (value, props) {\n\tif (Array.isArray(value)) return value;\n\treturn value ? (0, _utils.getNumericRangeArray)({ start: value().start, end: value().end }, props.queryFormat) : null;\n};\n\nDynamicRangeSlider.defaultQuery = function (value, props) {\n\treturn {\n\t\tquery: {\n\t\t\tqueryFormat: props.queryFormat,\n\t\t\tdataField: props.dataField,\n\t\t\tvalue: value,\n\t\t\tshowMissing: props.showMissing\n\t\t}\n\t};\n};\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this5 = this;\n\n\tthis.setReact = function (props) {\n\t\tvar shouldExecuteQuery = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\tvar react = props.react;\n\n\t\tif (react) {\n\t\t\tprops.watchComponent(_this5.internalRangeComponent, props.react, shouldExecuteQuery);\n\t\t\tvar newReact = (0, _helper.pushToAndClause)(react, _this5.internalHistogramComponent);\n\t\t\tprops.watchComponent(props.componentId, newReact, shouldExecuteQuery);\n\t\t} else {\n\t\t\t// internalRangeComponent watches internalMatchAll component allowing execution of query\n\t\t\t// in case of no react prop\n\t\t\t_this5.props.addComponent(_this5.internalMatchAllComponent, _this5._timestamp);\n\t\t\tprops.setQueryOptions(_this5.internalMatchAllComponent, { aggs: { match_all: {} } }, false);\n\t\t\tprops.watchComponent(_this5.internalRangeComponent, {\n\t\t\t\tand: _this5.internalMatchAllComponent\n\t\t\t}, shouldExecuteQuery);\n\t\t\tprops.watchComponent(props.componentId, {\n\t\t\t\tand: _this5.internalHistogramComponent\n\t\t\t}, shouldExecuteQuery);\n\t\t}\n\t};\n\n\tthis.getSnapPoints = function () {\n\t\tvar snapPoints = [];\n\t\tvar stepValue = _this5.props.stepValue;\n\t\tvar range = _this5.state.range;\n\n\t\t// limit the number of steps to prevent generating a large number of snapPoints\n\n\t\tif ((range.end - range.start) / stepValue > 100) {\n\t\t\tstepValue = (range.end - range.start) / 100;\n\t\t}\n\n\t\tfor (var i = range.start; i <= range.end; i += stepValue) {\n\t\t\tsnapPoints = snapPoints.concat(i);\n\t\t}\n\t\tif (snapPoints[snapPoints.length - 1] !== range.end) {\n\t\t\tsnapPoints = snapPoints.concat(range.end);\n\t\t}\n\t\treturn snapPoints;\n\t};\n\n\tthis.getValidInterval = function (props, range) {\n\t\tif ((0, _helper.isValidDateRangeQueryFormat)(props.queryFormat)) {\n\t\t\tvar calendarInterval = props.calendarInterval || (0, _helper.getCalendarIntervalErrorMessage)(range.end - range.start).calculatedCalendarInterval;\n\t\t\tvar numberOfIntervals = Math.ceil((range.end - range.start) / _helper.queryFormatMillisecondsMap[calendarInterval]);\n\t\t\tif (numberOfIntervals > 100) {\n\t\t\t\tconsole.error(props.componentId + ': ' + (0, _helper.getCalendarIntervalErrorMessage)(range.end - range.start, calendarInterval).errorMessage);\n\t\t\t}\n\t\t\treturn _helper.queryFormatMillisecondsMap[calendarInterval];\n\t\t}\n\n\t\tvar min = Math.ceil((range.end - range.start) / 100) || 1;\n\t\tif (!props.interval) {\n\t\t\treturn min;\n\t\t} else if (props.interval < min) {\n\t\t\tconsole.error(props.componentId + ': interval prop\\'s value should be greater than or equal to ' + min);\n\t\t\treturn min;\n\t\t}\n\t\treturn props.interval;\n\t};\n\n\tthis.histogramQuery = function (props, range) {\n\t\tvar _query;\n\n\t\tvar query = (_query = {}, _query[props.dataField] = {\n\t\t\thistogram: {\n\t\t\t\tfield: props.dataField,\n\t\t\t\tinterval: _this5.getValidInterval(props, range),\n\t\t\t\toffset: range.start\n\t\t\t}\n\t\t}, _query);\n\t\tif (props.nestedField) {\n\t\t\treturn {\n\t\t\t\tinner: {\n\t\t\t\t\taggs: query,\n\t\t\t\t\tnested: {\n\t\t\t\t\t\tpath: props.nestedField\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\treturn query;\n\t};\n\n\tthis.rangeQuery = function (props) {\n\t\treturn {\n\t\t\tmin: { min: { field: props.dataField } },\n\t\t\tmax: { max: { field: props.dataField } }\n\t\t};\n\t};\n\n\tthis.handleChange = function (currentValue) {\n\t\tvar props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this5.props;\n\n\t\tvar normalizedValue = null;\n\t\tif (currentValue) {\n\t\t\tvar start = currentValue[0],\n\t\t\t    end = currentValue[1];\n\t\t\t// converting the received value params to numeric equivalent\n\t\t\t// incase of date type, we convert them to milliseconds value always\n\n\t\t\tvar _getNumericRangeArray = (0, _utils.getNumericRangeArray)({ start: start, end: end }, props.queryFormat),\n\t\t\t    processedStart = _getNumericRangeArray[0],\n\t\t\t    processedEnd = _getNumericRangeArray[1];\n\n\t\t\tif (props.range) {\n\t\t\t\t// always keep the values within range\n\t\t\t\t// props.range.start\n\t\t\t\t// (props.queryFormat !== dateFormats.epoch_second ? 1 : 1000) is required\n\t\t\t\t// since we need to convert the milliseconds value into seconds in case of epoch_second\n\t\t\t\tnormalizedValue = [processedStart < props.range.start ? props.range.start : processedStart, processedEnd > props.range.end ? props.range.end : processedEnd];\n\t\t\t\tif (props.range.start === null) {\n\t\t\t\t\tnormalizedValue = [processedStart, processedEnd];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnormalizedValue = [processedStart, processedEnd];\n\t\t\t}\n\t\t}\n\n\t\t// isValidDateRangeQueryFormat(props.queryFormat)\n\t\t//    checks if date type is used\n\t\t// props.queryFormat !== dateFormats.epoch_second\n\t\t//    to avoid further division by 1000\n\t\t// getRangeValueString(normalizedValue[0], props)\n\t\t//    we store this string in redux store for representational purpose\n\t\t// normalizedValue[0],\n\t\t// default behaviour for numerics and dateFormats.epoch_second\n\t\tvar normalizedValues = normalizedValue ? [(0, _helper.isValidDateRangeQueryFormat)(props.queryFormat) ? (0, _utils.formatDateString)(normalizedValue[0]) : normalizedValue[0], (0, _helper.isValidDateRangeQueryFormat)(props.queryFormat) ? (0, _utils.formatDateString)(normalizedValue[1]) : normalizedValue[1]] : null;\n\t\tvar performUpdate = function performUpdate() {\n\t\t\t_this5.setState({\n\t\t\t\tcurrentValue: normalizedValue\n\t\t\t}, function () {\n\t\t\t\t// Only update the queries for dependent components when range is changed by input\n\t\t\t\t_this5.updateQuery(normalizedValues, props);\n\t\t\t\tif (props.onValueChange) props.onValueChange(normalizedValues);\n\t\t\t});\n\t\t};\n\t\t(0, _helper.checkValueChange)(props.componentId, normalizedValues, props.beforeValueChange, performUpdate);\n\t};\n\n\tthis.handleSlider = function (_ref2) {\n\t\tvar values = _ref2.values;\n\n\t\tif (!(0, _helper.isEqual)(values, _this5.state.currentValue)) {\n\t\t\tvar _props2 = _this5.props,\n\t\t\t    value = _props2.value,\n\t\t\t    onChange = _props2.onChange;\n\n\t\t\tif (value === undefined) {\n\t\t\t\t_this5.handleChange(values);\n\t\t\t} else if (onChange) {\n\t\t\t\tonChange(values);\n\t\t\t} else {\n\t\t\t\t_this5.handleChange(values);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.handleDrag = function (values) {\n\t\tif (_this5.props.onDrag) {\n\t\t\tvar min = values.min,\n\t\t\t    max = values.max,\n\t\t\t    currentValue = values.values;\n\n\t\t\t_this5.props.onDrag(currentValue, [min, max]);\n\t\t}\n\t};\n\n\tthis.updateQuery = function (value, props) {\n\t\tvar customQuery = props.customQuery;\n\n\t\tvar query = DynamicRangeSlider.defaultQuery(value, props);\n\t\tvar customQueryOptions = void 0;\n\t\tif (customQuery) {\n\t\t\t(0, _helper.updateCustomQuery)(props.componentId, props, value);\n\t\t}\n\t\tvar showFilter = props.showFilter;\n\n\t\tprops.setQueryOptions(props.componentId, customQueryOptions, false);\n\n\t\tprops.updateQuery({\n\t\t\tcomponentId: props.componentId,\n\t\t\tquery: query,\n\t\t\tvalue: value,\n\t\t\tlabel: props.filterLabel,\n\t\t\tshowFilter: showFilter,\n\t\t\tURLParams: props.URLParams,\n\t\t\tcomponentType: _constants.componentTypes.dynamicRangeSlider\n\t\t});\n\t};\n\n\tthis.updateQueryOptions = function (props, range) {\n\t\tif (props.showHistogram) {\n\t\t\tvar queryOptions = {\n\t\t\t\taggs: _this5.histogramQuery(props, range)\n\t\t\t};\n\t\t\tvar customQuery = props.customQuery;\n\n\n\t\t\tvar query = props.customQuery || DynamicRangeSlider.defaultQuery;\n\t\t\tvar value = [range.start, range.end];\n\t\t\tvar customQueryOptions = customQuery ? (0, _helper.getOptionsFromQuery)(customQuery(value, props)) : null;\n\t\t\tprops.setQueryOptions(_this5.internalHistogramComponent, _extends({}, queryOptions, customQueryOptions), false);\n\t\t\tprops.updateQuery({\n\t\t\t\tcomponentId: _this5.internalHistogramComponent,\n\t\t\t\tquery: query(value, props),\n\t\t\t\tvalue: value\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.updateRange = function (range) {\n\t\t_this5.setState({\n\t\t\trange: range\n\t\t});\n\t};\n\n\tthis.updateRangeQueryOptions = function (props) {\n\t\tvar queryOptions = {};\n\t\tvar nestedField = props.nestedField;\n\n\t\tif (nestedField) {\n\t\t\tvar _aggs;\n\n\t\t\tqueryOptions = {\n\t\t\t\taggs: (_aggs = {}, _aggs[nestedField] = {\n\t\t\t\t\tnested: {\n\t\t\t\t\t\tpath: nestedField\n\t\t\t\t\t},\n\t\t\t\t\taggs: _this5.rangeQuery(props)\n\t\t\t\t}, _aggs)\n\t\t\t};\n\t\t} else {\n\t\t\tqueryOptions = {\n\t\t\t\taggs: _this5.rangeQuery(props)\n\t\t\t};\n\t\t}\n\n\t\tprops.setQueryOptions(_this5.internalRangeComponent, queryOptions);\n\t};\n\n\tthis.getRangeLabels = function () {\n\t\tvar _state$range = _this5.state.range,\n\t\t    startLabel = _state$range.start,\n\t\t    endLabel = _state$range.end;\n\n\t\tif (_this5.props.rangeLabels) {\n\t\t\tvar rangeLabels = _this5.props.rangeLabels(_this5.props.range.start, _this5.props.range.end);\n\t\t\tstartLabel = rangeLabels.start;\n\t\t\tendLabel = rangeLabels.end;\n\n\t\t\treturn {\n\t\t\t\tstartLabel: startLabel,\n\t\t\t\tendLabel: endLabel\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t// formatDateString gives value as string in the format 'yyyy-MM-dd'\n\t\t\tstartLabel: (0, _helper.isValidDateRangeQueryFormat)(_this5.props.queryFormat) ? (0, _utils.formatDateString)(startLabel) : startLabel,\n\t\t\tendLabel: (0, _helper.isValidDateRangeQueryFormat)(_this5.props.queryFormat) ? (0, _utils.formatDateString)(endLabel) : endLabel\n\t\t};\n\t};\n};\n\nDynamicRangeSlider.propTypes = {\n\taddComponent: _types2.default.funcRequired,\n\tremoveComponent: _types2.default.funcRequired,\n\tsetQueryListener: _types2.default.funcRequired,\n\tsetQueryOptions: _types2.default.funcRequired,\n\tupdateQuery: _types2.default.funcRequired,\n\twatchComponent: _types2.default.funcRequired,\n\toptions: _types2.default.options,\n\trange: _types2.default.range,\n\tselectedValue: _types2.default.selectedValue,\n\tsetComponentProps: _types2.default.funcRequired,\n\tupdateComponentProps: _types2.default.funcRequired,\n\tisLoading: _types2.default.bool,\n\tsetCustomQuery: _types2.default.funcRequired,\n\tsetTestData: _types2.default.funcRequired,\n\t// component props\n\tbeforeValueChange: _types2.default.func,\n\tclassName: _types2.default.string,\n\tcomponentId: _types2.default.stringRequired,\n\tcustomQuery: _types2.default.func,\n\tdataField: _types2.default.stringRequired,\n\tdefaultValue: _types2.default.func,\n\tvalue: _types2.default.func,\n\tfilterLabel: _types2.default.string,\n\tinnerClass: _types2.default.style,\n\tinterval: _types2.default.number,\n\tloader: _types2.default.title,\n\tnestedField: _types2.default.string,\n\tonDrag: _types2.default.func,\n\tonQueryChange: _types2.default.func,\n\tonValueChange: _types2.default.func,\n\tonChange: _types2.default.func,\n\trangeLabels: _types2.default.func,\n\treact: _types2.default.react,\n\tshowHistogram: _types2.default.bool,\n\tshowFilter: _types2.default.bool,\n\ttooltipTrigger: _types2.default.tooltipTrigger,\n\trenderTooltipData: _types2.default.func,\n\tsnap: _types2.default.bool,\n\tstepValue: _types2.default.number,\n\tstyle: _types2.default.style,\n\ttitle: _types2.default.title,\n\tURLParams: _types2.default.bool,\n\tincludeNullValues: _types2.default.bool,\n\tindex: _types2.default.string,\n\tqueryFormat: (0, _propTypes.oneOf)([].concat(Object.keys(_dateFormats2.default))),\n\tcalendarInterval: _types2.default.calendarInterval,\n\tmockData: _types2.default.any, // eslint-disable-line\n\tmode: _types2.default.string,\n\tendpoint: _types2.default.endpoint\n};\n\nDynamicRangeSlider.defaultProps = {\n\tclassName: null,\n\tshowHistogram: true,\n\ttooltipTrigger: 'none',\n\tsnap: true,\n\tstepValue: 1,\n\tstyle: {},\n\tURLParams: false,\n\tshowFilter: true,\n\tincludeNullValues: false\n};\n\n// Add componentType for SSR\nDynamicRangeSlider.componentType = _constants.componentTypes.dynamicRangeSlider;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\tvar aggregation = state.aggregations[props.componentId];\n\tif (props.nestedField) {\n\t\taggregation = state.aggregations[props.componentId] && state.aggregations[props.componentId].inner;\n\t}\n\tvar options = aggregation && aggregation[props.dataField];\n\tvar range = state.aggregations[props.componentId + '__range__internal'];\n\tif (props.nestedField) {\n\t\toptions = options && aggregation[props.dataField] && aggregation[props.dataField].buckets ? aggregation[props.dataField].buckets : [];\n\t\trange = range && state.aggregations[props.componentId + '__range__internal'][props.nestedField].min ? {\n\t\t\tstart: state.aggregations[props.componentId + '__range__internal'][props.nestedField].min.value,\n\t\t\tend: state.aggregations[props.componentId + '__range__internal'][props.nestedField].max.value // prettier-ignore\n\t\t} : null;\n\t} else {\n\t\toptions = options && aggregation[props.dataField].buckets ? aggregation[props.dataField].buckets : [];\n\t\trange = range && state.aggregations[props.componentId + '__range__internal'].min ? {\n\t\t\tstart: state.aggregations[props.componentId + '__range__internal'].min.value,\n\t\t\tend: state.aggregations[props.componentId + '__range__internal'].max.value // prettier-ignore\n\t\t} : null;\n\t}\n\tif (range) {\n\t\trange = formatRange(range);\n\t\t// eslint-disable-next-line no-restricted-globals\n\t\tif (isNaN(range.start) && isNaN(range.end)) {\n\t\t\trange = null;\n\t\t}\n\t}\n\treturn {\n\t\toptions: options,\n\t\tisLoading: state.isLoading[props.componentId],\n\t\trange: range,\n\t\tselectedValue: state.selectedValues[props.componentId] ? state.selectedValues[props.componentId].value : null\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\tsetTestData: function setTestData(component, data) {\n\t\t\treturn dispatch((0, _actions.mockDataForTesting)(component, data));\n\t\t},\n\t\tsetComponentProps: function setComponentProps(component, options, componentType) {\n\t\t\treturn dispatch((0, _actions.setComponentProps)(component, options, componentType));\n\t\t},\n\t\tsetCustomQuery: function setCustomQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setCustomQuery)(component, query));\n\t\t},\n\t\tupdateComponentProps: function updateComponentProps(component, options, componentType) {\n\t\t\treturn dispatch((0, _actions.updateComponentProps)(component, options, componentType));\n\t\t},\n\t\taddComponent: function addComponent(component, timestamp) {\n\t\t\treturn dispatch((0, _actions.addComponent)(component, timestamp));\n\t\t},\n\t\tremoveComponent: function removeComponent(component) {\n\t\t\treturn dispatch((0, _actions.removeComponent)(component));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions() {\n\t\t\treturn dispatch(_actions.setQueryOptions.apply(undefined, arguments));\n\t\t},\n\t\tsetQueryListener: function setQueryListener(component, onQueryChange, beforeQueryChange) {\n\t\t\treturn dispatch((0, _actions.setQueryListener)(component, onQueryChange, beforeQueryChange));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject, execute) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject, execute));\n\t\t},\n\t\twatchComponent: function watchComponent(component, react, shouldExecute) {\n\t\t\treturn dispatch((0, _actions.watchComponent)(component, react, shouldExecute));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n\treturn (0, _core.jsx)(DynamicRangeSlider, _extends({ ref: props.myForwardedRef }, props));\n});\n\n// eslint-disable-next-line\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n\treturn (0, _core.jsx)(\n\t\t_PreferencesConsumer2.default,\n\t\t{ userProps: props },\n\t\tfunction (preferenceProps) {\n\t\t\treturn (0, _core.jsx)(ConnectedComponent, _extends({}, preferenceProps, { myForwardedRef: ref }));\n\t\t}\n\t);\n});\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, DynamicRangeSlider);\n\nForwardRefComponent.displayName = 'DynamicRangeSlider';\nexports.default = ForwardRefComponent;"],"mappings":"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"},"metadata":{},"sourceType":"script"}