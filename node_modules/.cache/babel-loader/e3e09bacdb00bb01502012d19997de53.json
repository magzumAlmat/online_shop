{"ast":null,"code":"var _jsxFileName = \"/Users/billionare/Documents/reactSmartshop/SmartShopProduction-main/src/components/projects/showOrders.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { Redirect } from 'react-router-dom';\nimport Pagination from './Pagination';\nimport Spinner from '../layout/Spinner';\nimport moment from 'moment';\nimport { Table } from 'reactstrap';\n\nclass showOrders extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      orders: [],\n      pageOfItems: []\n    };\n\n    this.onChangePage = pageOfItems => this.setState({\n      pageOfItems: pageOfItems\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      orders: nextProps.orders\n    });\n  }\n\n  render() {\n    const {\n      orders\n    } = this.state;\n    console.log('orders from show orders', orders);\n    const {\n      auth\n    } = this.props;\n    if (!auth.uid) return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 29\n      }\n    });\n\n    if (orders.length > 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"project-list section\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 19\n        }\n      }, \"Order\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 19\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 19\n        }\n      }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 19\n        }\n      }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 19\n        }\n      }, \"Comment\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 19\n        }\n      }, \"Total Price\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 19\n        }\n      }, \"Pay option\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 19\n        }\n      }, \"Created\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }\n      }, this.state.pageOfItems.map((product, index) => /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }\n      }, product.order.map(item => /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 33\n        }\n      }, \"|\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 - \", item.name, \" | \\u0426\\u0435\\u043D\\u0430 - \", item.price, \" | \\u041A\\u043E\\u043B-\\u0432\\u043E - \", item.qty, \"| TOTAL PRICE - \", Number(item.qty * item.price), \" \")))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 26\n        }\n      }, product.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 26\n        }\n      }, product.phone), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 26\n        }\n      }, product.adress), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 26\n        }\n      }, product.comment), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 26\n        }\n      }, product.totalPr), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 26\n        }\n      }, product.pay.label), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 26\n        }\n      }, moment(product.createdAt.toDate()).calendar())))), /*#__PURE__*/React.createElement(Pagination, {\n        items: orders,\n        onChangePage: this.onChangePage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 16\n        }\n      });\n    }\n  }\n\n}\n\nshowOrders.propTypes = {\n  firestore: PropTypes.object.isRequired,\n  orders: PropTypes.array\n};\n\nconst mapStateToProps = state => ({\n  orders: state.firestore.ordered.orders,\n  auth: state.firebase.auth\n}); // console.log('this is map state to props',mapStateToProps)\n\n\nexport default compose(firestoreConnect(props => [{\n  collection: 'orders',\n  orderBy: props.sort\n}]), connect(mapStateToProps))(showOrders);","map":{"version":3,"names":["React","Component","PropTypes","compose","connect","firestoreConnect","Redirect","Pagination","Spinner","moment","Table","showOrders","state","orders","pageOfItems","onChangePage","setState","componentWillReceiveProps","nextProps","render","console","log","auth","props","uid","length","map","product","index","order","item","name","price","qty","Number","phone","adress","comment","totalPr","pay","label","createdAt","toDate","calendar","propTypes","firestore","object","isRequired","array","mapStateToProps","ordered","firebase","collection","orderBy","sort"],"sources":["/Users/billionare/Documents/reactSmartshop/SmartShopProduction-main/src/components/projects/showOrders.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { Redirect } from 'react-router-dom'; \nimport Pagination from './Pagination';\nimport Spinner from '../layout/Spinner';\nimport moment from 'moment';\nimport {Table} from 'reactstrap'\n\n\nclass showOrders extends React.Component {\n    state = {\n      orders: [],\n      pageOfItems: []\n    };\n  \n    componentWillReceiveProps(nextProps) {\n      this.setState({ orders: nextProps.orders });\n    }\n  \n    onChangePage = pageOfItems => this.setState({ pageOfItems: pageOfItems });\n  \n    render() {\n      const { orders } = this.state;\n      console.log('orders from show orders',orders)\n      const { auth } = this.props;\n      if (!auth.uid) return <Redirect to='/products' />\n      if (orders.length > 0) {\n        return (\n            <div className=\"project-list section\">\n            <Table striped bordered hover size=\"sm\">\n              <thead>\n                <tr>\n               \n                  <th>Order</th>\n                  <th>Name</th>\n                  <th>Phone</th>\n                  <th>Address</th>\n                  <th>Comment</th>\n                  <th>Total Price</th>\n                  <th>Pay option</th>\n                  <th>Created</th>\n                </tr>\n              </thead>\n              <tbody>\n               \n                 \n             \n                {this.state.pageOfItems.map((product, index) => (\n                     \n                     <tr>\n                        <td>\n                             {product.order.map(item=>(\n                           <h6>\n                              \n                                {/* <img src={item.picture} /> */}\n                                <p>|Наименование - {item.name } | Цена - {item.price} | Кол-во - {item.qty}| TOTAL PRICE - {Number(item.qty*item.price)} </p>\n                               \n                                    \n                            </h6>\n\n                                 ))}\n                        </td>\n                        {/* <img src={product.order.cartItems.picture} key={picture}/>\n                        \n                        <p key={name} >{product.order.cartItems }</p>\n                        <p key={price} >{product.order.cartItems}</p>\n                        <span key={index} >{product.order.cartItems.qty}</span> */}\n                         <td>{product.name}</td>\n                         <td>{product.phone}</td>\n                         <td>{product.adress}</td>\n                         <td>{product.comment}</td>\n                         <td>{product.totalPr}</td>\n                         <td>{product.pay.label}</td>\n\n                         \n                         \n                       \n                         <td >{ moment(product.createdAt.toDate()).calendar() }</td>\n                     \n                     \n                    \n                \n                 </tr>\n                ))}\n             \n         \n              \n               \n             \n              </tbody>\n              <Pagination items={orders} onChangePage={this.onChangePage} />\n            </Table>\n        \n          </div>\n        );\n      } else {\n        return <Spinner />;\n      }\n    }\n  }\n  \n  showOrders.propTypes = {\n    firestore: PropTypes.object.isRequired,\n    orders: PropTypes.array\n  };\n\n\n  \n\nconst mapStateToProps = (state) => ({\n    orders: state.firestore.ordered.orders,\n    auth:state.firebase.auth\n  });\n  \n  // console.log('this is map state to props',mapStateToProps)\n  \n  \n  export default compose(\n    firestoreConnect(props => [\n      {\n        collection: 'orders',\n        orderBy: props.sort\n      }\n    ]),\n    connect(mapStateToProps)\n  )(showOrders);"],"mappings":"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"},"metadata":{},"sourceType":"module"}