{"ast":null,"code":"var _jsxFileName = \"/Users/billionare/Documents/eshakids/eshaKids/src/components/projects/showOrders.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { Redirect } from 'react-router-dom';\nimport Spinner from '../layout/Spinner';\nimport moment from 'moment';\nimport { Table } from 'reactstrap';\nimport Pagination from './Pagination';\n\nclass showOrders extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      orders: [],\n      pageOfItems: [],\n      pageSize: 6,\n      currentPage: 1\n    };\n\n    this.onChangePage = pageOfItems => this.setState({\n      pageOfItems: pageOfItems\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      orders: nextProps.orders\n    });\n  }\n\n  render() {\n    const {\n      orders\n    } = this.state;\n    console.log('orders from show orders', orders);\n    const {\n      auth\n    } = this.props;\n    if (!auth.uid) return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 29\n      }\n    });\n\n    if (orders.length > 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"project-list section\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 19\n        }\n      }, \"Order\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 19\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 19\n        }\n      }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 19\n        }\n      }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 19\n        }\n      }, \"Comment\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 19\n        }\n      }, \"Total Price\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 19\n        }\n      }, \"Pay option\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 19\n        }\n      }, \"Created\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }\n      }, this.state.pageOfItems.map((product, index) => /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }\n      }, product.order.map(item => /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 33\n        }\n      }, \"|\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 - \", item.name, \" | \\u0426\\u0435\\u043D\\u0430 - \", item.price, \" | \\u041A\\u043E\\u043B-\\u0432\\u043E - \", item.qty, \"| TOTAL PRICE - \", Number(item.qty * item.price), \" \")))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 26\n        }\n      }, product.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 26\n        }\n      }, product.phone), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 26\n        }\n      }, product.adress), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 26\n        }\n      }, product.comment), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 26\n        }\n      }, product.totalPr), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 26\n        }\n      }, product.pay.label), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 26\n        }\n      }, moment(product.createdAt.toDate()).calendar())))), /*#__PURE__*/React.createElement(Pagination, {\n        currentPage: this.state.currentPage,\n        totalPages: 10,\n        changeCurrentPage: this.changeCurrentPage,\n        theme: \"square-fill\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 16\n        }\n      });\n    }\n  }\n\n}\n\nshowOrders.propTypes = {\n  firestore: PropTypes.object.isRequired,\n  orders: PropTypes.array\n};\n\nconst mapStateToProps = state => ({\n  orders: state.firestore.ordered.orders,\n  auth: state.firebase.auth\n}); // console.log('this is map state to props',mapStateToProps)\n\n\nexport default compose(firestoreConnect(props => [{\n  collection: 'orders',\n  orderBy: props.sort\n}]), connect(mapStateToProps))(showOrders);","map":{"version":3,"names":["React","Component","PropTypes","compose","connect","firestoreConnect","Redirect","Spinner","moment","Table","Pagination","showOrders","state","orders","pageOfItems","pageSize","currentPage","onChangePage","setState","componentWillReceiveProps","nextProps","render","console","log","auth","props","uid","length","map","product","index","order","item","name","price","qty","Number","phone","adress","comment","totalPr","pay","label","createdAt","toDate","calendar","changeCurrentPage","propTypes","firestore","object","isRequired","array","mapStateToProps","ordered","firebase","collection","orderBy","sort"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/src/components/projects/showOrders.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { Redirect } from 'react-router-dom'; \n\nimport Spinner from '../layout/Spinner';\nimport moment from 'moment';\nimport {Table} from 'reactstrap'\n\nimport Pagination from './Pagination';\nclass showOrders extends React.Component {\n    state = {\n      orders: [],\n      pageOfItems: [],\n      pageSize: 6,\n      currentPage: 1,\n    };\n  \n    componentWillReceiveProps(nextProps) {\n      this.setState({ orders: nextProps.orders });\n    }\n  \n    onChangePage = pageOfItems => this.setState({ pageOfItems: pageOfItems });\n  \n    render() {\n      const { orders } = this.state;\n      console.log('orders from show orders',orders)\n      const { auth } = this.props;\n      if (!auth.uid) return <Redirect to='/products' />\n      if (orders.length > 0) {\n        return (\n            <div className=\"project-list section\">\n            <Table striped bordered hover size=\"sm\">\n              <thead>\n                <tr>\n               \n                  <th>Order</th>\n                  <th>Name</th>\n                  <th>Phone</th>\n                  <th>Address</th>\n                  <th>Comment</th>\n                  <th>Total Price</th>\n                  <th>Pay option</th>\n                  <th>Created</th>\n                </tr>\n              </thead>\n              <tbody>\n               \n                 \n             \n                {this.state.pageOfItems.map((product, index) => (\n                     \n                     <tr>\n                        <td>\n                             {product.order.map(item=>(\n                           <h6>\n                              \n                                {/* <img src={item.picture} /> */}\n                                <p>|Наименование - {item.name } | Цена - {item.price} | Кол-во - {item.qty}| TOTAL PRICE - {Number(item.qty*item.price)} </p>\n                               \n                                    \n                            </h6>\n\n                                 ))}\n                        </td>\n                        {/* <img src={product.order.cartItems.picture} key={picture}/>\n                        \n                        <p key={name} >{product.order.cartItems }</p>\n                        <p key={price} >{product.order.cartItems}</p>\n                        <span key={index} >{product.order.cartItems.qty}</span> */}\n                         <td>{product.name}</td>\n                         <td>{product.phone}</td>\n                         <td>{product.adress}</td>\n                         <td>{product.comment}</td>\n                         <td>{product.totalPr}</td>\n                         <td>{product.pay.label}</td>\n\n                         <td >{ moment(product.createdAt.toDate()).calendar() }</td>\n                \n                 </tr>\n                ))}\n             \n         \n              \n               \n             \n              </tbody>\n              <Pagination\n                  currentPage={this.state.currentPage}\n                  totalPages={10}\n                  changeCurrentPage={this.changeCurrentPage}\n                  theme=\"square-fill\"\n                />\n\n            </Table>\n        \n          </div>\n        );\n      } else {\n        return <Spinner />;\n      }\n    }\n  }\n  \n  showOrders.propTypes = {\n    firestore: PropTypes.object.isRequired,\n    orders: PropTypes.array\n  };\n\n\n  \n\nconst mapStateToProps = (state) => ({\n    orders: state.firestore.ordered.orders,\n    auth:state.firebase.auth\n  });\n  \n  // console.log('this is map state to props',mapStateToProps)\n  \n  \n  export default compose(\n    firestoreConnect(props => [\n      {\n        collection: 'orders',\n        orderBy: props.sort\n      }\n    ]),\n    connect(mapStateToProps)\n  )(showOrders);"],"mappings":"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"},"metadata":{},"sourceType":"module"}