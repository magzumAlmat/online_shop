{"ast":null,"code":"import { SHOW_CART, ADD_ITEM, DELETE_ITEM, UPDATE_PRICE, DECREMENT_QTY } from '../actions/types';\nconst initialState = {\n  isOpen: false,\n  cartItems: [],\n  totalPrice: 0\n};\nexport default (function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SHOW_CART:\n      return { ...state,\n        isOpen: !state.isOpen\n      };\n\n    case ADD_ITEM:\n      const isAlreadyAdded = state.cartItems.find(product => product.id === action.payload.id);\n      if (!isAlreadyAdded) action.payload.qty = 1;\n      return { ...state,\n        cartItems: !isAlreadyAdded ? [action.payload, ...state.cartItems] : state.cartItems.map(item => item.id === action.payload.id ? { ...item,\n          qty: ++item.qty\n        } : item)\n      };\n\n    case DELETE_ITEM:\n      return { ...state,\n        cartItems: state.cartItems.filter(item => item.id !== action.payload)\n      };\n\n    case DECREMENT_QTY:\n      return { ...state,\n        cartItems: state.cartItems.map(item => item.id === action.payload.id ? { ...item,\n          qty: --item.qty\n        } : item)\n      };\n\n    case UPDATE_PRICE:\n      return { ...state,\n        totalPrice: state.cartItems.reduce((acc, val) => acc + val.qty * val.price, 0).toFixed(2)\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"names":["SHOW_CART","ADD_ITEM","DELETE_ITEM","UPDATE_PRICE","DECREMENT_QTY","initialState","isOpen","cartItems","totalPrice","state","action","type","isAlreadyAdded","find","product","id","payload","qty","map","item","filter","reduce","acc","val","price","toFixed"],"sources":["/Users/billionare/Documents/reactSmartshop/SmartShopProduction-main/src/store/reducers/cartReducer.js"],"sourcesContent":["import {\n  SHOW_CART,\n  ADD_ITEM,\n  DELETE_ITEM,\n  UPDATE_PRICE,\n  DECREMENT_QTY\n} from '../actions/types';\n\nconst initialState = {\n  isOpen: false,\n  cartItems: [],\n  totalPrice: 0\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_CART:\n      return {\n        ...state,\n        isOpen: !state.isOpen\n      };\n    case ADD_ITEM:\n      const isAlreadyAdded = state.cartItems.find(\n        product => product.id === action.payload.id\n      );\n      if (!isAlreadyAdded) action.payload.qty = 1;\n\n      return {\n        ...state,\n        cartItems: !isAlreadyAdded\n          ? [action.payload, ...state.cartItems]\n          : state.cartItems.map(\n              item =>\n                item.id === action.payload.id\n                  ? { ...item, qty: ++item.qty }\n                  : item\n            )\n      };\n    case DELETE_ITEM:\n      return {\n        ...state,\n        cartItems: state.cartItems.filter(item => item.id !== action.payload)\n      };\n    case DECREMENT_QTY:\n      return {\n        ...state,\n        cartItems: state.cartItems.map(\n          item =>\n            item.id === action.payload.id ? { ...item, qty: --item.qty } : item\n        )\n      };\n    case UPDATE_PRICE:\n      return {\n        ...state,\n        totalPrice: state.cartItems\n          .reduce((acc, val) => acc + val.qty * val.price, 0)\n          .toFixed(2)\n      };\n    default:\n      return state;\n  }\n};\n"],"mappings":"AAAA,SACEA,SADF,EAEEC,QAFF,EAGEC,WAHF,EAIEC,YAJF,EAKEC,aALF,QAMO,kBANP;AAQA,MAAMC,YAAY,GAAG;EACnBC,MAAM,EAAE,KADW;EAEnBC,SAAS,EAAE,EAFQ;EAGnBC,UAAU,EAAE;AAHO,CAArB;AAMA,gBAAe,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBJ,YAAyB;EAAA,IAAXK,MAAW;;EAC/C,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKX,SAAL;MACE,OAAO,EACL,GAAGS,KADE;QAELH,MAAM,EAAE,CAACG,KAAK,CAACH;MAFV,CAAP;;IAIF,KAAKL,QAAL;MACE,MAAMW,cAAc,GAAGH,KAAK,CAACF,SAAN,CAAgBM,IAAhB,CACrBC,OAAO,IAAIA,OAAO,CAACC,EAAR,KAAeL,MAAM,CAACM,OAAP,CAAeD,EADpB,CAAvB;MAGA,IAAI,CAACH,cAAL,EAAqBF,MAAM,CAACM,OAAP,CAAeC,GAAf,GAAqB,CAArB;MAErB,OAAO,EACL,GAAGR,KADE;QAELF,SAAS,EAAE,CAACK,cAAD,GACP,CAACF,MAAM,CAACM,OAAR,EAAiB,GAAGP,KAAK,CAACF,SAA1B,CADO,GAEPE,KAAK,CAACF,SAAN,CAAgBW,GAAhB,CACEC,IAAI,IACFA,IAAI,CAACJ,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,GACI,EAAE,GAAGI,IAAL;UAAWF,GAAG,EAAE,EAAEE,IAAI,CAACF;QAAvB,CADJ,GAEIE,IAJR;MAJC,CAAP;;IAWF,KAAKjB,WAAL;MACE,OAAO,EACL,GAAGO,KADE;QAELF,SAAS,EAAEE,KAAK,CAACF,SAAN,CAAgBa,MAAhB,CAAuBD,IAAI,IAAIA,IAAI,CAACJ,EAAL,KAAYL,MAAM,CAACM,OAAlD;MAFN,CAAP;;IAIF,KAAKZ,aAAL;MACE,OAAO,EACL,GAAGK,KADE;QAELF,SAAS,EAAEE,KAAK,CAACF,SAAN,CAAgBW,GAAhB,CACTC,IAAI,IACFA,IAAI,CAACJ,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA3B,GAAgC,EAAE,GAAGI,IAAL;UAAWF,GAAG,EAAE,EAAEE,IAAI,CAACF;QAAvB,CAAhC,GAA+DE,IAFxD;MAFN,CAAP;;IAOF,KAAKhB,YAAL;MACE,OAAO,EACL,GAAGM,KADE;QAELD,UAAU,EAAEC,KAAK,CAACF,SAAN,CACTc,MADS,CACF,CAACC,GAAD,EAAMC,GAAN,KAAcD,GAAG,GAAGC,GAAG,CAACN,GAAJ,GAAUM,GAAG,CAACC,KADhC,EACuC,CADvC,EAETC,OAFS,CAED,CAFC;MAFP,CAAP;;IAMF;MACE,OAAOhB,KAAP;EA5CJ;AA8CD,CA/CD"},"metadata":{},"sourceType":"module"}