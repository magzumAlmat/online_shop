{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _propTypes = require('prop-types');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _misc = require('@appbaseio/reactivecore/lib/actions/misc');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar defaultKeys = ['hits', 'value', 'aggregations', 'error'];\n\nvar filterProps = function filterProps(props) {\n  return _extends({}, props, {\n    props: props.componentProps\n  });\n};\n\nvar filterByComponentIds = function filterByComponentIds(state) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var componentIds = props.componentIds;\n\n  if (typeof componentIds === 'string') {\n    var _ref;\n\n    return _ref = {}, _ref[componentIds] = state[componentIds], _ref;\n  }\n\n  if (componentIds instanceof Array) {\n    var filteredState = {};\n    componentIds.forEach(function (componentId) {\n      filteredState[componentId] = state[componentId];\n    });\n    return filteredState;\n  }\n\n  return state;\n};\n\nvar filterByKeys = function filterByKeys(state, allowedKeys) {\n  return Object.keys(state).reduce(function (components, componentId) {\n    var _extends2;\n\n    return _extends({}, components, (_extends2 = {}, _extends2[componentId] = Object.keys(state[componentId]).filter(function (key) {\n      return allowedKeys.includes(key);\n    }).reduce(function (obj, key) {\n      // eslint-disable-next-line\n      obj[key] = state[componentId][key];\n      return obj;\n    }, {}), _extends2));\n  }, {});\n};\n\nvar StateProvider = function (_Component) {\n  _inherits(StateProvider, _Component);\n\n  function StateProvider(props) {\n    _classCallCheck(this, StateProvider);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.setSearchState = function (valuesMap) {\n      var _this$props = _this.props,\n          components = _this$props.components,\n          setSearchStateFn = _this$props.setSearchStateFn,\n          componentProps = _this$props.componentProps; // computedValuesMap is a map of componentId vs and object of {value:... , componentProps:...}\n\n      var computedValuesMap = {};\n      components.filter(function (component) {\n        return !(0, _transform.isInternalComponent)(component);\n      }).forEach(function (component) {\n        if (component in valuesMap) {\n          computedValuesMap[component] = {\n            value: valuesMap[component],\n            componentProps: componentProps[component]\n          };\n        } else {\n          computedValuesMap[component] = {\n            value: null,\n            componentProps: componentProps[component]\n          };\n        }\n      });\n      setSearchStateFn(computedValuesMap);\n    };\n\n    _this.state = {\n      searchState: filterByKeys((0, _helper.getSearchState)(filterProps(props)), props.includeKeys)\n    };\n    return _this;\n  }\n\n  StateProvider.getDerivedStateFromProps = function getDerivedStateFromProps(props) {\n    return {\n      searchState: filterByKeys((0, _helper.getSearchState)(filterProps(props)), props.includeKeys)\n    };\n  };\n\n  StateProvider.prototype.isStateChanged = function isStateChanged(prevState, nextState) {\n    return JSON.stringify(nextState) !== JSON.stringify(prevState);\n  };\n\n  StateProvider.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    // Only apply when componentIds is defined\n    if (!nextProps.strict || this.isStateChanged(this.state, nextState)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  StateProvider.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var onChange = this.props.onChange;\n\n    if (onChange && this.isStateChanged(prevState, this.state)) {\n      onChange(prevState.searchState, this.state.searchState);\n    }\n  };\n\n  StateProvider.prototype.render = function render() {\n    var searchState = this.state.searchState;\n    return (0, _helper.getComponent)({\n      searchState: searchState,\n      setSearchState: this.setSearchState\n    }, this.props);\n  };\n\n  return StateProvider;\n}(_react.Component);\n\nStateProvider.defaultProps = {\n  strict: true,\n  includeKeys: defaultKeys\n};\nStateProvider.propTypes = {\n  onChange: _propTypes.func,\n  render: _propTypes.func,\n  componentIds: (0, _propTypes.oneOfType)([_propTypes.string, (0, _propTypes.arrayOf)(_propTypes.string)]),\n  includeKeys: (0, _propTypes.arrayOf)(_propTypes.string),\n  strict: _propTypes.bool,\n  selectedValues: _types2.default.componentObject,\n  customData: _types2.default.componentObject,\n  queryLog: _types2.default.componentObject,\n  componentProps: _types2.default.componentObject,\n  hits: _types2.default.componentObject,\n  aggregations: _types2.default.componentObject,\n  isLoading: _types2.default.componentObject,\n  error: _types2.default.componentObject,\n  promotedResults: _types2.default.componentObject,\n  rawData: _types2.default.rawData,\n  components: (0, _propTypes.arrayOf)(_propTypes.string),\n  setSearchStateFn: _types2.default.funcRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    selectedValues: filterByComponentIds(state.selectedValues, props),\n    queryLog: filterByComponentIds(state.queryLog, props),\n    dependencyTree: filterByComponentIds(state.dependencyTree, props),\n    componentProps: filterByComponentIds(state.props, props),\n    hits: filterByComponentIds(state.hits, props),\n    aggregations: filterByComponentIds(state.aggregations, props),\n    isLoading: filterByComponentIds(state.isLoading, props),\n    error: filterByComponentIds(state.error, props),\n    promotedResults: filterByComponentIds(state.promotedResults, props),\n    customData: filterByComponentIds(state.customData, props),\n    settings: filterByComponentIds(state.settings, props),\n    rawData: filterByComponentIds(state.rawData, props),\n    components: state.components\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    setSearchStateFn: function setSearchStateFn(param) {\n      return dispatch((0, _misc.setSearchState)(param));\n    }\n  };\n};\n\nexports.default = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(StateProvider);","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_propTypes","_helper","_types","_types2","_interopRequireDefault","_misc","_transform","_utils","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defaultKeys","filterProps","props","componentProps","filterByComponentIds","state","undefined","componentIds","_ref","Array","filteredState","forEach","componentId","filterByKeys","allowedKeys","keys","reduce","components","_extends2","filter","includes","StateProvider","_Component","_this","setSearchState","valuesMap","_this$props","setSearchStateFn","computedValuesMap","component","isInternalComponent","searchState","getSearchState","includeKeys","getDerivedStateFromProps","isStateChanged","prevState","nextState","JSON","stringify","shouldComponentUpdate","nextProps","strict","componentDidUpdate","prevProps","onChange","render","getComponent","Component","defaultProps","propTypes","func","oneOfType","string","arrayOf","bool","selectedValues","componentObject","customData","queryLog","hits","aggregations","isLoading","error","promotedResults","rawData","funcRequired","mapStateToProps","dependencyTree","settings","mapDispatchtoProps","dispatch","param","connect"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/reactivesearch/lib/components/basic/StateProvider.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _propTypes = require('prop-types');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _misc = require('@appbaseio/reactivecore/lib/actions/misc');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultKeys = ['hits', 'value', 'aggregations', 'error'];\n\nvar filterProps = function filterProps(props) {\n\treturn _extends({}, props, {\n\t\tprops: props.componentProps\n\t});\n};\n\nvar filterByComponentIds = function filterByComponentIds(state) {\n\tvar props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\tvar componentIds = props.componentIds;\n\n\tif (typeof componentIds === 'string') {\n\t\tvar _ref;\n\n\t\treturn _ref = {}, _ref[componentIds] = state[componentIds], _ref;\n\t}\n\tif (componentIds instanceof Array) {\n\t\tvar filteredState = {};\n\t\tcomponentIds.forEach(function (componentId) {\n\t\t\tfilteredState[componentId] = state[componentId];\n\t\t});\n\t\treturn filteredState;\n\t}\n\treturn state;\n};\n\nvar filterByKeys = function filterByKeys(state, allowedKeys) {\n\treturn Object.keys(state).reduce(function (components, componentId) {\n\t\tvar _extends2;\n\n\t\treturn _extends({}, components, (_extends2 = {}, _extends2[componentId] = Object.keys(state[componentId]).filter(function (key) {\n\t\t\treturn allowedKeys.includes(key);\n\t\t}).reduce(function (obj, key) {\n\t\t\t// eslint-disable-next-line\n\t\t\tobj[key] = state[componentId][key];\n\t\t\treturn obj;\n\t\t}, {}), _extends2));\n\t}, {});\n};\n\nvar StateProvider = function (_Component) {\n\t_inherits(StateProvider, _Component);\n\n\tfunction StateProvider(props) {\n\t\t_classCallCheck(this, StateProvider);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_this.setSearchState = function (valuesMap) {\n\t\t\tvar _this$props = _this.props,\n\t\t\t    components = _this$props.components,\n\t\t\t    setSearchStateFn = _this$props.setSearchStateFn,\n\t\t\t    componentProps = _this$props.componentProps;\n\n\t\t\t// computedValuesMap is a map of componentId vs and object of {value:... , componentProps:...}\n\n\t\t\tvar computedValuesMap = {};\n\t\t\tcomponents.filter(function (component) {\n\t\t\t\treturn !(0, _transform.isInternalComponent)(component);\n\t\t\t}).forEach(function (component) {\n\t\t\t\tif (component in valuesMap) {\n\t\t\t\t\tcomputedValuesMap[component] = {\n\t\t\t\t\t\tvalue: valuesMap[component],\n\t\t\t\t\t\tcomponentProps: componentProps[component]\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tcomputedValuesMap[component] = {\n\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\tcomponentProps: componentProps[component]\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetSearchStateFn(computedValuesMap);\n\t\t};\n\n\t\t_this.state = {\n\t\t\tsearchState: filterByKeys((0, _helper.getSearchState)(filterProps(props)), props.includeKeys)\n\t\t};\n\t\treturn _this;\n\t}\n\n\tStateProvider.getDerivedStateFromProps = function getDerivedStateFromProps(props) {\n\t\treturn {\n\t\t\tsearchState: filterByKeys((0, _helper.getSearchState)(filterProps(props)), props.includeKeys)\n\t\t};\n\t};\n\n\tStateProvider.prototype.isStateChanged = function isStateChanged(prevState, nextState) {\n\t\treturn JSON.stringify(nextState) !== JSON.stringify(prevState);\n\t};\n\n\tStateProvider.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n\t\t// Only apply when componentIds is defined\n\t\tif (!nextProps.strict || this.isStateChanged(this.state, nextState)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\tStateProvider.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n\t\tvar onChange = this.props.onChange;\n\n\t\tif (onChange && this.isStateChanged(prevState, this.state)) {\n\t\t\tonChange(prevState.searchState, this.state.searchState);\n\t\t}\n\t};\n\n\tStateProvider.prototype.render = function render() {\n\t\tvar searchState = this.state.searchState;\n\n\t\treturn (0, _helper.getComponent)({ searchState: searchState, setSearchState: this.setSearchState }, this.props);\n\t};\n\n\treturn StateProvider;\n}(_react.Component);\n\nStateProvider.defaultProps = {\n\tstrict: true,\n\tincludeKeys: defaultKeys\n};\nStateProvider.propTypes = {\n\tonChange: _propTypes.func,\n\trender: _propTypes.func,\n\tcomponentIds: (0, _propTypes.oneOfType)([_propTypes.string, (0, _propTypes.arrayOf)(_propTypes.string)]),\n\tincludeKeys: (0, _propTypes.arrayOf)(_propTypes.string),\n\tstrict: _propTypes.bool,\n\tselectedValues: _types2.default.componentObject,\n\tcustomData: _types2.default.componentObject,\n\tqueryLog: _types2.default.componentObject,\n\tcomponentProps: _types2.default.componentObject,\n\thits: _types2.default.componentObject,\n\taggregations: _types2.default.componentObject,\n\tisLoading: _types2.default.componentObject,\n\terror: _types2.default.componentObject,\n\tpromotedResults: _types2.default.componentObject,\n\trawData: _types2.default.rawData,\n\tcomponents: (0, _propTypes.arrayOf)(_propTypes.string),\n\tsetSearchStateFn: _types2.default.funcRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\treturn {\n\t\tselectedValues: filterByComponentIds(state.selectedValues, props),\n\t\tqueryLog: filterByComponentIds(state.queryLog, props),\n\t\tdependencyTree: filterByComponentIds(state.dependencyTree, props),\n\t\tcomponentProps: filterByComponentIds(state.props, props),\n\t\thits: filterByComponentIds(state.hits, props),\n\t\taggregations: filterByComponentIds(state.aggregations, props),\n\t\tisLoading: filterByComponentIds(state.isLoading, props),\n\t\terror: filterByComponentIds(state.error, props),\n\t\tpromotedResults: filterByComponentIds(state.promotedResults, props),\n\t\tcustomData: filterByComponentIds(state.customData, props),\n\t\tsettings: filterByComponentIds(state.settings, props),\n\t\trawData: filterByComponentIds(state.rawData, props),\n\t\tcomponents: state.components\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\tsetSearchStateFn: function setSearchStateFn(param) {\n\t\t\treturn dispatch((0, _misc.setSearchState)(param));\n\t\t}\n\t};\n};\n\nexports.default = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(StateProvider);"],"mappings":"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"},"metadata":{},"sourceType":"script"}