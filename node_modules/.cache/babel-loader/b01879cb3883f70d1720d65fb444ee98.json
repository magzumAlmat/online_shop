{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _echartsForReact = require('echarts-for-react');\n\nvar _echartsForReact2 = _interopRequireDefault(_echartsForReact);\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _propTypes = require('prop-types');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _utils = require('../../utils');\n\nvar _PreferencesConsumer = require('../basic/PreferencesConsumer');\n\nvar _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar getLoading = function getLoading(loading) {\n  return loading === undefined ? true : loading;\n};\n\nvar ChartTypes = {\n  Pie: 'pie',\n  Scatter: 'scatter',\n  Histogram: 'histogram',\n  Line: 'line',\n  Bar: 'bar',\n  Custom: 'custom'\n};\n\nvar ReactiveChart = function (_React$Component) {\n  _inherits(ReactiveChart, _React$Component);\n\n  function ReactiveChart(props) {\n    _classCallCheck(this, ReactiveChart);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var defaultValue = props.value;\n    var currentValue = props.selectedValue || defaultValue;\n\n    var options = _this.transformOptions(props.options, props);\n\n    _this.state = {\n      currentValue: currentValue,\n      options: options\n    };\n    _this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId); // Set custom and default queries in store\n\n    (0, _helper.updateCustomQuery)(props.componentId, props, currentValue);\n    (0, _helper.updateDefaultQuery)(_this.internalComponent, props, currentValue);\n\n    _this.updateQueryOptions(props, false);\n\n    if (currentValue) {\n      _this.setValue(currentValue, true, props);\n    }\n\n    _this.setReact(props, _this.internalComponent);\n\n    _this.handleRange = (0, _helper.debounce)(_this.handleRange, 100);\n\n    if (props.chartType === ChartTypes.Custom) {\n      if (typeof props.defaultQuery !== 'function' || typeof props.setOption !== 'function') {\n        throw new Error('defaultQuery and setOption should be defined when chartType is custom');\n      }\n\n      if (props.useAsFilter && typeof props.customQuery !== 'function') {\n        throw new Error('customQuery should be defined when chartType is custom and useAsFilter is true');\n      }\n    }\n\n    return _this;\n  }\n\n  ReactiveChart.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    if (!(0, _helper.isEqual)(prevProps.options, this.props.options)) {\n      // set options in state\n      // eslint-disable-next-line\n      this.setState({\n        options: this.transformOptions(this.props.options, this.props)\n      });\n    }\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'aggregationSize'], function () {\n      _this2.updateDefaultQuery();\n\n      _this2.updateQuery(_this2.state.currentValue, _this2.props);\n    });\n\n    if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'defaultQuery')) {\n      this.updateDefaultQuery(); // Clear the component value\n\n      this.updateQuery('', this.props);\n    }\n\n    if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'customQuery')) {\n      this.updateQuery(this.state.currentValue, this.props);\n    }\n\n    if (this.props.value !== prevProps.value) {\n      this.setValue(this.props.value);\n    } else if (this.state.currentValue !== this.props.selectedValue && this.props.selectedValue !== prevProps.selectedValue) {\n      var _props = this.props,\n          value = _props.value,\n          onChange = _props.onChange;\n\n      if (value === undefined) {\n        this.setValue(this.props.selectedValue);\n      } else if (onChange) {\n        onChange(this.props.selectedValue);\n      } else {\n        this.setValue(this.state.currentValue, true);\n      }\n    }\n  };\n\n  ReactiveChart.prototype.transformOptions = function transformOptions(options, props) {\n    return (props.options && props.options[props.dataField] ? props.options[props.dataField].buckets : []).filter(function (item) {\n      return !!String(item.key).length;\n    });\n  };\n\n  ReactiveChart.prototype.render = function render() {\n    var _props2 = this.props,\n        onDblClick = _props2.onDblClick,\n        onMouseDown = _props2.onMouseDown,\n        onMouseUp = _props2.onMouseUp,\n        onMouseMove = _props2.onMouseMove,\n        onMouseOut = _props2.onMouseOut,\n        onGlobalOut = _props2.onGlobalOut,\n        onContextMenu = _props2.onContextMenu,\n        isLoading = _props2.isLoading,\n        error = _props2.error,\n        loader = _props2.loader,\n        renderError = _props2.renderError;\n\n    if (isLoading) {\n      return loader || null;\n    }\n\n    if (error) {\n      if (renderError) {\n        if ((0, _helper.isFunction)(renderError)) {\n          return renderError(error);\n        }\n\n        return renderError;\n      }\n\n      return null;\n    }\n\n    return _react2.default.createElement(_echartsForReact2.default, {\n      option: this.getChartOptions(),\n      onEvents: {\n        click: this.handleClick,\n        dblclick: onDblClick,\n        mousedown: onMouseDown,\n        mouseup: onMouseUp,\n        mousemove: onMouseMove,\n        mouseout: onMouseOut,\n        globalout: onGlobalOut,\n        contextmenu: onContextMenu,\n        datazoom: this.handleRange\n      },\n      notMerge: true\n    });\n  };\n\n  return ReactiveChart;\n}(_react2.default.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.setReact = function (props, componentId) {\n    var react = props.react;\n\n    if (react) {\n      var newReact = (0, _helper.pushToAndClause)(react, _this3.internalComponent);\n      props.watchComponent(componentId, newReact);\n    } else {\n      props.watchComponent(componentId, {\n        and: _this3.internalComponent\n      });\n    }\n  };\n\n  this.updateDefaultQuery = function (queryOptions) {\n    var props = _this3.props;\n    var value = void 0;\n\n    if (props.type === 'range') {\n      value = (0, _utils.getNumericRangeArray)(props.range, props.queryFormat);\n    }\n\n    (0, _helper.updateInternalQuery)(_this3.internalComponent, queryOptions, value, _this3.props, ReactiveChart.generateQueryOptions(_this3.props, _this3.state.prevAfter, value), null);\n  };\n\n  this.updateQueryOptions = function (props) {\n    var addAfterKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var queryOptions = ReactiveChart.generateQueryOptions(props, addAfterKey ? _this3.state.after : {}, _this3.state.currentValue);\n\n    _this3.updateDefaultQuery(queryOptions);\n  };\n\n  this.handleClick = function () {\n    var _props3 = _this3.props,\n        onClick = _props3.onClick,\n        useAsFilter = _props3.useAsFilter,\n        chartType = _props3.chartType,\n        type = _props3.type;\n\n    if (onClick) {\n      onClick.apply(undefined, arguments);\n    }\n\n    if (useAsFilter && type !== 'range') {\n      var item = arguments.length <= 0 ? undefined : arguments[0];\n      var value = void 0;\n\n      if (item.data && item.data.name) {\n        value = item.data.name;\n      } else {\n        value = item.data;\n      }\n\n      if (!Number.isNaN(parseInt(value, 10))) {\n        value = parseInt(value, 10);\n      }\n\n      if (chartType === ChartTypes.Custom) {\n        value = {\n          mainLabel: item.name,\n          secondaryLabel: item.seriesName,\n          data: item.data\n        };\n      }\n\n      _this3.setValue(value);\n    }\n  };\n\n  this.updateQuery = function (value, props) {\n    var execute = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var customQuery = props.customQuery;\n    var query = ReactiveChart.defaultQuery(value, props);\n    var customQueryOptions = void 0;\n\n    if (customQuery) {\n      (0, _helper.updateCustomQuery)(props.componentId, props, value);\n    }\n\n    props.setQueryOptions(props.componentId, _extends({}, ReactiveChart.generateQueryOptions(props, _this3.state.prevAfter, _this3.state.currentValue), customQueryOptions), false);\n    props.updateQuery({\n      componentId: props.componentId,\n      query: query,\n      value: value,\n      label: props.filterLabel,\n      showFilter: props.showFilter,\n      URLParams: props.URLParams,\n      componentType: _constants.componentTypes.reactiveChart\n    }, execute, false);\n  };\n\n  this.setValue = function (value) {\n    var isDefault = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this3.props;\n\n    var performUpdate = function performUpdate() {\n      var handleUpdates = function handleUpdates() {\n        _this3.updateQuery(value, props);\n      };\n\n      _this3.setState({\n        currentValue: value\n      }, handleUpdates);\n    };\n\n    if (isDefault) {\n      _this3.updateQuery(value, props, false, false);\n    } else {\n      (0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n    }\n  };\n\n  this.getChartOptions = function () {\n    var _props4 = _this3.props,\n        chartType = _props4.chartType,\n        title = _props4.title,\n        labelFormatter = _props4.labelFormatter,\n        xAxisName = _props4.xAxisName,\n        yAxisName = _props4.yAxisName,\n        rawData = _props4.rawData,\n        hits = _props4.hits,\n        xAxisField = _props4.xAxisField,\n        yAxisField = _props4.yAxisField,\n        type = _props4.type;\n    var _state = _this3.state,\n        options = _state.options,\n        currentValue = _state.currentValue;\n    var setOption = _this3.props.setOption;\n    var results = (0, _helper.parseHits)(hits) || [];\n    var chartOptions = {\n      aggregationData: options,\n      rawData: rawData,\n      value: currentValue,\n      data: results,\n      xAxisField: xAxisField,\n      yAxisField: yAxisField,\n      chartType: chartType,\n      title: title,\n      labelFormatter: labelFormatter,\n      xAxisName: xAxisName,\n      yAxisName: yAxisName,\n      type: type\n    };\n\n    if (setOption) {\n      return setOption(chartOptions);\n    }\n\n    return ReactiveChart.getOption(chartOptions);\n  };\n\n  this.handleRange = function () {\n    var _props5 = _this3.props,\n        useAsFilter = _props5.useAsFilter,\n        onDataZoom = _props5.onDataZoom;\n\n    if (useAsFilter) {\n      var echartInstance = arguments.length <= 1 ? undefined : arguments[1];\n      var axis = echartInstance.getModel().option.xAxis[0];\n      var option = echartInstance.getOption();\n      var start = option.dataZoom[0].startValue;\n      var end = option.dataZoom[0].endValue;\n      var startRangeValue = axis.data[start];\n      var endRangeValue = axis.data[end];\n      var rangeValue = [startRangeValue.value !== undefined ? startRangeValue.value : startRangeValue, endRangeValue.value !== undefined ? endRangeValue.value : endRangeValue];\n\n      _this3.setValue(rangeValue);\n    }\n\n    if (onDataZoom) {\n      onDataZoom.apply(undefined, arguments);\n    }\n  };\n};\n\nReactiveChart.generateQueryOptions = function (props, after) {\n  var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var queryOptions = (0, _helper.getQueryOptions)(props);\n  return (0, _helper.getAggsQuery)(value, queryOptions, props);\n};\n\nReactiveChart.defaultQuery = function (value, props) {\n  return {\n    query: {\n      queryFormat: props.queryFormat,\n      dataField: props.dataField,\n      value: value,\n      nestedField: props.nestedField\n    }\n  };\n};\n\nReactiveChart.GetScatterChartOptions = '({\\n\\tdata,\\n\\ttitle,\\n\\txAxisName,\\n\\tyAxisName,\\n\\txAxisField,\\n\\tyAxisField,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\txAxis: {\\n\\t\\t\\tname: xAxisName,\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tsymbolSize: 20,\\n\\t\\t\\t\\tdata: data.map(d => [d[xAxisField], d[yAxisField]]),\\n\\t\\t\\t\\ttype: \\'scatter\\',\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\nReactiveChart.GetPieChartOptions = '({ title, aggregationData }) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t\\tleft: \\'center\\',\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'pie\\',\\n\\t\\t\\t\\tradius: \\'50%\\',\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\temphasis: {\\n\\t\\t\\t\\t\\titemStyle: {\\n\\t\\t\\t\\t\\t\\tshadowBlur: 10,\\n\\t\\t\\t\\t\\t\\tshadowOffsetX: 0,\\n\\t\\t\\t\\t\\t\\tshadowColor: \\'rgba(0, 0, 0, 0.5)\\',\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\nReactiveChart.GetHistogramChartOptions = '({\\n\\ttitle,\\n\\txAxisName,\\n\\tyAxisName,\\n\\taggregationData,\\n\\tvalue,\\n\\tlabelFormatter,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\tconst xAxisData = aggregationData.map(item => ({\\n\\t\\tvalue: item.key,\\n\\t\\tname: item.key,\\n\\t}));\\n\\tlet startIndex = -1;\\n\\tlet endIndex = -1;\\n\\tif (value && Array.isArray(value)) {\\n\\t\\tstartIndex = xAxisData.findIndex(i => i.value === value[0]);\\n\\t\\tendIndex = xAxisData.findIndex(i => i.value === value[1]);\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttoolbox: {\\n\\t\\t\\tfeature: {\\n\\t\\t\\t\\tdataZoom: {\\n\\t\\t\\t\\t\\tyAxisIndex: false,\\n\\t\\t\\t\\t\\tlabelFormatter,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tsaveAsImage: {\\n\\t\\t\\t\\t\\tpixelRatio: 2,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'axis\\',\\n\\t\\t\\taxisPointer: {\\n\\t\\t\\t\\ttype: \\'shadow\\',\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\tgrid: {\\n\\t\\t\\tbottom: 90,\\n\\t\\t},\\n\\t\\tdataZoom: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'inside\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'slider\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t],\\n\\t\\txAxis: {\\n\\t\\t\\tdata: xAxisData,\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\tsilent: false,\\n\\t\\t\\tsplitLine: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t\\tsplitArea: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\tsplitArea: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'bar\\',\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\t// Set \\'large\\' for large data amount\\n\\t\\t\\t\\tlarge: true,\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\nReactiveChart.GetBarChartOptions = '({\\n\\ttitle, xAxisName, yAxisName, aggregationData,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\txAxis: {\\n\\t\\t\\ttype: \\'category\\',\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\tvalue: item.key,\\n\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t})),\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\ttype: \\'value\\',\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\ttype: \\'bar\\',\\n\\t\\t\\t\\tshowBackground: true,\\n\\t\\t\\t\\tbackgroundStyle: {\\n\\t\\t\\t\\t\\tcolor: \\'rgba(180, 180, 180, 0.2)\\',\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\nReactiveChart.GetLineChartOptions = '({\\n\\ttitle,\\n\\ttype,\\n\\tvalue,\\n\\txAxisName,\\n\\tyAxisName,\\n\\taggregationData,\\n\\tlabelFormatter,\\n}) => {\\n\\tlet chartTitle;\\n\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\tconst xAxisData = aggregationData.map(item => ({\\n\\t\\tvalue: item.key,\\n\\t\\tname: item.key,\\n\\t}));\\n\\n\\tlet startIndex = -1;\\n\\tlet endIndex = -1;\\n\\tconst isValueArray = value && Array.isArray(value);\\n\\tconst isRangeType = type === \\'range\\';\\n\\tif (isValueArray && isRangeType) {\\n\\t\\tstartIndex = xAxisData.findIndex(i => i.value === value[0]);\\n\\t\\tendIndex = xAxisData.findIndex(i => i.value === value[1]);\\n\\t}\\n\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttoolbox: isRangeType ? {\\n\\t\\t\\tfeature: {\\n\\t\\t\\t\\tdataZoom: {\\n\\t\\t\\t\\t\\tyAxisIndex: false,\\n\\t\\t\\t\\t\\tlabelFormatter,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t}: undefined,\\n\\t\\txAxis: {\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\ttype: \\'category\\',\\n\\t\\t\\tdata: xAxisData\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\ttype: \\'value\\',\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tdataZoom: isRangeType ? [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'inside\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'slider\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t]: undefined,\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\ttype: \\'line\\',\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.getOption = function (_ref) {\n  var chartType = _ref.chartType,\n      chartConfig = _objectWithoutProperties(_ref, ['chartType']); // eslint-disable-next-line\n\n\n  var chartConfigMethod = eval(ReactiveChart.getOptionAsString(chartType));\n\n  if (chartConfig) {\n    return chartConfigMethod(chartConfig);\n  }\n\n  return null;\n};\n\nReactiveChart.getOptionAsString = function (chartType) {\n  switch (chartType) {\n    case ChartTypes.Scatter:\n      return ReactiveChart.GetScatterChartOptions;\n\n    case ChartTypes.Line:\n      return ReactiveChart.GetLineChartOptions;\n\n    case ChartTypes.Bar:\n      return ReactiveChart.GetBarChartOptions;\n\n    case ChartTypes.Pie:\n      return ReactiveChart.GetPieChartOptions;\n\n    case ChartTypes.Histogram:\n      return ReactiveChart.GetHistogramChartOptions;\n\n    default:\n      return null;\n  }\n};\n\nReactiveChart.defaultRangeQuery = function (value, props) {\n  var query = null;\n\n  if (Array.isArray(value) && value.length) {\n    query = (0, _utils.getRangeQueryWithNullValues)(value, props);\n  }\n\n  if (query && props.nestedField) {\n    return {\n      nested: {\n        path: props.nestedField,\n        query: query\n      }\n    };\n  }\n\n  return query;\n};\n\nReactiveChart.propTypes = {\n  // UI props\n  filterLabel: _types2.default.string,\n  // events\n  onClick: _propTypes.func,\n  onDblClick: _propTypes.func,\n  onMouseDown: _propTypes.func,\n  onMouseUp: _propTypes.func,\n  onMouseMove: _propTypes.func,\n  onMouseOut: _propTypes.func,\n  onGlobalOut: _propTypes.func,\n  onContextMenu: _propTypes.func,\n  beforeValueChange: _propTypes.func,\n  onDataZoom: _propTypes.func,\n  // ---- user props ---\n  // props to configure query\n  componentId: _types2.default.stringRequired,\n  URLParams: _types2.default.bool,\n  dataField: _types2.default.stringRequired,\n  showFilter: _types2.default.bool,\n  customQuery: _types2.default.func,\n  defaultQuery: _types2.default.func,\n  react: _types2.default.react,\n  size: _types2.default.number,\n  index: _types2.default.string,\n  queryFormat: _types2.default.queryFormatSearch,\n  range: _types2.default.range,\n  type: (0, _propTypes.oneOf)(['term', 'range', 'search', 'geo', 'suggestion']),\n  // eslint-disable-next-line\n  value: _propTypes.any,\n  // props to configure chart\n  chartType: (0, _propTypes.oneOf)(Object.values(ChartTypes)),\n  setOption: _propTypes.func,\n  title: _types2.default.string,\n  useAsFilter: _types2.default.bool,\n  labelFormatter: _types2.default.func,\n  xAxisName: _types2.default.string,\n  yAxisName: _types2.default.string,\n  xAxisField: _types2.default.string,\n  yAxisField: _types2.default.string,\n  // ---------//\n  loader: _types2.default.title,\n  onError: _types2.default.func,\n  renderError: _types2.default.title,\n  onChange: _types2.default.func,\n  // redux props\n  setQueryOptions: _types2.default.funcRequired,\n  watchComponent: _types2.default.funcRequired,\n  updateQuery: _types2.default.funcRequired,\n  options: _types2.default.options,\n  rawData: _types2.default.rawData,\n  hits: _types2.default.hits,\n  selectedValue: _types2.default.selectedValue,\n  setCustomQuery: _types2.default.funcRequired,\n  isLoading: _types2.default.bool,\n  error: _types2.default.title,\n  endpoint: _types2.default.endpoint\n};\nReactiveChart.defaultProps = {\n  useAsFilter: true,\n  chartType: 'custom'\n}; // Add componentType for SSR\n\nReactiveChart.componentType = _constants.componentTypes.multiList;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    options: props.nestedField && state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)] ? state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)].reactivesearch_nested : state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)],\n    hits: state.hits[(0, _transform.getInternalComponentID)(props.componentId)] && state.hits[(0, _transform.getInternalComponentID)(props.componentId)].hits,\n    rawData: state.rawData[(0, _transform.getInternalComponentID)(props.componentId)],\n    selectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n    isLoading: getLoading(state.isLoading[(0, _transform.getInternalComponentID)(props.componentId)]),\n    error: state.error[(0, _transform.getInternalComponentID)(props.componentId)]\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    watchComponent: function watchComponent(component, react) {\n      return dispatch((0, _actions.watchComponent)(component, react));\n    },\n    setCustomQuery: function setCustomQuery(component, query) {\n      return dispatch((0, _actions.setCustomQuery)(component, query));\n    },\n    setDefaultQuery: function setDefaultQuery(component, query) {\n      return dispatch((0, _actions.setDefaultQuery)(component, query));\n    },\n    setQueryOptions: function setQueryOptions(component, props, execute) {\n      return dispatch((0, _actions.setQueryOptions)(component, props, execute));\n    },\n    updateQuery: function updateQuery(updateQueryObject, execute, setInternalValue) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject, execute, setInternalValue));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n  return _react2.default.createElement(ReactiveChart, _extends({\n    ref: props.myForwardedRef\n  }, props));\n}); // eslint-disable-next-line\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n  return _react2.default.createElement(_PreferencesConsumer2.default, {\n    userProps: props\n  }, function (preferenceProps) {\n    var type = preferenceProps.type;\n\n    if (!type) {\n      if (preferenceProps.chartType === ChartTypes.Scatter) {\n        type = 'range';\n      }\n    }\n\n    var aggregationSize = preferenceProps.aggregationSize;\n\n    if (!aggregationSize) {\n      if (!type || type === 'term') {\n        aggregationSize = preferenceProps.size;\n      }\n    }\n\n    var size = preferenceProps.size;\n\n    if (preferenceProps.chartType === ChartTypes.Scatter) {\n      size = 10;\n    }\n\n    var dataField = preferenceProps.dataField;\n\n    if (preferenceProps.chartType === ChartTypes.Scatter) {\n      if (!dataField) {\n        dataField = '_default';\n      }\n    }\n\n    return _react2.default.createElement(_ComponentWrapper2.default, _extends({}, preferenceProps, {\n      type: type,\n      internalComponent: true,\n      componentType: _constants.componentTypes.reactiveChart,\n      showHistogram: preferenceProps.chartType === ChartTypes.Scatter ? false : type === 'range',\n      setReact: false,\n      aggregationSize: aggregationSize,\n      size: size,\n      dataField: dataField\n    }), function (componentProps) {\n      return _react2.default.createElement(ConnectedComponent, _extends({}, preferenceProps, {\n        size: size,\n        type: type,\n        aggregationSize: aggregationSize,\n        dataField: dataField,\n        myForwardedRef: ref\n      }, componentProps));\n    });\n  });\n});\n\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, ReactiveChart);\nForwardRefComponent.displayName = 'ReactiveChart';\nexports.default = ForwardRefComponent;","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_echartsForReact","_echartsForReact2","_types","_types2","_propTypes","_hoistNonReactStatics","_hoistNonReactStatics2","_actions","_transform","_constants","_helper","_utils","_PreferencesConsumer","_PreferencesConsumer2","_ComponentWrapper","_ComponentWrapper2","obj","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","getLoading","loading","undefined","ChartTypes","Pie","Scatter","Histogram","Line","Bar","Custom","ReactiveChart","_React$Component","props","_this","_initialiseProps","defaultValue","currentValue","selectedValue","options","transformOptions","state","internalComponent","getInternalComponentID","componentId","updateCustomQuery","updateDefaultQuery","updateQueryOptions","setValue","setReact","handleRange","debounce","chartType","defaultQuery","setOption","Error","useAsFilter","customQuery","componentDidUpdate","prevProps","_this2","isEqual","setState","checkSomePropChange","updateQuery","isQueryIdentical","_props","onChange","dataField","buckets","filter","item","String","render","_props2","onDblClick","onMouseDown","onMouseUp","onMouseMove","onMouseOut","onGlobalOut","onContextMenu","isLoading","error","loader","renderError","isFunction","createElement","option","getChartOptions","onEvents","click","handleClick","dblclick","mousedown","mouseup","mousemove","mouseout","globalout","contextmenu","datazoom","notMerge","Component","_this3","react","newReact","pushToAndClause","watchComponent","and","queryOptions","type","getNumericRangeArray","range","queryFormat","updateInternalQuery","generateQueryOptions","prevAfter","addAfterKey","after","_props3","onClick","apply","data","name","Number","isNaN","parseInt","mainLabel","secondaryLabel","seriesName","execute","query","customQueryOptions","setQueryOptions","label","filterLabel","showFilter","URLParams","componentType","componentTypes","reactiveChart","isDefault","performUpdate","handleUpdates","checkValueChange","beforeValueChange","_props4","title","labelFormatter","xAxisName","yAxisName","rawData","hits","xAxisField","yAxisField","_state","results","parseHits","chartOptions","aggregationData","getOption","_props5","onDataZoom","echartInstance","axis","getModel","xAxis","start","dataZoom","startValue","end","endValue","startRangeValue","endRangeValue","rangeValue","getQueryOptions","getAggsQuery","nestedField","GetScatterChartOptions","GetPieChartOptions","GetHistogramChartOptions","GetBarChartOptions","GetLineChartOptions","_ref","chartConfig","chartConfigMethod","eval","getOptionAsString","defaultRangeQuery","Array","isArray","getRangeQueryWithNullValues","nested","path","propTypes","string","func","stringRequired","bool","size","number","index","queryFormatSearch","oneOf","any","values","onError","funcRequired","setCustomQuery","endpoint","defaultProps","multiList","mapStateToProps","aggregations","reactivesearch_nested","selectedValues","mapDispatchtoProps","dispatch","component","setDefaultQuery","updateQueryObject","setInternalValue","ConnectedComponent","connect","ref","myForwardedRef","ForwardRefComponent","forwardRef","userProps","preferenceProps","aggregationSize","showHistogram","componentProps","displayName"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/reactivesearch/lib/components/chart/ReactiveChart.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _echartsForReact = require('echarts-for-react');\n\nvar _echartsForReact2 = _interopRequireDefault(_echartsForReact);\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _propTypes = require('prop-types');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _utils = require('../../utils');\n\nvar _PreferencesConsumer = require('../basic/PreferencesConsumer');\n\nvar _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar getLoading = function getLoading(loading) {\n\treturn loading === undefined ? true : loading;\n};\nvar ChartTypes = {\n\tPie: 'pie',\n\tScatter: 'scatter',\n\tHistogram: 'histogram',\n\tLine: 'line',\n\tBar: 'bar',\n\tCustom: 'custom'\n};\n\nvar ReactiveChart = function (_React$Component) {\n\t_inherits(ReactiveChart, _React$Component);\n\n\tfunction ReactiveChart(props) {\n\t\t_classCallCheck(this, ReactiveChart);\n\n\t\tvar _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\tvar defaultValue = props.value;\n\t\tvar currentValue = props.selectedValue || defaultValue;\n\t\tvar options = _this.transformOptions(props.options, props);\n\n\t\t_this.state = {\n\t\t\tcurrentValue: currentValue,\n\t\t\toptions: options\n\t\t};\n\t\t_this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);\n\t\t// Set custom and default queries in store\n\t\t(0, _helper.updateCustomQuery)(props.componentId, props, currentValue);\n\t\t(0, _helper.updateDefaultQuery)(_this.internalComponent, props, currentValue);\n\n\t\t_this.updateQueryOptions(props, false);\n\t\tif (currentValue) {\n\t\t\t_this.setValue(currentValue, true, props);\n\t\t}\n\t\t_this.setReact(props, _this.internalComponent);\n\t\t_this.handleRange = (0, _helper.debounce)(_this.handleRange, 100);\n\n\t\tif (props.chartType === ChartTypes.Custom) {\n\t\t\tif (typeof props.defaultQuery !== 'function' || typeof props.setOption !== 'function') {\n\t\t\t\tthrow new Error('defaultQuery and setOption should be defined when chartType is custom');\n\t\t\t}\n\t\t\tif (props.useAsFilter && typeof props.customQuery !== 'function') {\n\t\t\t\tthrow new Error('customQuery should be defined when chartType is custom and useAsFilter is true');\n\t\t\t}\n\t\t}\n\t\treturn _this;\n\t}\n\n\tReactiveChart.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\tif (!(0, _helper.isEqual)(prevProps.options, this.props.options)) {\n\t\t\t// set options in state\n\t\t\t// eslint-disable-next-line\n\t\t\tthis.setState({\n\t\t\t\toptions: this.transformOptions(this.props.options, this.props)\n\t\t\t});\n\t\t}\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'aggregationSize'], function () {\n\t\t\t_this2.updateDefaultQuery();\n\t\t\t_this2.updateQuery(_this2.state.currentValue, _this2.props);\n\t\t});\n\t\tif (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'defaultQuery')) {\n\t\t\tthis.updateDefaultQuery();\n\t\t\t// Clear the component value\n\t\t\tthis.updateQuery('', this.props);\n\t\t}\n\n\t\tif (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'customQuery')) {\n\t\t\tthis.updateQuery(this.state.currentValue, this.props);\n\t\t}\n\n\t\tif (this.props.value !== prevProps.value) {\n\t\t\tthis.setValue(this.props.value);\n\t\t} else if (this.state.currentValue !== this.props.selectedValue && this.props.selectedValue !== prevProps.selectedValue) {\n\t\t\tvar _props = this.props,\n\t\t\t    value = _props.value,\n\t\t\t    onChange = _props.onChange;\n\n\t\t\tif (value === undefined) {\n\t\t\t\tthis.setValue(this.props.selectedValue);\n\t\t\t} else if (onChange) {\n\t\t\t\tonChange(this.props.selectedValue);\n\t\t\t} else {\n\t\t\t\tthis.setValue(this.state.currentValue, true);\n\t\t\t}\n\t\t}\n\t};\n\n\tReactiveChart.prototype.transformOptions = function transformOptions(options, props) {\n\t\treturn (props.options && props.options[props.dataField] ? props.options[props.dataField].buckets : []).filter(function (item) {\n\t\t\treturn !!String(item.key).length;\n\t\t});\n\t};\n\n\tReactiveChart.prototype.render = function render() {\n\t\tvar _props2 = this.props,\n\t\t    onDblClick = _props2.onDblClick,\n\t\t    onMouseDown = _props2.onMouseDown,\n\t\t    onMouseUp = _props2.onMouseUp,\n\t\t    onMouseMove = _props2.onMouseMove,\n\t\t    onMouseOut = _props2.onMouseOut,\n\t\t    onGlobalOut = _props2.onGlobalOut,\n\t\t    onContextMenu = _props2.onContextMenu,\n\t\t    isLoading = _props2.isLoading,\n\t\t    error = _props2.error,\n\t\t    loader = _props2.loader,\n\t\t    renderError = _props2.renderError;\n\n\t\tif (isLoading) {\n\t\t\treturn loader || null;\n\t\t}\n\t\tif (error) {\n\t\t\tif (renderError) {\n\t\t\t\tif ((0, _helper.isFunction)(renderError)) {\n\t\t\t\t\treturn renderError(error);\n\t\t\t\t}\n\t\t\t\treturn renderError;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\treturn _react2.default.createElement(_echartsForReact2.default, {\n\t\t\toption: this.getChartOptions(),\n\t\t\tonEvents: {\n\t\t\t\tclick: this.handleClick,\n\t\t\t\tdblclick: onDblClick,\n\t\t\t\tmousedown: onMouseDown,\n\t\t\t\tmouseup: onMouseUp,\n\t\t\t\tmousemove: onMouseMove,\n\t\t\t\tmouseout: onMouseOut,\n\t\t\t\tglobalout: onGlobalOut,\n\t\t\t\tcontextmenu: onContextMenu,\n\t\t\t\tdatazoom: this.handleRange\n\t\t\t},\n\t\t\tnotMerge: true\n\t\t});\n\t};\n\n\treturn ReactiveChart;\n}(_react2.default.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this3 = this;\n\n\tthis.setReact = function (props, componentId) {\n\t\tvar react = props.react;\n\n\t\tif (react) {\n\t\t\tvar newReact = (0, _helper.pushToAndClause)(react, _this3.internalComponent);\n\t\t\tprops.watchComponent(componentId, newReact);\n\t\t} else {\n\t\t\tprops.watchComponent(componentId, {\n\t\t\t\tand: _this3.internalComponent\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.updateDefaultQuery = function (queryOptions) {\n\t\tvar props = _this3.props;\n\t\tvar value = void 0;\n\t\tif (props.type === 'range') {\n\t\t\tvalue = (0, _utils.getNumericRangeArray)(props.range, props.queryFormat);\n\t\t}\n\t\t(0, _helper.updateInternalQuery)(_this3.internalComponent, queryOptions, value, _this3.props, ReactiveChart.generateQueryOptions(_this3.props, _this3.state.prevAfter, value), null);\n\t};\n\n\tthis.updateQueryOptions = function (props) {\n\t\tvar addAfterKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\t\tvar queryOptions = ReactiveChart.generateQueryOptions(props, addAfterKey ? _this3.state.after : {}, _this3.state.currentValue);\n\n\t\t_this3.updateDefaultQuery(queryOptions);\n\t};\n\n\tthis.handleClick = function () {\n\t\tvar _props3 = _this3.props,\n\t\t    onClick = _props3.onClick,\n\t\t    useAsFilter = _props3.useAsFilter,\n\t\t    chartType = _props3.chartType,\n\t\t    type = _props3.type;\n\n\t\tif (onClick) {\n\t\t\tonClick.apply(undefined, arguments);\n\t\t}\n\t\tif (useAsFilter && type !== 'range') {\n\t\t\tvar item = arguments.length <= 0 ? undefined : arguments[0];\n\t\t\tvar value = void 0;\n\t\t\tif (item.data && item.data.name) {\n\t\t\t\tvalue = item.data.name;\n\t\t\t} else {\n\t\t\t\tvalue = item.data;\n\t\t\t}\n\t\t\tif (!Number.isNaN(parseInt(value, 10))) {\n\t\t\t\tvalue = parseInt(value, 10);\n\t\t\t}\n\t\t\tif (chartType === ChartTypes.Custom) {\n\t\t\t\tvalue = {\n\t\t\t\t\tmainLabel: item.name,\n\t\t\t\t\tsecondaryLabel: item.seriesName,\n\t\t\t\t\tdata: item.data\n\t\t\t\t};\n\t\t\t}\n\t\t\t_this3.setValue(value);\n\t\t}\n\t};\n\n\tthis.updateQuery = function (value, props) {\n\t\tvar execute = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\t\tvar customQuery = props.customQuery;\n\n\t\tvar query = ReactiveChart.defaultQuery(value, props);\n\t\tvar customQueryOptions = void 0;\n\t\tif (customQuery) {\n\t\t\t(0, _helper.updateCustomQuery)(props.componentId, props, value);\n\t\t}\n\t\tprops.setQueryOptions(props.componentId, _extends({}, ReactiveChart.generateQueryOptions(props, _this3.state.prevAfter, _this3.state.currentValue), customQueryOptions), false);\n\t\tprops.updateQuery({\n\t\t\tcomponentId: props.componentId,\n\t\t\tquery: query,\n\t\t\tvalue: value,\n\t\t\tlabel: props.filterLabel,\n\t\t\tshowFilter: props.showFilter,\n\t\t\tURLParams: props.URLParams,\n\t\t\tcomponentType: _constants.componentTypes.reactiveChart\n\t\t}, execute, false);\n\t};\n\n\tthis.setValue = function (value) {\n\t\tvar isDefault = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\tvar props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this3.props;\n\n\t\tvar performUpdate = function performUpdate() {\n\t\t\tvar handleUpdates = function handleUpdates() {\n\t\t\t\t_this3.updateQuery(value, props);\n\t\t\t};\n\t\t\t_this3.setState({\n\t\t\t\tcurrentValue: value\n\t\t\t}, handleUpdates);\n\t\t};\n\t\tif (isDefault) {\n\t\t\t_this3.updateQuery(value, props, false, false);\n\t\t} else {\n\t\t\t(0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n\t\t}\n\t};\n\n\tthis.getChartOptions = function () {\n\t\tvar _props4 = _this3.props,\n\t\t    chartType = _props4.chartType,\n\t\t    title = _props4.title,\n\t\t    labelFormatter = _props4.labelFormatter,\n\t\t    xAxisName = _props4.xAxisName,\n\t\t    yAxisName = _props4.yAxisName,\n\t\t    rawData = _props4.rawData,\n\t\t    hits = _props4.hits,\n\t\t    xAxisField = _props4.xAxisField,\n\t\t    yAxisField = _props4.yAxisField,\n\t\t    type = _props4.type;\n\t\tvar _state = _this3.state,\n\t\t    options = _state.options,\n\t\t    currentValue = _state.currentValue;\n\t\tvar setOption = _this3.props.setOption;\n\n\t\tvar results = (0, _helper.parseHits)(hits) || [];\n\t\tvar chartOptions = {\n\t\t\taggregationData: options,\n\t\t\trawData: rawData,\n\t\t\tvalue: currentValue,\n\t\t\tdata: results,\n\t\t\txAxisField: xAxisField,\n\t\t\tyAxisField: yAxisField,\n\t\t\tchartType: chartType,\n\t\t\ttitle: title,\n\t\t\tlabelFormatter: labelFormatter,\n\t\t\txAxisName: xAxisName,\n\t\t\tyAxisName: yAxisName,\n\t\t\ttype: type\n\t\t};\n\t\tif (setOption) {\n\t\t\treturn setOption(chartOptions);\n\t\t}\n\t\treturn ReactiveChart.getOption(chartOptions);\n\t};\n\n\tthis.handleRange = function () {\n\t\tvar _props5 = _this3.props,\n\t\t    useAsFilter = _props5.useAsFilter,\n\t\t    onDataZoom = _props5.onDataZoom;\n\n\t\tif (useAsFilter) {\n\t\t\tvar echartInstance = arguments.length <= 1 ? undefined : arguments[1];\n\t\t\tvar axis = echartInstance.getModel().option.xAxis[0];\n\t\t\tvar option = echartInstance.getOption();\n\t\t\tvar start = option.dataZoom[0].startValue;\n\t\t\tvar end = option.dataZoom[0].endValue;\n\t\t\tvar startRangeValue = axis.data[start];\n\t\t\tvar endRangeValue = axis.data[end];\n\t\t\tvar rangeValue = [startRangeValue.value !== undefined ? startRangeValue.value : startRangeValue, endRangeValue.value !== undefined ? endRangeValue.value : endRangeValue];\n\t\t\t_this3.setValue(rangeValue);\n\t\t}\n\t\tif (onDataZoom) {\n\t\t\tonDataZoom.apply(undefined, arguments);\n\t\t}\n\t};\n};\n\nReactiveChart.generateQueryOptions = function (props, after) {\n\tvar value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\tvar queryOptions = (0, _helper.getQueryOptions)(props);\n\treturn (0, _helper.getAggsQuery)(value, queryOptions, props);\n};\n\nReactiveChart.defaultQuery = function (value, props) {\n\treturn {\n\t\tquery: {\n\t\t\tqueryFormat: props.queryFormat,\n\t\t\tdataField: props.dataField,\n\t\t\tvalue: value,\n\t\t\tnestedField: props.nestedField\n\t\t}\n\t};\n};\n\nReactiveChart.GetScatterChartOptions = '({\\n\\tdata,\\n\\ttitle,\\n\\txAxisName,\\n\\tyAxisName,\\n\\txAxisField,\\n\\tyAxisField,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\txAxis: {\\n\\t\\t\\tname: xAxisName,\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tsymbolSize: 20,\\n\\t\\t\\t\\tdata: data.map(d => [d[xAxisField], d[yAxisField]]),\\n\\t\\t\\t\\ttype: \\'scatter\\',\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.GetPieChartOptions = '({ title, aggregationData }) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t\\tleft: \\'center\\',\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'pie\\',\\n\\t\\t\\t\\tradius: \\'50%\\',\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\temphasis: {\\n\\t\\t\\t\\t\\titemStyle: {\\n\\t\\t\\t\\t\\t\\tshadowBlur: 10,\\n\\t\\t\\t\\t\\t\\tshadowOffsetX: 0,\\n\\t\\t\\t\\t\\t\\tshadowColor: \\'rgba(0, 0, 0, 0.5)\\',\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.GetHistogramChartOptions = '({\\n\\ttitle,\\n\\txAxisName,\\n\\tyAxisName,\\n\\taggregationData,\\n\\tvalue,\\n\\tlabelFormatter,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\tconst xAxisData = aggregationData.map(item => ({\\n\\t\\tvalue: item.key,\\n\\t\\tname: item.key,\\n\\t}));\\n\\tlet startIndex = -1;\\n\\tlet endIndex = -1;\\n\\tif (value && Array.isArray(value)) {\\n\\t\\tstartIndex = xAxisData.findIndex(i => i.value === value[0]);\\n\\t\\tendIndex = xAxisData.findIndex(i => i.value === value[1]);\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttoolbox: {\\n\\t\\t\\tfeature: {\\n\\t\\t\\t\\tdataZoom: {\\n\\t\\t\\t\\t\\tyAxisIndex: false,\\n\\t\\t\\t\\t\\tlabelFormatter,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tsaveAsImage: {\\n\\t\\t\\t\\t\\tpixelRatio: 2,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'axis\\',\\n\\t\\t\\taxisPointer: {\\n\\t\\t\\t\\ttype: \\'shadow\\',\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\tgrid: {\\n\\t\\t\\tbottom: 90,\\n\\t\\t},\\n\\t\\tdataZoom: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'inside\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'slider\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t],\\n\\t\\txAxis: {\\n\\t\\t\\tdata: xAxisData,\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\tsilent: false,\\n\\t\\t\\tsplitLine: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t\\tsplitArea: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\tsplitArea: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'bar\\',\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\t// Set \\'large\\' for large data amount\\n\\t\\t\\t\\tlarge: true,\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.GetBarChartOptions = '({\\n\\ttitle, xAxisName, yAxisName, aggregationData,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\txAxis: {\\n\\t\\t\\ttype: \\'category\\',\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\tvalue: item.key,\\n\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t})),\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\ttype: \\'value\\',\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\ttype: \\'bar\\',\\n\\t\\t\\t\\tshowBackground: true,\\n\\t\\t\\t\\tbackgroundStyle: {\\n\\t\\t\\t\\t\\tcolor: \\'rgba(180, 180, 180, 0.2)\\',\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.GetLineChartOptions = '({\\n\\ttitle,\\n\\ttype,\\n\\tvalue,\\n\\txAxisName,\\n\\tyAxisName,\\n\\taggregationData,\\n\\tlabelFormatter,\\n}) => {\\n\\tlet chartTitle;\\n\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\tconst xAxisData = aggregationData.map(item => ({\\n\\t\\tvalue: item.key,\\n\\t\\tname: item.key,\\n\\t}));\\n\\n\\tlet startIndex = -1;\\n\\tlet endIndex = -1;\\n\\tconst isValueArray = value && Array.isArray(value);\\n\\tconst isRangeType = type === \\'range\\';\\n\\tif (isValueArray && isRangeType) {\\n\\t\\tstartIndex = xAxisData.findIndex(i => i.value === value[0]);\\n\\t\\tendIndex = xAxisData.findIndex(i => i.value === value[1]);\\n\\t}\\n\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttoolbox: isRangeType ? {\\n\\t\\t\\tfeature: {\\n\\t\\t\\t\\tdataZoom: {\\n\\t\\t\\t\\t\\tyAxisIndex: false,\\n\\t\\t\\t\\t\\tlabelFormatter,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t}: undefined,\\n\\t\\txAxis: {\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\ttype: \\'category\\',\\n\\t\\t\\tdata: xAxisData\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\ttype: \\'value\\',\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tdataZoom: isRangeType ? [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'inside\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'slider\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t]: undefined,\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\ttype: \\'line\\',\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.getOption = function (_ref) {\n\tvar chartType = _ref.chartType,\n\t    chartConfig = _objectWithoutProperties(_ref, ['chartType']);\n\n\t// eslint-disable-next-line\n\tvar chartConfigMethod = eval(ReactiveChart.getOptionAsString(chartType));\n\tif (chartConfig) {\n\t\treturn chartConfigMethod(chartConfig);\n\t}\n\treturn null;\n};\n\nReactiveChart.getOptionAsString = function (chartType) {\n\tswitch (chartType) {\n\t\tcase ChartTypes.Scatter:\n\t\t\treturn ReactiveChart.GetScatterChartOptions;\n\t\tcase ChartTypes.Line:\n\t\t\treturn ReactiveChart.GetLineChartOptions;\n\t\tcase ChartTypes.Bar:\n\t\t\treturn ReactiveChart.GetBarChartOptions;\n\t\tcase ChartTypes.Pie:\n\t\t\treturn ReactiveChart.GetPieChartOptions;\n\t\tcase ChartTypes.Histogram:\n\t\t\treturn ReactiveChart.GetHistogramChartOptions;\n\t\tdefault:\n\t\t\treturn null;\n\t}\n};\n\nReactiveChart.defaultRangeQuery = function (value, props) {\n\tvar query = null;\n\tif (Array.isArray(value) && value.length) {\n\t\tquery = (0, _utils.getRangeQueryWithNullValues)(value, props);\n\t}\n\n\tif (query && props.nestedField) {\n\t\treturn {\n\t\t\tnested: {\n\t\t\t\tpath: props.nestedField,\n\t\t\t\tquery: query\n\t\t\t}\n\t\t};\n\t}\n\n\treturn query;\n};\nReactiveChart.propTypes = {\n\t// UI props\n\tfilterLabel: _types2.default.string,\n\t// events\n\tonClick: _propTypes.func,\n\tonDblClick: _propTypes.func,\n\tonMouseDown: _propTypes.func,\n\tonMouseUp: _propTypes.func,\n\tonMouseMove: _propTypes.func,\n\tonMouseOut: _propTypes.func,\n\tonGlobalOut: _propTypes.func,\n\tonContextMenu: _propTypes.func,\n\tbeforeValueChange: _propTypes.func,\n\tonDataZoom: _propTypes.func,\n\t// ---- user props ---\n\t// props to configure query\n\tcomponentId: _types2.default.stringRequired,\n\tURLParams: _types2.default.bool,\n\tdataField: _types2.default.stringRequired,\n\tshowFilter: _types2.default.bool,\n\tcustomQuery: _types2.default.func,\n\tdefaultQuery: _types2.default.func,\n\treact: _types2.default.react,\n\tsize: _types2.default.number,\n\tindex: _types2.default.string,\n\tqueryFormat: _types2.default.queryFormatSearch,\n\trange: _types2.default.range,\n\ttype: (0, _propTypes.oneOf)(['term', 'range', 'search', 'geo', 'suggestion']),\n\t// eslint-disable-next-line\n\tvalue: _propTypes.any,\n\t// props to configure chart\n\tchartType: (0, _propTypes.oneOf)(Object.values(ChartTypes)),\n\tsetOption: _propTypes.func,\n\ttitle: _types2.default.string,\n\tuseAsFilter: _types2.default.bool,\n\tlabelFormatter: _types2.default.func,\n\txAxisName: _types2.default.string,\n\tyAxisName: _types2.default.string,\n\txAxisField: _types2.default.string,\n\tyAxisField: _types2.default.string,\n\t// ---------//\n\tloader: _types2.default.title,\n\tonError: _types2.default.func,\n\trenderError: _types2.default.title,\n\tonChange: _types2.default.func,\n\t// redux props\n\tsetQueryOptions: _types2.default.funcRequired,\n\twatchComponent: _types2.default.funcRequired,\n\tupdateQuery: _types2.default.funcRequired,\n\toptions: _types2.default.options,\n\trawData: _types2.default.rawData,\n\thits: _types2.default.hits,\n\tselectedValue: _types2.default.selectedValue,\n\tsetCustomQuery: _types2.default.funcRequired,\n\tisLoading: _types2.default.bool,\n\terror: _types2.default.title,\n\tendpoint: _types2.default.endpoint\n};\n\nReactiveChart.defaultProps = {\n\tuseAsFilter: true,\n\tchartType: 'custom'\n};\n\n// Add componentType for SSR\nReactiveChart.componentType = _constants.componentTypes.multiList;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\treturn {\n\t\toptions: props.nestedField && state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)] ? state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)].reactivesearch_nested : state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)],\n\t\thits: state.hits[(0, _transform.getInternalComponentID)(props.componentId)] && state.hits[(0, _transform.getInternalComponentID)(props.componentId)].hits,\n\t\trawData: state.rawData[(0, _transform.getInternalComponentID)(props.componentId)],\n\t\tselectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n\t\tisLoading: getLoading(state.isLoading[(0, _transform.getInternalComponentID)(props.componentId)]),\n\t\terror: state.error[(0, _transform.getInternalComponentID)(props.componentId)]\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\twatchComponent: function watchComponent(component, react) {\n\t\t\treturn dispatch((0, _actions.watchComponent)(component, react));\n\t\t},\n\t\tsetCustomQuery: function setCustomQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setCustomQuery)(component, query));\n\t\t},\n\t\tsetDefaultQuery: function setDefaultQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setDefaultQuery)(component, query));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions(component, props, execute) {\n\t\t\treturn dispatch((0, _actions.setQueryOptions)(component, props, execute));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject, execute, setInternalValue) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject, execute, setInternalValue));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n\treturn _react2.default.createElement(ReactiveChart, _extends({ ref: props.myForwardedRef }, props));\n});\n\n// eslint-disable-next-line\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n\treturn _react2.default.createElement(\n\t\t_PreferencesConsumer2.default,\n\t\t{ userProps: props },\n\t\tfunction (preferenceProps) {\n\t\t\tvar type = preferenceProps.type;\n\t\t\tif (!type) {\n\t\t\t\tif (preferenceProps.chartType === ChartTypes.Scatter) {\n\t\t\t\t\ttype = 'range';\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar aggregationSize = preferenceProps.aggregationSize;\n\t\t\tif (!aggregationSize) {\n\t\t\t\tif (!type || type === 'term') {\n\t\t\t\t\taggregationSize = preferenceProps.size;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar size = preferenceProps.size;\n\t\t\tif (preferenceProps.chartType === ChartTypes.Scatter) {\n\t\t\t\tsize = 10;\n\t\t\t}\n\t\t\tvar dataField = preferenceProps.dataField;\n\t\t\tif (preferenceProps.chartType === ChartTypes.Scatter) {\n\t\t\t\tif (!dataField) {\n\t\t\t\t\tdataField = '_default';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_ComponentWrapper2.default,\n\t\t\t\t_extends({}, preferenceProps, {\n\t\t\t\t\ttype: type,\n\t\t\t\t\tinternalComponent: true,\n\t\t\t\t\tcomponentType: _constants.componentTypes.reactiveChart,\n\t\t\t\t\tshowHistogram: preferenceProps.chartType === ChartTypes.Scatter ? false : type === 'range',\n\t\t\t\t\tsetReact: false,\n\t\t\t\t\taggregationSize: aggregationSize,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tdataField: dataField\n\t\t\t\t}),\n\t\t\t\tfunction (componentProps) {\n\t\t\t\t\treturn _react2.default.createElement(ConnectedComponent, _extends({}, preferenceProps, {\n\t\t\t\t\t\tsize: size,\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\taggregationSize: aggregationSize,\n\t\t\t\t\t\tdataField: dataField,\n\t\t\t\t\t\tmyForwardedRef: ref\n\t\t\t\t\t}, componentProps));\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n});\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, ReactiveChart);\n\nForwardRefComponent.displayName = 'ReactiveChart';\nexports.default = ForwardRefComponent;"],"mappings":"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"},"metadata":{},"sourceType":"script"}