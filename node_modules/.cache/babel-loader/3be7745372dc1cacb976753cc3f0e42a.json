{"ast":null,"code":"var _jsxFileName = \"/Users/billionare/Documents/reactSmartshop/SmartShopProduction-main/src/components/dashboard/Dashboard.js\";\nimport React, { Component } from 'react';\nimport Notifications from './Notifications';\nimport ProjectList from '../projects/ProjectList';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase'; // import { Redirect } from 'react-router-dom';\n\nimport ProjectListWithoutAuth from '../projects/ProjectListWithoutAuth';\nimport Products from '../projects/Products'; // import OptionsPanel from '../layout/OptionsPanel';\n\nimport PropTypes from 'prop-types';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\nclass Dashboard extends Component {\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.q !== this.props.q) {\n      return true;\n    } else if (this.props.projects) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  componentWillUpdate() {\n    this.props.projects.filter(el => {\n      el.title.includes(this.props.q);\n    });\n  }\n\n  render() {\n    //console.log(this.props);\n    const {\n      products,\n      projects,\n      auth,\n      notifications,\n      q\n    } = this.props;\n    let filteredProjects = projects;\n    if (!auth.uid) return /*#__PURE__*/React.createElement(\"section\", {\n      name: \"products\",\n      className: \"products\",\n      id: \"products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ProjectListWithoutAuth, {\n      projects: this.props.projects,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m5 offset-m1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Notifications, {\n      notifications: notifications,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }))));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ProjectList, {\n      projects: this.props.projects,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m5 offset-m1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Notifications, {\n      notifications: notifications,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nconst getSearchedProjects = (projects, q) => {\n  if (q) {\n    return projects.filter(p => p.title.toLowerCase().startsWith(q.toLowerCase()));\n  } else {\n    return projects;\n  }\n};\n\nProducts.propTypes = {\n  firestore: PropTypes.object.isRequired,\n  products: PropTypes.array\n};\n\nconst mapStateToProps = state => {\n  return {\n    projects: getSearchedProjects(state.firestore.ordered.projects, state.search.q),\n    auth: state.firebase.auth,\n    notifications: state.firestore.ordered.notifications\n  };\n};\n\nexport default compose(connect(mapStateToProps), firestoreConnect([{\n  collection: 'projects',\n  orderBy: ['createdAt', 'desc']\n}, {\n  collection: 'notifications',\n  limit: 3,\n  orderBy: ['time', 'desc']\n}]))(Dashboard);","map":{"version":3,"names":["React","Component","Notifications","ProjectList","connect","compose","firestoreConnect","ProjectListWithoutAuth","Products","PropTypes","Dashboard","shouldComponentUpdate","nextProps","nextState","q","props","projects","componentWillUpdate","filter","el","title","includes","render","products","auth","notifications","filteredProjects","uid","getSearchedProjects","p","toLowerCase","startsWith","propTypes","firestore","object","isRequired","array","mapStateToProps","state","ordered","search","firebase","collection","orderBy","limit"],"sources":["/Users/billionare/Documents/reactSmartshop/SmartShopProduction-main/src/components/dashboard/Dashboard.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Notifications from './Notifications';\nimport ProjectList from '../projects/ProjectList';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\n// import { Redirect } from 'react-router-dom';\nimport ProjectListWithoutAuth from '../projects/ProjectListWithoutAuth';\nimport Products from '../projects/Products';\n// import OptionsPanel from '../layout/OptionsPanel';\nimport PropTypes from 'prop-types';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\nclass Dashboard extends Component {\n\n    shouldComponentUpdate(nextProps, nextState){\n        if(nextProps.q !== this.props.q){\n            return true;\n        }\n        else if(this.props.projects){\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n\n    componentWillUpdate(){\n        this.props.projects.filter(el =>{\n            el.title.includes(this.props.q)\n        })\n    }\n\n    render() { \n        //console.log(this.props);\n        const { products,projects, auth, notifications, q } = this.props;\n\n        let filteredProjects = projects;\n        \n        if(!auth.uid) return (\n       \n       <section name=\"products\" className=\"products\" id=\"products\">\n            <div className=\"dashboard container\">\n        \n            <div className=\"row\">\n                <div className=\"col s12 m6\">\n                    <ProjectListWithoutAuth projects={this.props.projects} />\n                </div>\n                <div className=\"col s12 m5 offset-m1\">\n                    <Notifications notifications={notifications}/>\n                </div>\n                <div>\n            \n                    {/* <OptionsPanel />\n                    <Products products={this.props.products} /> */}\n                    \n                    </div>\n            </div>\n            </div>\n    </section>)\n        return (\n            <div className=\"dashboard container\">\n                <div className=\"row\">\n                    <div className=\"col s12 m6\">\n                        <ProjectList projects={this.props.projects} />\n                    </div>\n                    <div className=\"col s12 m5 offset-m1\">\n                        <Notifications notifications={notifications}/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst getSearchedProjects = (projects, q) => {\n    if(q){\n        return projects.filter(p => p.title.toLowerCase().startsWith(q.toLowerCase()));\n    }\n    else{\n        return projects\n    }\n}\n\nProducts.propTypes = {\n    firestore: PropTypes.object.isRequired,\n    products: PropTypes.array\n  };\n\nconst mapStateToProps = (state) => {\n    return {\n        projects: getSearchedProjects(state.firestore.ordered.projects, state.search.q),\n        auth: state.firebase.auth,\n        notifications: state.firestore.ordered.notifications,\n      \n    }\n};\n \nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect([\n        { collection: 'projects', orderBy:['createdAt', 'desc']},\n        { collection: 'notifications', limit: 3, orderBy:['time', 'desc']},\n       \n    ])\n)(Dashboard);"],"mappings":"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"},"metadata":{},"sourceType":"module"}