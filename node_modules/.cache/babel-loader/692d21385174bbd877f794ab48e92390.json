{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amagzum\\\\Downloads\\\\22082021\\\\marioplan-master\\\\src\\\\components\\\\dashboard\\\\Dashboard.js\";\nimport React, { Component } from 'react';\nimport Notifications from './Notifications';\nimport ProjectList from '../projects/ProjectList';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { Redirect } from 'react-router-dom';\nimport ProjectListWithoutAuth from '../projects/ProjectListWithoutAuth';\nimport Products from '../projects/Products';\nimport OptionsPanel from '../layout/OptionsPanel';\nimport PropTypes from 'prop-types';\n\nclass Dashboard extends Component {\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.q !== this.props.q) {\n      return true;\n    } else if (this.props.projects) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  componentWillUpdate() {\n    this.props.projects.filter(el => {\n      el.title.includes(this.props.q);\n    });\n  }\n\n  render() {\n    //console.log(this.props);\n    const _this$props = this.props,\n          products = _this$props.products,\n          projects = _this$props.projects,\n          auth = _this$props.auth,\n          notifications = _this$props.notifications,\n          q = _this$props.q;\n    let filteredProjects = projects;\n    if (!auth.uid) return React.createElement(\"div\", {\n      className: \"dashboard container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 m6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(ProjectListWithoutAuth, {\n      projects: this.props.projects,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s12 m5 offset-m1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Notifications, {\n      notifications: notifications,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(OptionsPanel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(Products, {\n      products: this.props.products,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }))));\n    return React.createElement(\"div\", {\n      className: \"dashboard container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 m6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(ProjectList, {\n      projects: this.props.projects,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s12 m5 offset-m1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Notifications, {\n      notifications: notifications,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst getSearchedProjects = (projects, q) => {\n  if (q) {\n    return projects.filter(p => p.title.toLowerCase().startsWith(q.toLowerCase()));\n  } else {\n    return projects;\n  }\n};\n\nProducts.propTypes = {\n  firestore: PropTypes.object.isRequired,\n  products: PropTypes.array\n};\n\nconst mapStateToProps = state => {\n  return {\n    projects: getSearchedProjects(state.firestore.ordered.projects, state.search.q),\n    auth: state.firebase.auth,\n    notifications: state.firestore.ordered.notifications,\n    products: state.firestore.ordered.products\n  };\n};\n\nexport default compose(connect(mapStateToProps), firestoreConnect([{\n  collection: 'projects',\n  orderBy: ['createdAt', 'desc']\n}, {\n  collection: 'notifications',\n  limit: 3,\n  orderBy: ['time', 'desc']\n}, {\n  collection: 'products',\n  orderBy: ['createdAt', 'desc']\n}]))(Dashboard);","map":{"version":3,"sources":["C:\\Users\\amagzum\\Downloads\\22082021\\marioplan-master\\src\\components\\dashboard\\Dashboard.js"],"names":["React","Component","Notifications","ProjectList","connect","compose","firestoreConnect","Redirect","ProjectListWithoutAuth","Products","OptionsPanel","PropTypes","Dashboard","shouldComponentUpdate","nextProps","nextState","q","props","projects","componentWillUpdate","filter","el","title","includes","render","products","auth","notifications","filteredProjects","uid","getSearchedProjects","p","toLowerCase","startsWith","propTypes","firestore","object","isRequired","array","mapStateToProps","state","ordered","search","firebase","collection","orderBy","limit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Notifications from './Notifications';\nimport ProjectList from '../projects/ProjectList';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { Redirect } from 'react-router-dom';\nimport ProjectListWithoutAuth from '../projects/ProjectListWithoutAuth';\nimport Products from '../projects/Products';\nimport OptionsPanel from '../layout/OptionsPanel';\nimport PropTypes from 'prop-types';\nclass Dashboard extends Component {\n\n    shouldComponentUpdate(nextProps, nextState){\n        if(nextProps.q !== this.props.q){\n            return true;\n        }\n        else if(this.props.projects){\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n\n    componentWillUpdate(){\n        this.props.projects.filter(el =>{\n            el.title.includes(this.props.q)\n        })\n    }\n\n    render() { \n        //console.log(this.props);\n        const { products,projects, auth, notifications, q } = this.props;\n\n        let filteredProjects = projects;\n        \n        if(!auth.uid) return (<div className=\"dashboard container\">\n        <div className=\"row\">\n            <div className=\"col s12 m6\">\n                <ProjectListWithoutAuth projects={this.props.projects} />\n            </div>\n            <div className=\"col s12 m5 offset-m1\">\n                <Notifications notifications={notifications}/>\n            </div>\n            <div>\n           \n                <OptionsPanel />\n                 <Products products={this.props.products} />\n                \n                </div>\n        </div>\n    </div>)\n        return (\n            <div className=\"dashboard container\">\n                <div className=\"row\">\n                    <div className=\"col s12 m6\">\n                        <ProjectList projects={this.props.projects} />\n                    </div>\n                    <div className=\"col s12 m5 offset-m1\">\n                        <Notifications notifications={notifications}/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst getSearchedProjects = (projects, q) => {\n    if(q){\n        return projects.filter(p => p.title.toLowerCase().startsWith(q.toLowerCase()));\n    }\n    else{\n        return projects\n    }\n}\n\nProducts.propTypes = {\n    firestore: PropTypes.object.isRequired,\n    products: PropTypes.array\n  };\n\nconst mapStateToProps = (state) => {\n    return {\n        projects: getSearchedProjects(state.firestore.ordered.projects, state.search.q),\n        auth: state.firebase.auth,\n        notifications: state.firestore.ordered.notifications,\n        products: state.firestore.ordered.products\n    }\n};\n \nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect([\n        { collection: 'projects', orderBy:['createdAt', 'desc']},\n        { collection: 'notifications', limit: 3, orderBy:['time', 'desc']},\n        { collection: 'products', orderBy:['createdAt', 'desc']}\n    ])\n)(Dashboard);"]},"metadata":{},"sourceType":"module"}