{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = require('react-redux');\n\nvar _appbaseJs = require('appbase-js');\n\nvar _appbaseJs2 = _interopRequireDefault(_appbaseJs);\n\nvar _analytics = require('@appbaseio/analytics');\n\nvar _analytics2 = _interopRequireDefault(_analytics);\n\nrequire('url-search-params-polyfill');\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _reactivecore = require('@appbaseio/reactivecore');\n\nvar _reactivecore2 = _interopRequireDefault(_reactivecore);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _analytics3 = require('@appbaseio/reactivecore/lib/actions/analytics');\n\nvar _value = require('@appbaseio/reactivecore/lib/actions/value');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _URLParamsProvider = require('./URLParamsProvider');\n\nvar _URLParamsProvider2 = _interopRequireDefault(_URLParamsProvider);\n\nvar _theme = require('../../styles/theme');\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* eslint-disable global-require */\n\n\nvar ReactiveBase = function (_Component) {\n  _inherits(ReactiveBase, _Component);\n\n  function ReactiveBase(props) {\n    _classCallCheck(this, ReactiveBase);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      key: '__REACTIVE_BASE__'\n    };\n\n    _this.setStore(props);\n\n    return _this;\n  }\n\n  ReactiveBase.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['app', 'url', 'type', 'credentials', 'mapKey', 'mapLibraries', 'headers', 'graphQLUrl'], function () {\n      _this2.setStore(_this2.props);\n\n      _this2.setState(function (state) {\n        return {\n          key: state.key + '-0'\n        };\n      });\n    });\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['reactivesearchAPIConfig'], function () {\n      if (_this2.store) {\n        _this2.store.dispatch((0, _analytics3.updateAnalyticsConfig)(_this2.props.reactivesearchAPIConfig));\n      }\n    });\n  };\n\n  ReactiveBase.prototype.componentDidCatch = function componentDidCatch(error, errorInfo) {\n    console.error(\"An error has occured. You're using Reactivesearch Version:\", (process.env.VERSION || require('../../../package.json').version) + '.', 'If you think this is a problem with Reactivesearch, please try updating', \"to the latest version. If you're already at the latest version, please open\", 'an issue at https://github.com/appbaseio/reactivesearch/issues', error, errorInfo);\n  };\n\n  ReactiveBase.prototype.render = function render() {\n    var theme = (0, _utils.composeThemeObject)((0, _theme2.default)(this.props.themePreset), this.props.theme);\n    return _react2.default.createElement(_utils.SearchPreferencesContext.Provider, {\n      value: this.props.preferences\n    }, _react2.default.createElement(_emotionTheming.ThemeProvider, {\n      theme: theme,\n      key: this.state.key\n    }, _react2.default.createElement(_reactRedux.Provider, {\n      context: _utils.ReactReduxContext,\n      store: this.store\n    }, _react2.default.createElement(_URLParamsProvider2.default, {\n      headers: this.headers,\n      style: this.props.style,\n      as: this.props.as,\n      className: this.props.className,\n      getSearchParams: this.props.getSearchParams,\n      setSearchParams: this.props.setSearchParams\n    }, _react2.default.createElement(_utils.ReduxGetStateContext.Provider, {\n      value: this.getReduxState\n    }, this.props.children)))));\n  };\n\n  _createClass(ReactiveBase, [{\n    key: 'headers',\n    get: function get() {\n      var _props = this.props,\n          headers = _props.headers,\n          reactivesearchAPIConfig = _props.reactivesearchAPIConfig,\n          mongodb = _props.mongodb,\n          endpoint = _props.endpoint;\n\n      var _ref = reactivesearchAPIConfig || {},\n          enableTelemetry = _ref.enableTelemetry;\n\n      return _extends({}, !mongodb && _extends({\n        'X-Search-Client': _utils.X_SEARCH_CLIENT\n      }, enableTelemetry === false && {\n        'X-Enable-Telemetry': false\n      }), headers, endpoint && endpoint.headers && _extends({}, endpoint.headers));\n    }\n  }]);\n\n  return ReactiveBase;\n}(_react.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.setStore = function (props) {\n    _this3.type = props.type ? props.type : '*';\n    var credentials = props.url && props.url.trim() !== '' && !props.credentials ? null : props.credentials;\n    var url = props.url && props.url.trim() !== '' ? props.url : '';\n\n    if (props.endpoint instanceof Object) {\n      if (props.endpoint.url) {\n        url = props.endpoint.url;\n      } else {\n        throw Error('Error(ReactiveSearch): The `endpoint` prop object requires `url` property.');\n      }\n    }\n\n    var config = _extends({\n      url: url,\n      app: props.app,\n      credentials: credentials,\n      type: _this3.type,\n      transformRequest: props.transformRequest,\n      analytics: props.reactivesearchAPIConfig ? props.reactivesearchAPIConfig.recordAnalytics : true,\n      analyticsConfig: props.reactivesearchAPIConfig,\n      graphQLUrl: props.graphQLUrl,\n      transformResponse: props.transformResponse,\n      mongodb: props.mongodb\n    }, props.endpoint instanceof Object && {\n      endpoint: props.endpoint\n    });\n\n    var queryParams = '';\n\n    if (typeof window !== 'undefined') {\n      queryParams = props.getSearchParams ? props.getSearchParams() : window.location.search;\n    } else {\n      queryParams = props.queryParams || '';\n    }\n\n    var params = new URLSearchParams(queryParams);\n    var selectedValues = {};\n    var urlValues = {};\n    Array.from(params.keys()).forEach(function (key) {\n      try {\n        var _extends2, _extends3;\n\n        var parsedParams = JSON.parse(params.get(key));\n        var selectedValue = {};\n\n        if (parsedParams.value) {\n          selectedValue.value = parsedParams.value;\n        } else {\n          selectedValue.value = parsedParams;\n        }\n\n        if (parsedParams.category) selectedValue.category = parsedParams.category;\n        selectedValue.reference = 'URL';\n        selectedValues = _extends({}, selectedValues, (_extends2 = {}, _extends2[key] = selectedValue, _extends2));\n        urlValues = _extends({}, urlValues, (_extends3 = {}, _extends3[key] = selectedValue.value, _extends3));\n      } catch (e) {// Do not add to selectedValues if JSON parsing fails.\n      }\n    });\n    var themePreset = props.themePreset,\n        endpoint = props.endpoint,\n        reactivesearchAPIConfig = props.reactivesearchAPIConfig;\n    var appbaseRef = (0, _appbaseJs2.default)(config);\n\n    appbaseRef.transformRequest = function (request) {\n      var modifiedRequest = (0, _helper.transformRequestUsingEndpoint)(request, endpoint);\n      if (_this3.props.transformRequest) return _this3.props.transformRequest(modifiedRequest);\n      return modifiedRequest;\n    };\n\n    var analyticsInitConfig = {\n      url: url && url.replace(/\\/\\/.*@/, '//'),\n      credentials: appbaseRef.credentials,\n      // When endpoint prop is used index is not defined, so we use _default\n      index: appbaseRef.app || '_default',\n      globalCustomEvents: reactivesearchAPIConfig && reactivesearchAPIConfig.customEvents\n    };\n\n    try {\n      if (_this3.props.endpoint && _this3.props.endpoint.url) {\n        // Remove parts between '//' and first '/' in the url\n        analyticsInitConfig.url = _this3.props.endpoint.url.replace(/\\/\\/(.*?)\\/.*/, '//$1');\n        var headerCredentials = _this3.props.endpoint.headers && _this3.props.endpoint.headers.Authorization;\n        analyticsInitConfig.credentials = headerCredentials && headerCredentials.replace('Basic ', ''); // Decode the credentials\n\n        analyticsInitConfig.credentials = analyticsInitConfig.credentials && atob(analyticsInitConfig.credentials);\n      }\n    } catch (e) {\n      console.error('Endpoint not set correctly for analytics');\n      console.error(e);\n    }\n\n    var analyticsRef = void 0;\n\n    if (config.analytics) {\n      analyticsRef = _analytics2.default.init(analyticsInitConfig);\n    }\n\n    var initialState = _extends({\n      config: _extends({}, config, {\n        mapKey: props.mapKey,\n        mapLibraries: props.mapLibraries,\n        themePreset: themePreset,\n        initialQueriesSyncTime: props.initialQueriesSyncTime,\n        initialTimestamp: new Date().getTime()\n      }),\n      appbaseRef: appbaseRef,\n      analyticsRef: analyticsRef,\n      selectedValues: selectedValues,\n      urlValues: urlValues,\n      headers: _this3.headers\n    }, _this3.props.initialState);\n\n    _this3.store = (0, _reactivecore2.default)(initialState); // server side rendered app to collect context\n\n    if (typeof window === 'undefined' && props.contextCollector && !_this3.calledContextCollector) {\n      _this3.calledContextCollector = true;\n      var res = props.contextCollector({\n        ctx: _this3.store\n      }); // necessary for supporting SSR of queryParams\n\n      _this3.store.dispatch((0, _value.setValues)(res.selectedValues));\n    }\n  };\n\n  this.getReduxState = function () {\n    return _this3.store.getState();\n  };\n};\n\nReactiveBase.defaultProps = {\n  theme: {},\n  themePreset: 'light',\n  initialState: {},\n  graphQLUrl: '',\n  as: 'div',\n  endpoint: null\n};\nReactiveBase.propTypes = {\n  app: _types2.default.string,\n  as: _types2.default.string,\n  children: _types2.default.children,\n  credentials: _types2.default.string,\n  headers: _types2.default.headers,\n  queryParams: _types2.default.string,\n  theme: _types2.default.style,\n  themePreset: _types2.default.themePreset,\n  type: _types2.default.string,\n  url: _types2.default.string,\n  transformRequest: _types2.default.func,\n  initialQueriesSyncTime: _types2.default.number,\n  mapKey: _types2.default.string,\n  mapLibraries: _types2.default.stringArray,\n  style: _types2.default.style,\n  className: _types2.default.string,\n  initialState: _types2.default.children,\n  analytics: _types2.default.bool,\n  reactivesearchAPIConfig: _types2.default.appbaseConfig,\n  graphQLUrl: _types2.default.string,\n  transformResponse: _types2.default.func,\n  getSearchParams: _types2.default.func,\n  setSearchParams: _types2.default.func,\n  mongodb: _types2.default.mongodb,\n  preferences: _types2.default.preferences,\n  endpoint: _types2.default.endpoint,\n  contextCollector: _types2.default.func\n};\nexports.default = ReactiveBase;","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_reactRedux","_appbaseJs","_appbaseJs2","_analytics","_analytics2","_emotionTheming","_reactivecore","_reactivecore2","_helper","_analytics3","_value","_types","_types2","_URLParamsProvider","_URLParamsProvider2","_theme","_theme2","_utils","obj","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","ReactiveBase","_Component","_this","_initialiseProps","state","setStore","componentDidUpdate","prevProps","_this2","checkSomePropChange","setState","store","dispatch","updateAnalyticsConfig","reactivesearchAPIConfig","componentDidCatch","error","errorInfo","console","process","env","VERSION","version","render","theme","composeThemeObject","themePreset","createElement","SearchPreferencesContext","Provider","preferences","ThemeProvider","context","ReactReduxContext","headers","style","as","className","getSearchParams","setSearchParams","ReduxGetStateContext","getReduxState","children","get","_props","mongodb","endpoint","_ref","enableTelemetry","X_SEARCH_CLIENT","Component","_this3","type","credentials","url","trim","Error","config","app","transformRequest","analytics","recordAnalytics","analyticsConfig","graphQLUrl","transformResponse","queryParams","window","location","search","params","URLSearchParams","selectedValues","urlValues","Array","from","keys","forEach","_extends2","_extends3","parsedParams","JSON","parse","selectedValue","category","reference","e","appbaseRef","request","modifiedRequest","transformRequestUsingEndpoint","analyticsInitConfig","replace","index","globalCustomEvents","customEvents","headerCredentials","Authorization","atob","analyticsRef","init","initialState","mapKey","mapLibraries","initialQueriesSyncTime","initialTimestamp","Date","getTime","contextCollector","calledContextCollector","res","ctx","setValues","getState","defaultProps","propTypes","string","func","number","stringArray","bool","appbaseConfig"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/reactivesearch/lib/components/basic/ReactiveBase.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = require('react-redux');\n\nvar _appbaseJs = require('appbase-js');\n\nvar _appbaseJs2 = _interopRequireDefault(_appbaseJs);\n\nvar _analytics = require('@appbaseio/analytics');\n\nvar _analytics2 = _interopRequireDefault(_analytics);\n\nrequire('url-search-params-polyfill');\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _reactivecore = require('@appbaseio/reactivecore');\n\nvar _reactivecore2 = _interopRequireDefault(_reactivecore);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _analytics3 = require('@appbaseio/reactivecore/lib/actions/analytics');\n\nvar _value = require('@appbaseio/reactivecore/lib/actions/value');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _URLParamsProvider = require('./URLParamsProvider');\n\nvar _URLParamsProvider2 = _interopRequireDefault(_URLParamsProvider);\n\nvar _theme = require('../../styles/theme');\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable global-require */\n\nvar ReactiveBase = function (_Component) {\n\t_inherits(ReactiveBase, _Component);\n\n\tfunction ReactiveBase(props) {\n\t\t_classCallCheck(this, ReactiveBase);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\t_this.state = {\n\t\t\tkey: '__REACTIVE_BASE__'\n\t\t};\n\n\t\t_this.setStore(props);\n\t\treturn _this;\n\t}\n\n\tReactiveBase.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['app', 'url', 'type', 'credentials', 'mapKey', 'mapLibraries', 'headers', 'graphQLUrl'], function () {\n\t\t\t_this2.setStore(_this2.props);\n\t\t\t_this2.setState(function (state) {\n\t\t\t\treturn {\n\t\t\t\t\tkey: state.key + '-0'\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['reactivesearchAPIConfig'], function () {\n\t\t\tif (_this2.store) {\n\t\t\t\t_this2.store.dispatch((0, _analytics3.updateAnalyticsConfig)(_this2.props.reactivesearchAPIConfig));\n\t\t\t}\n\t\t});\n\t};\n\n\tReactiveBase.prototype.componentDidCatch = function componentDidCatch(error, errorInfo) {\n\t\tconsole.error(\"An error has occured. You're using Reactivesearch Version:\", (process.env.VERSION || require('../../../package.json').version) + '.', 'If you think this is a problem with Reactivesearch, please try updating', \"to the latest version. If you're already at the latest version, please open\", 'an issue at https://github.com/appbaseio/reactivesearch/issues', error, errorInfo);\n\t};\n\n\tReactiveBase.prototype.render = function render() {\n\t\tvar theme = (0, _utils.composeThemeObject)((0, _theme2.default)(this.props.themePreset), this.props.theme);\n\t\treturn _react2.default.createElement(\n\t\t\t_utils.SearchPreferencesContext.Provider,\n\t\t\t{ value: this.props.preferences },\n\t\t\t_react2.default.createElement(\n\t\t\t\t_emotionTheming.ThemeProvider,\n\t\t\t\t{ theme: theme, key: this.state.key },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_reactRedux.Provider,\n\t\t\t\t\t{ context: _utils.ReactReduxContext, store: this.store },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_URLParamsProvider2.default,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\theaders: this.headers,\n\t\t\t\t\t\t\tstyle: this.props.style,\n\t\t\t\t\t\t\tas: this.props.as,\n\t\t\t\t\t\t\tclassName: this.props.className,\n\t\t\t\t\t\t\tgetSearchParams: this.props.getSearchParams,\n\t\t\t\t\t\t\tsetSearchParams: this.props.setSearchParams\n\t\t\t\t\t\t},\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t_utils.ReduxGetStateContext.Provider,\n\t\t\t\t\t\t\t{ value: this.getReduxState },\n\t\t\t\t\t\t\tthis.props.children\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\t_createClass(ReactiveBase, [{\n\t\tkey: 'headers',\n\t\tget: function get() {\n\t\t\tvar _props = this.props,\n\t\t\t    headers = _props.headers,\n\t\t\t    reactivesearchAPIConfig = _props.reactivesearchAPIConfig,\n\t\t\t    mongodb = _props.mongodb,\n\t\t\t    endpoint = _props.endpoint;\n\n\t\t\tvar _ref = reactivesearchAPIConfig || {},\n\t\t\t    enableTelemetry = _ref.enableTelemetry;\n\n\t\t\treturn _extends({}, !mongodb && _extends({\n\t\t\t\t'X-Search-Client': _utils.X_SEARCH_CLIENT\n\t\t\t}, enableTelemetry === false && { 'X-Enable-Telemetry': false }), headers, endpoint && endpoint.headers && _extends({}, endpoint.headers));\n\t\t}\n\t}]);\n\n\treturn ReactiveBase;\n}(_react.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this3 = this;\n\n\tthis.setStore = function (props) {\n\t\t_this3.type = props.type ? props.type : '*';\n\n\t\tvar credentials = props.url && props.url.trim() !== '' && !props.credentials ? null : props.credentials;\n\n\t\tvar url = props.url && props.url.trim() !== '' ? props.url : '';\n\t\tif (props.endpoint instanceof Object) {\n\t\t\tif (props.endpoint.url) {\n\t\t\t\turl = props.endpoint.url;\n\t\t\t} else {\n\t\t\t\tthrow Error('Error(ReactiveSearch): The `endpoint` prop object requires `url` property.');\n\t\t\t}\n\t\t}\n\t\tvar config = _extends({\n\t\t\turl: url,\n\t\t\tapp: props.app,\n\t\t\tcredentials: credentials,\n\t\t\ttype: _this3.type,\n\t\t\ttransformRequest: props.transformRequest,\n\t\t\tanalytics: props.reactivesearchAPIConfig ? props.reactivesearchAPIConfig.recordAnalytics : true,\n\t\t\tanalyticsConfig: props.reactivesearchAPIConfig,\n\t\t\tgraphQLUrl: props.graphQLUrl,\n\t\t\ttransformResponse: props.transformResponse,\n\t\t\tmongodb: props.mongodb\n\t\t}, props.endpoint instanceof Object && { endpoint: props.endpoint });\n\n\t\tvar queryParams = '';\n\t\tif (typeof window !== 'undefined') {\n\t\t\tqueryParams = props.getSearchParams ? props.getSearchParams() : window.location.search;\n\t\t} else {\n\t\t\tqueryParams = props.queryParams || '';\n\t\t}\n\n\t\tvar params = new URLSearchParams(queryParams);\n\t\tvar selectedValues = {};\n\t\tvar urlValues = {};\n\n\t\tArray.from(params.keys()).forEach(function (key) {\n\t\t\ttry {\n\t\t\t\tvar _extends2, _extends3;\n\n\t\t\t\tvar parsedParams = JSON.parse(params.get(key));\n\t\t\t\tvar selectedValue = {};\n\t\t\t\tif (parsedParams.value) {\n\t\t\t\t\tselectedValue.value = parsedParams.value;\n\t\t\t\t} else {\n\t\t\t\t\tselectedValue.value = parsedParams;\n\t\t\t\t}\n\t\t\t\tif (parsedParams.category) selectedValue.category = parsedParams.category;\n\t\t\t\tselectedValue.reference = 'URL';\n\t\t\t\tselectedValues = _extends({}, selectedValues, (_extends2 = {}, _extends2[key] = selectedValue, _extends2));\n\t\t\t\turlValues = _extends({}, urlValues, (_extends3 = {}, _extends3[key] = selectedValue.value, _extends3));\n\t\t\t} catch (e) {\n\t\t\t\t// Do not add to selectedValues if JSON parsing fails.\n\t\t\t}\n\t\t});\n\n\t\tvar themePreset = props.themePreset,\n\t\t    endpoint = props.endpoint,\n\t\t    reactivesearchAPIConfig = props.reactivesearchAPIConfig;\n\n\n\t\tvar appbaseRef = (0, _appbaseJs2.default)(config);\n\n\t\tappbaseRef.transformRequest = function (request) {\n\t\t\tvar modifiedRequest = (0, _helper.transformRequestUsingEndpoint)(request, endpoint);\n\t\t\tif (_this3.props.transformRequest) return _this3.props.transformRequest(modifiedRequest);\n\t\t\treturn modifiedRequest;\n\t\t};\n\n\t\tvar analyticsInitConfig = {\n\t\t\turl: url && url.replace(/\\/\\/.*@/, '//'),\n\t\t\tcredentials: appbaseRef.credentials,\n\t\t\t// When endpoint prop is used index is not defined, so we use _default\n\t\t\tindex: appbaseRef.app || '_default',\n\t\t\tglobalCustomEvents: reactivesearchAPIConfig && reactivesearchAPIConfig.customEvents\n\t\t};\n\n\t\ttry {\n\t\t\tif (_this3.props.endpoint && _this3.props.endpoint.url) {\n\t\t\t\t// Remove parts between '//' and first '/' in the url\n\t\t\t\tanalyticsInitConfig.url = _this3.props.endpoint.url.replace(/\\/\\/(.*?)\\/.*/, '//$1');\n\t\t\t\tvar headerCredentials = _this3.props.endpoint.headers && _this3.props.endpoint.headers.Authorization;\n\t\t\t\tanalyticsInitConfig.credentials = headerCredentials && headerCredentials.replace('Basic ', '');\n\t\t\t\t// Decode the credentials\n\t\t\t\tanalyticsInitConfig.credentials = analyticsInitConfig.credentials && atob(analyticsInitConfig.credentials);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error('Endpoint not set correctly for analytics');\n\t\t\tconsole.error(e);\n\t\t}\n\n\t\tvar analyticsRef = void 0;\n\t\tif (config.analytics) {\n\t\t\tanalyticsRef = _analytics2.default.init(analyticsInitConfig);\n\t\t}\n\n\t\tvar initialState = _extends({\n\t\t\tconfig: _extends({}, config, {\n\t\t\t\tmapKey: props.mapKey,\n\t\t\t\tmapLibraries: props.mapLibraries,\n\t\t\t\tthemePreset: themePreset,\n\t\t\t\tinitialQueriesSyncTime: props.initialQueriesSyncTime,\n\t\t\t\tinitialTimestamp: new Date().getTime()\n\t\t\t}),\n\t\t\tappbaseRef: appbaseRef,\n\t\t\tanalyticsRef: analyticsRef,\n\t\t\tselectedValues: selectedValues,\n\t\t\turlValues: urlValues,\n\t\t\theaders: _this3.headers\n\t\t}, _this3.props.initialState);\n\n\t\t_this3.store = (0, _reactivecore2.default)(initialState);\n\n\t\t// server side rendered app to collect context\n\t\tif (typeof window === 'undefined' && props.contextCollector && !_this3.calledContextCollector) {\n\t\t\t_this3.calledContextCollector = true;\n\t\t\tvar res = props.contextCollector({\n\t\t\t\tctx: _this3.store\n\t\t\t});\n\n\t\t\t// necessary for supporting SSR of queryParams\n\t\t\t_this3.store.dispatch((0, _value.setValues)(res.selectedValues));\n\t\t}\n\t};\n\n\tthis.getReduxState = function () {\n\t\treturn _this3.store.getState();\n\t};\n};\n\nReactiveBase.defaultProps = {\n\ttheme: {},\n\tthemePreset: 'light',\n\tinitialState: {},\n\tgraphQLUrl: '',\n\tas: 'div',\n\tendpoint: null\n};\n\nReactiveBase.propTypes = {\n\tapp: _types2.default.string,\n\tas: _types2.default.string,\n\tchildren: _types2.default.children,\n\tcredentials: _types2.default.string,\n\theaders: _types2.default.headers,\n\tqueryParams: _types2.default.string,\n\ttheme: _types2.default.style,\n\tthemePreset: _types2.default.themePreset,\n\ttype: _types2.default.string,\n\turl: _types2.default.string,\n\ttransformRequest: _types2.default.func,\n\tinitialQueriesSyncTime: _types2.default.number,\n\tmapKey: _types2.default.string,\n\tmapLibraries: _types2.default.stringArray,\n\tstyle: _types2.default.style,\n\tclassName: _types2.default.string,\n\tinitialState: _types2.default.children,\n\tanalytics: _types2.default.bool,\n\treactivesearchAPIConfig: _types2.default.appbaseConfig,\n\tgraphQLUrl: _types2.default.string,\n\ttransformResponse: _types2.default.func,\n\tgetSearchParams: _types2.default.func,\n\tsetSearchParams: _types2.default.func,\n\tmongodb: _types2.default.mongodb,\n\tpreferences: _types2.default.preferences,\n\tendpoint: _types2.default.endpoint,\n\tcontextCollector: _types2.default.func\n};\n\nexports.default = ReactiveBase;"],"mappings":"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"},"metadata":{},"sourceType":"script"}