{"ast":null,"code":"var _jsxFileName = \"/Users/billionare/Documents/eshakids/eshaKids/src/components/projects/Sklad.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { Redirect } from 'react-router-dom';\nimport Pagination from './Pagination';\nimport Spinner from '../layout/Spinner';\nimport moment from 'moment';\nimport { Table } from 'reactstrap';\n\nclass Sklad extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      products: [],\n      pageOfItems: []\n    };\n\n    this.onChangePage = pageOfItems => this.setState({\n      pageOfItems: pageOfItems\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      products: nextProps.products\n    });\n  }\n\n  render() {\n    const {\n      products\n    } = this.state;\n    console.log('products', products);\n    const {\n      auth\n    } = this.props;\n    if (!auth.uid) return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 29\n      }\n    });\n\n    if (products.length > 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"project-list section\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 33\n        }\n      }, \"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 33\n        }\n      }, \"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 33\n        }\n      }, \"\\u0426\\u0435\\u043D\\u0430 - \"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 33\n        }\n      }, \"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440 - \"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 33\n        }\n      }, \"\\u041A\\u043E\\u043B-\\u0432\\u043E - \"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 33\n        }\n      }, \"TOTAL PRICE\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }\n      }, this.state.pageOfItems.map((product, index) => /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 22\n        }\n      }, products.map(item => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 33\n        }\n      }, \"  \", /*#__PURE__*/React.createElement(\"img\", {\n        src: item.url,\n        width: \"400\",\n        height: \"400\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 39\n        }\n      }), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 33\n        }\n      }, item.name, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 33\n        }\n      }, item.price, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 33\n        }\n      }, item.sizes.label), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 33\n        }\n      }, item.defaultQty), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 33\n        }\n      }, Number(item.defaultQty * item.price), \" \"))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 26\n        }\n      }, moment(product.createdAt.toDate()).calendar())))), /*#__PURE__*/React.createElement(Pagination, {\n        items: products,\n        onChangePage: this.onChangePage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 16\n        }\n      });\n    }\n  }\n\n}\n\nSklad.propTypes = {\n  firestore: PropTypes.object.isRequired,\n  products: PropTypes.array\n};\n\nconst mapStateToProps = state => ({\n  products: state.firestore.ordered.products,\n  auth: state.firebase.auth\n}); // console.log('this is map state to props',mapStateToProps)\n\n\nexport default compose(firestoreConnect(props => [{\n  collection: 'products',\n  orderBy: props.sort\n}]), connect(mapStateToProps))(Sklad);","map":{"version":3,"names":["React","Component","PropTypes","compose","connect","firestoreConnect","Redirect","Pagination","Spinner","moment","Table","Sklad","state","products","pageOfItems","onChangePage","setState","componentWillReceiveProps","nextProps","render","console","log","auth","props","uid","length","map","product","index","item","url","name","price","sizes","label","defaultQty","Number","createdAt","toDate","calendar","propTypes","firestore","object","isRequired","array","mapStateToProps","ordered","firebase","collection","orderBy","sort"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/src/components/projects/Sklad.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { Redirect } from 'react-router-dom'; \nimport Pagination from './Pagination';\nimport Spinner from '../layout/Spinner';\nimport moment from 'moment';\nimport {Table} from 'reactstrap'\n\n\nclass Sklad extends React.Component {\n    state = {\n      products: [],\n      pageOfItems: []\n    };\n  \n    componentWillReceiveProps(nextProps) {\n        this.setState({products: nextProps.products});}\n  \n    onChangePage = pageOfItems => this.setState({ pageOfItems: pageOfItems });\n  \n    render() {\n      const { products } = this.state;\n      console.log('products',products)\n      const { auth } = this.props;\n      if (!auth.uid) return <Redirect to='/products' />\n      if (products.length > 0) {\n        return (\n            <div className=\"project-list section\">\n            <Table striped bordered hover size=\"sm\">\n              <thead>\n                <tr>\n                                <th>Изображение</th> \n                                <th>Наименование</th>\n                                <th>Цена - </th>\n                                <th>Размер - </th>\n                                <th>Кол-во - </th>\n                                <th>TOTAL PRICE</th>\n                </tr>\n              </thead>\n              <tbody>\n               \n                 \n             \n                {this.state.pageOfItems.map((product, index) => (\n                     \n                     <tr>\n                        \n                             {products.map(item=>(\n                           <>\n                                <td>  <img src={item.url} width='400' height='400' /> </td>\n                                <td>{item.name } </td>\n                                <td>{item.price} </td>\n                                <td>{item.sizes.label}</td>\n                                <td>{item.defaultQty}</td>\n                                <td>{Number(item.defaultQty*item.price)} </td>\n                            </>\n\n                                 ))}\n                        \n                        {/* <img src={product.order.cartItems.picture} key={picture}/>\n                        \n                        <p key={name} >{product.order.cartItems }</p>\n                        <p key={price} >{product.order.cartItems}</p>\n                        <span key={index} >{product.order.cartItems.qty}</span> */}\n                         {/* <td>{product.name}</td>\n                         <td>{product.phone}</td>\n                         <td>{product.adress}</td>\n                         <td>{product.comment}</td>\n                         <td>{product.totalPr}</td> */}\n                     \n\n                         \n                         \n                       \n                         <td >{ moment(product.createdAt.toDate()).calendar() }</td>\n                     \n                     \n                    \n                \n                 </tr>\n                ))}\n             \n         \n              \n               \n             \n              </tbody>\n              <Pagination items={products} onChangePage={this.onChangePage} />\n            </Table>\n        \n          </div>\n        );\n      } else {\n        return <Spinner />;\n      }\n    }\n  }Sklad.propTypes = {\n    firestore: PropTypes.object.isRequired,\n    products: PropTypes.array\n};\n\nconst mapStateToProps = (state) => ({\n    products: state.firestore.ordered.products,\n    auth:state.firebase.auth})\n\n  \n  // console.log('this is map state to props',mapStateToProps)\n  \n  \n  export default compose(\n    firestoreConnect(props => [\n      {\n        collection: 'products',\n        orderBy: props.sort\n      }\n    ]),\n    connect(mapStateToProps)\n  )(Sklad);"],"mappings":"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"},"metadata":{},"sourceType":"module"}