{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _echartsForReact = require('echarts-for-react');\n\nvar _echartsForReact2 = _interopRequireDefault(_echartsForReact);\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _propTypes = require('prop-types');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _utils = require('../../utils');\n\nvar _PreferencesConsumer = require('../basic/PreferencesConsumer');\n\nvar _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ChartTypes = {\n  Pie: 'pie',\n  Scatter: 'scatter',\n  Histogram: 'histogram',\n  Line: 'line',\n  Bar: 'bar',\n  Custom: 'custom'\n};\n\nvar ReactiveChart = function (_React$Component) {\n  _inherits(ReactiveChart, _React$Component);\n\n  function ReactiveChart(props) {\n    _classCallCheck(this, ReactiveChart);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var defaultValue = props.value;\n    var currentValue = props.selectedValue || defaultValue;\n\n    var options = _this.transformOptions(props.options, props);\n\n    _this.state = {\n      currentValue: currentValue,\n      options: options\n    };\n    _this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId); // Set custom and default queries in store\n\n    (0, _helper.updateCustomQuery)(props.componentId, props, currentValue);\n    (0, _helper.updateDefaultQuery)(_this.internalComponent, props, currentValue);\n\n    _this.updateQueryOptions(props, false);\n\n    if (currentValue) {\n      _this.setValue(currentValue, true, props);\n    }\n\n    _this.setReact(props, _this.internalComponent);\n\n    _this.handleRange = (0, _helper.debounce)(_this.handleRange, 100);\n\n    if (props.chartType === ChartTypes.Custom) {\n      if (typeof props.defaultQuery !== 'function' || typeof props.setOption !== 'function') {\n        throw new Error('defaultQuery and setOption should be defined when chartType is custom');\n      }\n\n      if (props.useAsFilter && typeof props.customQuery !== 'function') {\n        throw new Error('customQuery should be defined when chartType is custom and useAsFilter is true');\n      }\n    }\n\n    return _this;\n  }\n\n  ReactiveChart.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    if (!(0, _helper.isEqual)(prevProps.options, this.props.options)) {\n      // set options in state\n      // eslint-disable-next-line\n      this.setState({\n        options: this.transformOptions(this.props.options, this.props)\n      });\n    }\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'aggregationSize'], function () {\n      _this2.updateDefaultQuery();\n\n      _this2.updateQuery(_this2.state.currentValue, _this2.props);\n    });\n\n    if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'defaultQuery')) {\n      this.updateDefaultQuery(); // Clear the component value\n\n      this.updateQuery('', this.props);\n    }\n\n    if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'customQuery')) {\n      this.updateQuery(this.state.currentValue, this.props);\n    }\n\n    if (this.props.value !== prevProps.value) {\n      this.setValue(this.props.value);\n    } else if (this.state.currentValue !== this.props.selectedValue && this.props.selectedValue !== prevProps.selectedValue) {\n      var _props = this.props,\n          value = _props.value,\n          onChange = _props.onChange;\n\n      if (value === undefined) {\n        this.setValue(this.props.selectedValue);\n      } else if (onChange) {\n        onChange(this.props.selectedValue);\n      } else {\n        this.setValue(this.state.currentValue, true);\n      }\n    }\n  };\n\n  ReactiveChart.prototype.transformOptions = function transformOptions(options, props) {\n    return (props.options && props.options[props.dataField] ? props.options[props.dataField].buckets : []).filter(function (item) {\n      return !!String(item.key).length;\n    });\n  };\n\n  ReactiveChart.prototype.render = function render() {\n    var _props2 = this.props,\n        onDblClick = _props2.onDblClick,\n        onMouseDown = _props2.onMouseDown,\n        onMouseUp = _props2.onMouseUp,\n        onMouseMove = _props2.onMouseMove,\n        onMouseOut = _props2.onMouseOut,\n        onGlobalOut = _props2.onGlobalOut,\n        onContextMenu = _props2.onContextMenu,\n        isLoading = _props2.isLoading,\n        error = _props2.error,\n        loader = _props2.loader,\n        renderError = _props2.renderError;\n\n    if (isLoading) {\n      return loader || null;\n    }\n\n    if (error) {\n      if (renderError) {\n        if ((0, _helper.isFunction)(renderError)) {\n          return renderError(error);\n        }\n\n        return renderError;\n      }\n\n      return null;\n    }\n\n    return _react2.default.createElement(_echartsForReact2.default, {\n      option: this.getChartOptions(),\n      onEvents: {\n        click: this.handleClick,\n        dblclick: onDblClick,\n        mousedown: onMouseDown,\n        mouseup: onMouseUp,\n        mousemove: onMouseMove,\n        mouseout: onMouseOut,\n        globalout: onGlobalOut,\n        contextmenu: onContextMenu,\n        datazoom: this.handleRange\n      },\n      notMerge: true\n    });\n  };\n\n  return ReactiveChart;\n}(_react2.default.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.setReact = function (props, componentId) {\n    var react = props.react;\n\n    if (react) {\n      var newReact = (0, _helper.pushToAndClause)(react, _this3.internalComponent);\n      props.watchComponent(componentId, newReact);\n    } else {\n      props.watchComponent(componentId, {\n        and: _this3.internalComponent\n      });\n    }\n  };\n\n  this.updateDefaultQuery = function (queryOptions) {\n    var props = _this3.props;\n    var value = void 0;\n\n    if (props.type === 'range') {\n      value = (0, _utils.getNumericRangeArray)(props.range, props.queryFormat);\n    }\n\n    (0, _helper.updateInternalQuery)(_this3.internalComponent, queryOptions, value, _this3.props, ReactiveChart.generateQueryOptions(_this3.props, _this3.state.prevAfter, value), null);\n  };\n\n  this.updateQueryOptions = function (props) {\n    var addAfterKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var queryOptions = ReactiveChart.generateQueryOptions(props, addAfterKey ? _this3.state.after : {}, _this3.state.currentValue);\n\n    _this3.updateDefaultQuery(queryOptions);\n  };\n\n  this.handleClick = function () {\n    var _props3 = _this3.props,\n        onClick = _props3.onClick,\n        useAsFilter = _props3.useAsFilter,\n        chartType = _props3.chartType,\n        type = _props3.type;\n\n    if (onClick) {\n      onClick.apply(undefined, arguments);\n    }\n\n    if (useAsFilter && type !== 'range') {\n      var item = arguments.length <= 0 ? undefined : arguments[0];\n      var value = void 0;\n\n      if (item.data && item.data.name) {\n        value = item.data.name;\n      } else {\n        value = item.data;\n      }\n\n      if (!Number.isNaN(parseInt(value, 10))) {\n        value = parseInt(value, 10);\n      }\n\n      if (chartType === ChartTypes.Custom) {\n        value = {\n          mainLabel: item.name,\n          secondaryLabel: item.seriesName,\n          data: item.data\n        };\n      }\n\n      _this3.setValue(value);\n    }\n  };\n\n  this.updateQuery = function (value, props) {\n    var execute = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var customQuery = props.customQuery;\n    var query = ReactiveChart.defaultQuery(value, props);\n    var customQueryOptions = void 0;\n\n    if (customQuery) {\n      var _ref4 = customQuery(value, props) || {};\n\n      query = _ref4.query;\n      customQueryOptions = (0, _helper.getOptionsFromQuery)(customQuery(value, props));\n      (0, _helper.updateCustomQuery)(props.componentId, props, value);\n    }\n\n    props.setQueryOptions(props.componentId, _extends({}, ReactiveChart.generateQueryOptions(props, _this3.state.prevAfter, _this3.state.currentValue), customQueryOptions), false);\n    props.updateQuery({\n      componentId: props.componentId,\n      query: query,\n      value: value,\n      label: props.filterLabel,\n      showFilter: props.showFilter,\n      URLParams: props.URLParams,\n      componentType: _constants.componentTypes.reactiveChart\n    }, execute, false);\n  };\n\n  this.setValue = function (value) {\n    var isDefault = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this3.props;\n\n    var performUpdate = function performUpdate() {\n      var handleUpdates = function handleUpdates() {\n        _this3.updateQuery(value, props);\n      };\n\n      _this3.setState({\n        currentValue: value\n      }, handleUpdates);\n    };\n\n    if (isDefault) {\n      _this3.updateQuery(value, props, false, false);\n    } else {\n      (0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n    }\n  };\n\n  this.getChartOptions = function () {\n    var _props4 = _this3.props,\n        chartType = _props4.chartType,\n        title = _props4.title,\n        labelFormatter = _props4.labelFormatter,\n        xAxisName = _props4.xAxisName,\n        yAxisName = _props4.yAxisName,\n        rawData = _props4.rawData,\n        hits = _props4.hits,\n        xAxisField = _props4.xAxisField,\n        yAxisField = _props4.yAxisField,\n        type = _props4.type;\n    var _state = _this3.state,\n        options = _state.options,\n        currentValue = _state.currentValue;\n    var setOption = _this3.props.setOption;\n    var results = (0, _helper.parseHits)(hits) || [];\n    var chartOptions = {\n      aggregationData: options,\n      rawData: rawData,\n      value: currentValue,\n      data: results,\n      xAxisField: xAxisField,\n      yAxisField: yAxisField,\n      chartType: chartType,\n      title: title,\n      labelFormatter: labelFormatter,\n      xAxisName: xAxisName,\n      yAxisName: yAxisName,\n      type: type\n    };\n\n    if (setOption) {\n      return setOption(chartOptions);\n    }\n\n    return ReactiveChart.getOption(chartOptions);\n  };\n\n  this.handleRange = function () {\n    var _props5 = _this3.props,\n        useAsFilter = _props5.useAsFilter,\n        onDataZoom = _props5.onDataZoom;\n\n    if (useAsFilter) {\n      var echartInstance = arguments.length <= 1 ? undefined : arguments[1];\n      var axis = echartInstance.getModel().option.xAxis[0];\n      var option = echartInstance.getOption();\n      var start = option.dataZoom[0].startValue;\n      var end = option.dataZoom[0].endValue;\n      var startRangeValue = axis.data[start];\n      var endRangeValue = axis.data[end];\n      var rangeValue = [startRangeValue.value !== undefined ? startRangeValue.value : startRangeValue, endRangeValue.value !== undefined ? endRangeValue.value : endRangeValue];\n\n      _this3.setValue(rangeValue);\n    }\n\n    if (onDataZoom) {\n      onDataZoom.apply(undefined, arguments);\n    }\n  };\n};\n\nReactiveChart.generateQueryOptions = function (props, after) {\n  var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var queryOptions = (0, _helper.getQueryOptions)(props);\n  return (0, _helper.getAggsQuery)(value, queryOptions, props);\n};\n\nReactiveChart.defaultQuery = function (value, props) {\n  var query = null;\n  var type = props.queryFormat === 'or' ? 'terms' : 'term';\n\n  if (value) {\n    var listQuery = void 0;\n\n    if (props.queryFormat === 'or') {\n      var _type, _ref;\n\n      var should = [(_ref = {}, _ref[type] = (_type = {}, _type[props.dataField] = value, _type), _ref)];\n      listQuery = {\n        bool: {\n          should: should\n        }\n      };\n    } else {\n      var currentValue = Array.isArray(value) ? value : [value]; // adds a sub-query with must as an array of objects for each term/value\n\n      var queryArray = currentValue.map(function (item) {\n        var _type2, _ref2;\n\n        return _ref2 = {}, _ref2[type] = (_type2 = {}, _type2[props.dataField] = item, _type2), _ref2;\n      });\n      listQuery = {\n        bool: {\n          must: queryArray\n        }\n      };\n    }\n\n    query = value ? listQuery : null;\n  }\n\n  if (query && props.nestedField) {\n    return {\n      nested: {\n        path: props.nestedField,\n        query: query\n      }\n    };\n  }\n\n  return query;\n};\n\nReactiveChart.GetScatterChartOptions = '({\\n\\tdata,\\n\\ttitle,\\n\\txAxisName,\\n\\tyAxisName,\\n\\txAxisField,\\n\\tyAxisField,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\txAxis: {\\n\\t\\t\\tname: xAxisName,\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tsymbolSize: 20,\\n\\t\\t\\t\\tdata: data.map(d => [d[xAxisField], d[yAxisField]]),\\n\\t\\t\\t\\ttype: \\'scatter\\',\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\nReactiveChart.GetPieChartOptions = '({ title, aggregationData }) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t\\tleft: \\'center\\',\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'pie\\',\\n\\t\\t\\t\\tradius: \\'50%\\',\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\temphasis: {\\n\\t\\t\\t\\t\\titemStyle: {\\n\\t\\t\\t\\t\\t\\tshadowBlur: 10,\\n\\t\\t\\t\\t\\t\\tshadowOffsetX: 0,\\n\\t\\t\\t\\t\\t\\tshadowColor: \\'rgba(0, 0, 0, 0.5)\\',\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\nReactiveChart.GetHistogramChartOptions = '({\\n\\ttitle,\\n\\txAxisName,\\n\\tyAxisName,\\n\\taggregationData,\\n\\tvalue,\\n\\tlabelFormatter,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\tconst xAxisData = aggregationData.map(item => ({\\n\\t\\tvalue: item.key,\\n\\t\\tname: item.key,\\n\\t}));\\n\\tlet startIndex = -1;\\n\\tlet endIndex = -1;\\n\\tif (value && Array.isArray(value)) {\\n\\t\\tstartIndex = xAxisData.findIndex(i => i.value === value[0]);\\n\\t\\tendIndex = xAxisData.findIndex(i => i.value === value[1]);\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttoolbox: {\\n\\t\\t\\tfeature: {\\n\\t\\t\\t\\tdataZoom: {\\n\\t\\t\\t\\t\\tyAxisIndex: false,\\n\\t\\t\\t\\t\\tlabelFormatter,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tsaveAsImage: {\\n\\t\\t\\t\\t\\tpixelRatio: 2,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'axis\\',\\n\\t\\t\\taxisPointer: {\\n\\t\\t\\t\\ttype: \\'shadow\\',\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\tgrid: {\\n\\t\\t\\tbottom: 90,\\n\\t\\t},\\n\\t\\tdataZoom: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'inside\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'slider\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t],\\n\\t\\txAxis: {\\n\\t\\t\\tdata: xAxisData,\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\tsilent: false,\\n\\t\\t\\tsplitLine: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t\\tsplitArea: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\tsplitArea: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'bar\\',\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\t// Set \\'large\\' for large data amount\\n\\t\\t\\t\\tlarge: true,\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\nReactiveChart.GetBarChartOptions = '({\\n\\ttitle, xAxisName, yAxisName, aggregationData,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\txAxis: {\\n\\t\\t\\ttype: \\'category\\',\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\tvalue: item.key,\\n\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t})),\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\ttype: \\'value\\',\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\ttype: \\'bar\\',\\n\\t\\t\\t\\tshowBackground: true,\\n\\t\\t\\t\\tbackgroundStyle: {\\n\\t\\t\\t\\t\\tcolor: \\'rgba(180, 180, 180, 0.2)\\',\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\nReactiveChart.GetLineChartOptions = '({\\n\\ttitle,\\n\\ttype,\\n\\tvalue,\\n\\txAxisName,\\n\\tyAxisName,\\n\\taggregationData,\\n\\tlabelFormatter,\\n}) => {\\n\\tlet chartTitle;\\n\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\tconst xAxisData = aggregationData.map(item => ({\\n\\t\\tvalue: item.key,\\n\\t\\tname: item.key,\\n\\t}));\\n\\n\\tlet startIndex = -1;\\n\\tlet endIndex = -1;\\n\\tconst isValueArray = value && Array.isArray(value);\\n\\tconst isRangeType = type === \\'range\\';\\n\\tif (isValueArray && isRangeType) {\\n\\t\\tstartIndex = xAxisData.findIndex(i => i.value === value[0]);\\n\\t\\tendIndex = xAxisData.findIndex(i => i.value === value[1]);\\n\\t}\\n\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttoolbox: isRangeType ? {\\n\\t\\t\\tfeature: {\\n\\t\\t\\t\\tdataZoom: {\\n\\t\\t\\t\\t\\tyAxisIndex: false,\\n\\t\\t\\t\\t\\tlabelFormatter,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t}: undefined,\\n\\t\\txAxis: {\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\ttype: \\'category\\',\\n\\t\\t\\tdata: xAxisData\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\ttype: \\'value\\',\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tdataZoom: isRangeType ? [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'inside\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'slider\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t]: undefined,\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\ttype: \\'line\\',\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.getOption = function (_ref3) {\n  var chartType = _ref3.chartType,\n      chartConfig = _objectWithoutProperties(_ref3, ['chartType']); // eslint-disable-next-line\n\n\n  var chartConfigMethod = eval(ReactiveChart.getOptionAsString(chartType));\n\n  if (chartConfig) {\n    return chartConfigMethod(chartConfig);\n  }\n\n  return null;\n};\n\nReactiveChart.getOptionAsString = function (chartType) {\n  switch (chartType) {\n    case ChartTypes.Scatter:\n      return ReactiveChart.GetScatterChartOptions;\n\n    case ChartTypes.Line:\n      return ReactiveChart.GetLineChartOptions;\n\n    case ChartTypes.Bar:\n      return ReactiveChart.GetBarChartOptions;\n\n    case ChartTypes.Pie:\n      return ReactiveChart.GetPieChartOptions;\n\n    case ChartTypes.Histogram:\n      return ReactiveChart.GetHistogramChartOptions;\n\n    default:\n      return null;\n  }\n};\n\nReactiveChart.defaultRangeQuery = function (value, props) {\n  var query = null;\n\n  if (Array.isArray(value) && value.length) {\n    query = (0, _utils.getRangeQueryWithNullValues)(value, props);\n  }\n\n  if (query && props.nestedField) {\n    return {\n      nested: {\n        path: props.nestedField,\n        query: query\n      }\n    };\n  }\n\n  return query;\n};\n\nReactiveChart.propTypes = {\n  // UI props\n  filterLabel: _types2.default.string,\n  // events\n  onClick: _propTypes.func,\n  onDblClick: _propTypes.func,\n  onMouseDown: _propTypes.func,\n  onMouseUp: _propTypes.func,\n  onMouseMove: _propTypes.func,\n  onMouseOut: _propTypes.func,\n  onGlobalOut: _propTypes.func,\n  onContextMenu: _propTypes.func,\n  beforeValueChange: _propTypes.func,\n  onDataZoom: _propTypes.func,\n  // ---- user props ---\n  // props to configure query\n  componentId: _types2.default.stringRequired,\n  URLParams: _types2.default.bool,\n  dataField: _types2.default.stringRequired,\n  showFilter: _types2.default.bool,\n  customQuery: _types2.default.func,\n  defaultQuery: _types2.default.func,\n  react: _types2.default.react,\n  size: _types2.default.number,\n  index: _types2.default.string,\n  queryFormat: _types2.default.queryFormatSearch,\n  range: _types2.default.range,\n  type: (0, _propTypes.oneOf)(['term', 'range', 'search', 'geo', 'suggestion']),\n  // eslint-disable-next-line\n  value: _propTypes.any,\n  // props to configure chart\n  chartType: (0, _propTypes.oneOf)(Object.values(ChartTypes)),\n  setOption: _propTypes.func,\n  title: _types2.default.string,\n  useAsFilter: _types2.default.bool,\n  labelFormatter: _types2.default.func,\n  xAxisName: _types2.default.string,\n  yAxisName: _types2.default.string,\n  xAxisField: _types2.default.string,\n  yAxisField: _types2.default.string,\n  // ---------//\n  loader: _types2.default.title,\n  onError: _types2.default.func,\n  renderError: _types2.default.title,\n  onChange: _types2.default.func,\n  // redux props\n  setQueryOptions: _types2.default.funcRequired,\n  watchComponent: _types2.default.funcRequired,\n  updateQuery: _types2.default.funcRequired,\n  options: _types2.default.options,\n  rawData: _types2.default.rawData,\n  hits: _types2.default.hits,\n  selectedValue: _types2.default.selectedValue,\n  setCustomQuery: _types2.default.funcRequired,\n  isLoading: _types2.default.bool,\n  error: _types2.default.title,\n  endpoint: _types2.default.endpoint\n};\nReactiveChart.defaultProps = {\n  useAsFilter: true,\n  chartType: 'custom'\n}; // Add componentType for SSR\n\nReactiveChart.componentType = _constants.componentTypes.multiList;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    options: props.nestedField && state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)] ? state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)].reactivesearch_nested : state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)],\n    hits: state.hits[(0, _transform.getInternalComponentID)(props.componentId)] && state.hits[(0, _transform.getInternalComponentID)(props.componentId)].hits,\n    rawData: state.rawData[(0, _transform.getInternalComponentID)(props.componentId)],\n    selectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n    isLoading: state.isLoading[(0, _transform.getInternalComponentID)(props.componentId)],\n    error: state.error[(0, _transform.getInternalComponentID)(props.componentId)]\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    watchComponent: function watchComponent(component, react) {\n      return dispatch((0, _actions.watchComponent)(component, react));\n    },\n    setCustomQuery: function setCustomQuery(component, query) {\n      return dispatch((0, _actions.setCustomQuery)(component, query));\n    },\n    setDefaultQuery: function setDefaultQuery(component, query) {\n      return dispatch((0, _actions.setDefaultQuery)(component, query));\n    },\n    setQueryOptions: function setQueryOptions(component, props, execute) {\n      return dispatch((0, _actions.setQueryOptions)(component, props, execute));\n    },\n    updateQuery: function updateQuery(updateQueryObject, execute, setInternalValue) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject, execute, setInternalValue));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n  return _react2.default.createElement(ReactiveChart, _extends({\n    ref: props.myForwardedRef\n  }, props));\n}); // eslint-disable-next-line\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n  return _react2.default.createElement(_PreferencesConsumer2.default, {\n    userProps: props\n  }, function (preferenceProps) {\n    var type = preferenceProps.type;\n\n    if (!type) {\n      if (preferenceProps.chartType === ChartTypes.Scatter) {\n        type = 'range';\n      }\n    }\n\n    var aggregationSize = preferenceProps.aggregationSize;\n\n    if (!aggregationSize) {\n      if (!type || type === 'term') {\n        aggregationSize = preferenceProps.size;\n      }\n    }\n\n    var size = preferenceProps.size;\n\n    if (preferenceProps.chartType === ChartTypes.Scatter) {\n      size = 10;\n    }\n\n    var dataField = preferenceProps.dataField;\n\n    if (preferenceProps.chartType === ChartTypes.Scatter) {\n      if (!dataField) {\n        dataField = '_default';\n      }\n    }\n\n    return _react2.default.createElement(_ComponentWrapper2.default, _extends({}, preferenceProps, {\n      type: type,\n      internalComponent: true,\n      componentType: _constants.componentTypes.reactiveChart,\n      showHistogram: preferenceProps.chartType === ChartTypes.Scatter ? false : type === 'range',\n      setReact: false,\n      aggregationSize: aggregationSize,\n      size: size,\n      dataField: dataField\n    }), function (componentProps) {\n      return _react2.default.createElement(ConnectedComponent, _extends({}, preferenceProps, {\n        size: size,\n        type: type,\n        aggregationSize: aggregationSize,\n        dataField: dataField,\n        myForwardedRef: ref\n      }, componentProps));\n    });\n  });\n});\n\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, ReactiveChart);\nForwardRefComponent.displayName = 'ReactiveChart';\nexports.default = ForwardRefComponent;","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_echartsForReact","_echartsForReact2","_types","_types2","_propTypes","_hoistNonReactStatics","_hoistNonReactStatics2","_actions","_transform","_constants","_helper","_utils","_PreferencesConsumer","_PreferencesConsumer2","_ComponentWrapper","_ComponentWrapper2","obj","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","ChartTypes","Pie","Scatter","Histogram","Line","Bar","Custom","ReactiveChart","_React$Component","props","_this","_initialiseProps","defaultValue","currentValue","selectedValue","options","transformOptions","state","internalComponent","getInternalComponentID","componentId","updateCustomQuery","updateDefaultQuery","updateQueryOptions","setValue","setReact","handleRange","debounce","chartType","defaultQuery","setOption","Error","useAsFilter","customQuery","componentDidUpdate","prevProps","_this2","isEqual","setState","checkSomePropChange","updateQuery","isQueryIdentical","_props","onChange","undefined","dataField","buckets","filter","item","String","render","_props2","onDblClick","onMouseDown","onMouseUp","onMouseMove","onMouseOut","onGlobalOut","onContextMenu","isLoading","error","loader","renderError","isFunction","createElement","option","getChartOptions","onEvents","click","handleClick","dblclick","mousedown","mouseup","mousemove","mouseout","globalout","contextmenu","datazoom","notMerge","Component","_this3","react","newReact","pushToAndClause","watchComponent","and","queryOptions","type","getNumericRangeArray","range","queryFormat","updateInternalQuery","generateQueryOptions","prevAfter","addAfterKey","after","_props3","onClick","apply","data","name","Number","isNaN","parseInt","mainLabel","secondaryLabel","seriesName","execute","query","customQueryOptions","_ref4","getOptionsFromQuery","setQueryOptions","label","filterLabel","showFilter","URLParams","componentType","componentTypes","reactiveChart","isDefault","performUpdate","handleUpdates","checkValueChange","beforeValueChange","_props4","title","labelFormatter","xAxisName","yAxisName","rawData","hits","xAxisField","yAxisField","_state","results","parseHits","chartOptions","aggregationData","getOption","_props5","onDataZoom","echartInstance","axis","getModel","xAxis","start","dataZoom","startValue","end","endValue","startRangeValue","endRangeValue","rangeValue","getQueryOptions","getAggsQuery","listQuery","_type","_ref","should","bool","Array","isArray","queryArray","map","_type2","_ref2","must","nestedField","nested","path","GetScatterChartOptions","GetPieChartOptions","GetHistogramChartOptions","GetBarChartOptions","GetLineChartOptions","_ref3","chartConfig","chartConfigMethod","eval","getOptionAsString","defaultRangeQuery","getRangeQueryWithNullValues","propTypes","string","func","stringRequired","size","number","index","queryFormatSearch","oneOf","any","values","onError","funcRequired","setCustomQuery","endpoint","defaultProps","multiList","mapStateToProps","aggregations","reactivesearch_nested","selectedValues","mapDispatchtoProps","dispatch","component","setDefaultQuery","updateQueryObject","setInternalValue","ConnectedComponent","connect","ref","myForwardedRef","ForwardRefComponent","forwardRef","userProps","preferenceProps","aggregationSize","showHistogram","componentProps","displayName"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/reactivesearch/lib/components/chart/ReactiveChart.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _echartsForReact = require('echarts-for-react');\n\nvar _echartsForReact2 = _interopRequireDefault(_echartsForReact);\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _propTypes = require('prop-types');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _utils = require('../../utils');\n\nvar _PreferencesConsumer = require('../basic/PreferencesConsumer');\n\nvar _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChartTypes = {\n\tPie: 'pie',\n\tScatter: 'scatter',\n\tHistogram: 'histogram',\n\tLine: 'line',\n\tBar: 'bar',\n\tCustom: 'custom'\n};\n\nvar ReactiveChart = function (_React$Component) {\n\t_inherits(ReactiveChart, _React$Component);\n\n\tfunction ReactiveChart(props) {\n\t\t_classCallCheck(this, ReactiveChart);\n\n\t\tvar _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\tvar defaultValue = props.value;\n\t\tvar currentValue = props.selectedValue || defaultValue;\n\t\tvar options = _this.transformOptions(props.options, props);\n\n\t\t_this.state = {\n\t\t\tcurrentValue: currentValue,\n\t\t\toptions: options\n\t\t};\n\t\t_this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);\n\t\t// Set custom and default queries in store\n\t\t(0, _helper.updateCustomQuery)(props.componentId, props, currentValue);\n\t\t(0, _helper.updateDefaultQuery)(_this.internalComponent, props, currentValue);\n\n\t\t_this.updateQueryOptions(props, false);\n\t\tif (currentValue) {\n\t\t\t_this.setValue(currentValue, true, props);\n\t\t}\n\t\t_this.setReact(props, _this.internalComponent);\n\t\t_this.handleRange = (0, _helper.debounce)(_this.handleRange, 100);\n\n\t\tif (props.chartType === ChartTypes.Custom) {\n\t\t\tif (typeof props.defaultQuery !== 'function' || typeof props.setOption !== 'function') {\n\t\t\t\tthrow new Error('defaultQuery and setOption should be defined when chartType is custom');\n\t\t\t}\n\t\t\tif (props.useAsFilter && typeof props.customQuery !== 'function') {\n\t\t\t\tthrow new Error('customQuery should be defined when chartType is custom and useAsFilter is true');\n\t\t\t}\n\t\t}\n\t\treturn _this;\n\t}\n\n\tReactiveChart.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\tif (!(0, _helper.isEqual)(prevProps.options, this.props.options)) {\n\t\t\t// set options in state\n\t\t\t// eslint-disable-next-line\n\t\t\tthis.setState({\n\t\t\t\toptions: this.transformOptions(this.props.options, this.props)\n\t\t\t});\n\t\t}\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'aggregationSize'], function () {\n\t\t\t_this2.updateDefaultQuery();\n\t\t\t_this2.updateQuery(_this2.state.currentValue, _this2.props);\n\t\t});\n\t\tif (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'defaultQuery')) {\n\t\t\tthis.updateDefaultQuery();\n\t\t\t// Clear the component value\n\t\t\tthis.updateQuery('', this.props);\n\t\t}\n\n\t\tif (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'customQuery')) {\n\t\t\tthis.updateQuery(this.state.currentValue, this.props);\n\t\t}\n\n\t\tif (this.props.value !== prevProps.value) {\n\t\t\tthis.setValue(this.props.value);\n\t\t} else if (this.state.currentValue !== this.props.selectedValue && this.props.selectedValue !== prevProps.selectedValue) {\n\t\t\tvar _props = this.props,\n\t\t\t    value = _props.value,\n\t\t\t    onChange = _props.onChange;\n\n\t\t\tif (value === undefined) {\n\t\t\t\tthis.setValue(this.props.selectedValue);\n\t\t\t} else if (onChange) {\n\t\t\t\tonChange(this.props.selectedValue);\n\t\t\t} else {\n\t\t\t\tthis.setValue(this.state.currentValue, true);\n\t\t\t}\n\t\t}\n\t};\n\n\tReactiveChart.prototype.transformOptions = function transformOptions(options, props) {\n\t\treturn (props.options && props.options[props.dataField] ? props.options[props.dataField].buckets : []).filter(function (item) {\n\t\t\treturn !!String(item.key).length;\n\t\t});\n\t};\n\n\tReactiveChart.prototype.render = function render() {\n\t\tvar _props2 = this.props,\n\t\t    onDblClick = _props2.onDblClick,\n\t\t    onMouseDown = _props2.onMouseDown,\n\t\t    onMouseUp = _props2.onMouseUp,\n\t\t    onMouseMove = _props2.onMouseMove,\n\t\t    onMouseOut = _props2.onMouseOut,\n\t\t    onGlobalOut = _props2.onGlobalOut,\n\t\t    onContextMenu = _props2.onContextMenu,\n\t\t    isLoading = _props2.isLoading,\n\t\t    error = _props2.error,\n\t\t    loader = _props2.loader,\n\t\t    renderError = _props2.renderError;\n\n\t\tif (isLoading) {\n\t\t\treturn loader || null;\n\t\t}\n\t\tif (error) {\n\t\t\tif (renderError) {\n\t\t\t\tif ((0, _helper.isFunction)(renderError)) {\n\t\t\t\t\treturn renderError(error);\n\t\t\t\t}\n\t\t\t\treturn renderError;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\treturn _react2.default.createElement(_echartsForReact2.default, {\n\t\t\toption: this.getChartOptions(),\n\t\t\tonEvents: {\n\t\t\t\tclick: this.handleClick,\n\t\t\t\tdblclick: onDblClick,\n\t\t\t\tmousedown: onMouseDown,\n\t\t\t\tmouseup: onMouseUp,\n\t\t\t\tmousemove: onMouseMove,\n\t\t\t\tmouseout: onMouseOut,\n\t\t\t\tglobalout: onGlobalOut,\n\t\t\t\tcontextmenu: onContextMenu,\n\t\t\t\tdatazoom: this.handleRange\n\t\t\t},\n\t\t\tnotMerge: true\n\t\t});\n\t};\n\n\treturn ReactiveChart;\n}(_react2.default.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this3 = this;\n\n\tthis.setReact = function (props, componentId) {\n\t\tvar react = props.react;\n\n\t\tif (react) {\n\t\t\tvar newReact = (0, _helper.pushToAndClause)(react, _this3.internalComponent);\n\t\t\tprops.watchComponent(componentId, newReact);\n\t\t} else {\n\t\t\tprops.watchComponent(componentId, {\n\t\t\t\tand: _this3.internalComponent\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.updateDefaultQuery = function (queryOptions) {\n\t\tvar props = _this3.props;\n\t\tvar value = void 0;\n\t\tif (props.type === 'range') {\n\t\t\tvalue = (0, _utils.getNumericRangeArray)(props.range, props.queryFormat);\n\t\t}\n\t\t(0, _helper.updateInternalQuery)(_this3.internalComponent, queryOptions, value, _this3.props, ReactiveChart.generateQueryOptions(_this3.props, _this3.state.prevAfter, value), null);\n\t};\n\n\tthis.updateQueryOptions = function (props) {\n\t\tvar addAfterKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\t\tvar queryOptions = ReactiveChart.generateQueryOptions(props, addAfterKey ? _this3.state.after : {}, _this3.state.currentValue);\n\n\t\t_this3.updateDefaultQuery(queryOptions);\n\t};\n\n\tthis.handleClick = function () {\n\t\tvar _props3 = _this3.props,\n\t\t    onClick = _props3.onClick,\n\t\t    useAsFilter = _props3.useAsFilter,\n\t\t    chartType = _props3.chartType,\n\t\t    type = _props3.type;\n\n\t\tif (onClick) {\n\t\t\tonClick.apply(undefined, arguments);\n\t\t}\n\t\tif (useAsFilter && type !== 'range') {\n\t\t\tvar item = arguments.length <= 0 ? undefined : arguments[0];\n\t\t\tvar value = void 0;\n\t\t\tif (item.data && item.data.name) {\n\t\t\t\tvalue = item.data.name;\n\t\t\t} else {\n\t\t\t\tvalue = item.data;\n\t\t\t}\n\t\t\tif (!Number.isNaN(parseInt(value, 10))) {\n\t\t\t\tvalue = parseInt(value, 10);\n\t\t\t}\n\t\t\tif (chartType === ChartTypes.Custom) {\n\t\t\t\tvalue = {\n\t\t\t\t\tmainLabel: item.name,\n\t\t\t\t\tsecondaryLabel: item.seriesName,\n\t\t\t\t\tdata: item.data\n\t\t\t\t};\n\t\t\t}\n\t\t\t_this3.setValue(value);\n\t\t}\n\t};\n\n\tthis.updateQuery = function (value, props) {\n\t\tvar execute = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\t\tvar customQuery = props.customQuery;\n\n\t\tvar query = ReactiveChart.defaultQuery(value, props);\n\t\tvar customQueryOptions = void 0;\n\t\tif (customQuery) {\n\t\t\tvar _ref4 = customQuery(value, props) || {};\n\n\t\t\tquery = _ref4.query;\n\n\t\t\tcustomQueryOptions = (0, _helper.getOptionsFromQuery)(customQuery(value, props));\n\t\t\t(0, _helper.updateCustomQuery)(props.componentId, props, value);\n\t\t}\n\t\tprops.setQueryOptions(props.componentId, _extends({}, ReactiveChart.generateQueryOptions(props, _this3.state.prevAfter, _this3.state.currentValue), customQueryOptions), false);\n\t\tprops.updateQuery({\n\t\t\tcomponentId: props.componentId,\n\t\t\tquery: query,\n\t\t\tvalue: value,\n\t\t\tlabel: props.filterLabel,\n\t\t\tshowFilter: props.showFilter,\n\t\t\tURLParams: props.URLParams,\n\t\t\tcomponentType: _constants.componentTypes.reactiveChart\n\t\t}, execute, false);\n\t};\n\n\tthis.setValue = function (value) {\n\t\tvar isDefault = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\tvar props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this3.props;\n\n\t\tvar performUpdate = function performUpdate() {\n\t\t\tvar handleUpdates = function handleUpdates() {\n\t\t\t\t_this3.updateQuery(value, props);\n\t\t\t};\n\t\t\t_this3.setState({\n\t\t\t\tcurrentValue: value\n\t\t\t}, handleUpdates);\n\t\t};\n\t\tif (isDefault) {\n\t\t\t_this3.updateQuery(value, props, false, false);\n\t\t} else {\n\t\t\t(0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n\t\t}\n\t};\n\n\tthis.getChartOptions = function () {\n\t\tvar _props4 = _this3.props,\n\t\t    chartType = _props4.chartType,\n\t\t    title = _props4.title,\n\t\t    labelFormatter = _props4.labelFormatter,\n\t\t    xAxisName = _props4.xAxisName,\n\t\t    yAxisName = _props4.yAxisName,\n\t\t    rawData = _props4.rawData,\n\t\t    hits = _props4.hits,\n\t\t    xAxisField = _props4.xAxisField,\n\t\t    yAxisField = _props4.yAxisField,\n\t\t    type = _props4.type;\n\t\tvar _state = _this3.state,\n\t\t    options = _state.options,\n\t\t    currentValue = _state.currentValue;\n\t\tvar setOption = _this3.props.setOption;\n\n\t\tvar results = (0, _helper.parseHits)(hits) || [];\n\t\tvar chartOptions = {\n\t\t\taggregationData: options,\n\t\t\trawData: rawData,\n\t\t\tvalue: currentValue,\n\t\t\tdata: results,\n\t\t\txAxisField: xAxisField,\n\t\t\tyAxisField: yAxisField,\n\t\t\tchartType: chartType,\n\t\t\ttitle: title,\n\t\t\tlabelFormatter: labelFormatter,\n\t\t\txAxisName: xAxisName,\n\t\t\tyAxisName: yAxisName,\n\t\t\ttype: type\n\t\t};\n\t\tif (setOption) {\n\t\t\treturn setOption(chartOptions);\n\t\t}\n\t\treturn ReactiveChart.getOption(chartOptions);\n\t};\n\n\tthis.handleRange = function () {\n\t\tvar _props5 = _this3.props,\n\t\t    useAsFilter = _props5.useAsFilter,\n\t\t    onDataZoom = _props5.onDataZoom;\n\n\t\tif (useAsFilter) {\n\t\t\tvar echartInstance = arguments.length <= 1 ? undefined : arguments[1];\n\t\t\tvar axis = echartInstance.getModel().option.xAxis[0];\n\t\t\tvar option = echartInstance.getOption();\n\t\t\tvar start = option.dataZoom[0].startValue;\n\t\t\tvar end = option.dataZoom[0].endValue;\n\t\t\tvar startRangeValue = axis.data[start];\n\t\t\tvar endRangeValue = axis.data[end];\n\t\t\tvar rangeValue = [startRangeValue.value !== undefined ? startRangeValue.value : startRangeValue, endRangeValue.value !== undefined ? endRangeValue.value : endRangeValue];\n\t\t\t_this3.setValue(rangeValue);\n\t\t}\n\t\tif (onDataZoom) {\n\t\t\tonDataZoom.apply(undefined, arguments);\n\t\t}\n\t};\n};\n\nReactiveChart.generateQueryOptions = function (props, after) {\n\tvar value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\tvar queryOptions = (0, _helper.getQueryOptions)(props);\n\treturn (0, _helper.getAggsQuery)(value, queryOptions, props);\n};\n\nReactiveChart.defaultQuery = function (value, props) {\n\tvar query = null;\n\tvar type = props.queryFormat === 'or' ? 'terms' : 'term';\n\n\tif (value) {\n\t\tvar listQuery = void 0;\n\t\tif (props.queryFormat === 'or') {\n\t\t\tvar _type, _ref;\n\n\t\t\tvar should = [(_ref = {}, _ref[type] = (_type = {}, _type[props.dataField] = value, _type), _ref)];\n\t\t\tlistQuery = {\n\t\t\t\tbool: {\n\t\t\t\t\tshould: should\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\tvar currentValue = Array.isArray(value) ? value : [value];\n\t\t\t// adds a sub-query with must as an array of objects for each term/value\n\t\t\tvar queryArray = currentValue.map(function (item) {\n\t\t\t\tvar _type2, _ref2;\n\n\t\t\t\treturn _ref2 = {}, _ref2[type] = (_type2 = {}, _type2[props.dataField] = item, _type2), _ref2;\n\t\t\t});\n\t\t\tlistQuery = {\n\t\t\t\tbool: {\n\t\t\t\t\tmust: queryArray\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tquery = value ? listQuery : null;\n\t}\n\n\tif (query && props.nestedField) {\n\t\treturn {\n\t\t\tnested: {\n\t\t\t\tpath: props.nestedField,\n\t\t\t\tquery: query\n\t\t\t}\n\t\t};\n\t}\n\n\treturn query;\n};\n\nReactiveChart.GetScatterChartOptions = '({\\n\\tdata,\\n\\ttitle,\\n\\txAxisName,\\n\\tyAxisName,\\n\\txAxisField,\\n\\tyAxisField,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\txAxis: {\\n\\t\\t\\tname: xAxisName,\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tsymbolSize: 20,\\n\\t\\t\\t\\tdata: data.map(d => [d[xAxisField], d[yAxisField]]),\\n\\t\\t\\t\\ttype: \\'scatter\\',\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.GetPieChartOptions = '({ title, aggregationData }) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t\\tleft: \\'center\\',\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'pie\\',\\n\\t\\t\\t\\tradius: \\'50%\\',\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\temphasis: {\\n\\t\\t\\t\\t\\titemStyle: {\\n\\t\\t\\t\\t\\t\\tshadowBlur: 10,\\n\\t\\t\\t\\t\\t\\tshadowOffsetX: 0,\\n\\t\\t\\t\\t\\t\\tshadowColor: \\'rgba(0, 0, 0, 0.5)\\',\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.GetHistogramChartOptions = '({\\n\\ttitle,\\n\\txAxisName,\\n\\tyAxisName,\\n\\taggregationData,\\n\\tvalue,\\n\\tlabelFormatter,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\tconst xAxisData = aggregationData.map(item => ({\\n\\t\\tvalue: item.key,\\n\\t\\tname: item.key,\\n\\t}));\\n\\tlet startIndex = -1;\\n\\tlet endIndex = -1;\\n\\tif (value && Array.isArray(value)) {\\n\\t\\tstartIndex = xAxisData.findIndex(i => i.value === value[0]);\\n\\t\\tendIndex = xAxisData.findIndex(i => i.value === value[1]);\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttoolbox: {\\n\\t\\t\\tfeature: {\\n\\t\\t\\t\\tdataZoom: {\\n\\t\\t\\t\\t\\tyAxisIndex: false,\\n\\t\\t\\t\\t\\tlabelFormatter,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tsaveAsImage: {\\n\\t\\t\\t\\t\\tpixelRatio: 2,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'axis\\',\\n\\t\\t\\taxisPointer: {\\n\\t\\t\\t\\ttype: \\'shadow\\',\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\tgrid: {\\n\\t\\t\\tbottom: 90,\\n\\t\\t},\\n\\t\\tdataZoom: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'inside\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'slider\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t],\\n\\t\\txAxis: {\\n\\t\\t\\tdata: xAxisData,\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\tsilent: false,\\n\\t\\t\\tsplitLine: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t\\tsplitArea: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\tsplitArea: {\\n\\t\\t\\t\\tshow: false,\\n\\t\\t\\t},\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'bar\\',\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\t// Set \\'large\\' for large data amount\\n\\t\\t\\t\\tlarge: true,\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.GetBarChartOptions = '({\\n\\ttitle, xAxisName, yAxisName, aggregationData,\\n}) => {\\n\\tlet chartTitle;\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttooltip: {\\n\\t\\t\\ttrigger: \\'item\\',\\n\\t\\t},\\n\\t\\txAxis: {\\n\\t\\t\\ttype: \\'category\\',\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\tvalue: item.key,\\n\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t})),\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\ttype: \\'value\\',\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\ttype: \\'bar\\',\\n\\t\\t\\t\\tshowBackground: true,\\n\\t\\t\\t\\tbackgroundStyle: {\\n\\t\\t\\t\\t\\tcolor: \\'rgba(180, 180, 180, 0.2)\\',\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.GetLineChartOptions = '({\\n\\ttitle,\\n\\ttype,\\n\\tvalue,\\n\\txAxisName,\\n\\tyAxisName,\\n\\taggregationData,\\n\\tlabelFormatter,\\n}) => {\\n\\tlet chartTitle;\\n\\n\\tif (title) {\\n\\t\\tif (typeof title === \\'string\\') {\\n\\t\\t\\tchartTitle = {\\n\\t\\t\\t\\ttext: title,\\n\\t\\t\\t};\\n\\t\\t} else {\\n\\t\\t\\tchartTitle = title;\\n\\t\\t}\\n\\t}\\n\\tconst xAxisData = aggregationData.map(item => ({\\n\\t\\tvalue: item.key,\\n\\t\\tname: item.key,\\n\\t}));\\n\\n\\tlet startIndex = -1;\\n\\tlet endIndex = -1;\\n\\tconst isValueArray = value && Array.isArray(value);\\n\\tconst isRangeType = type === \\'range\\';\\n\\tif (isValueArray && isRangeType) {\\n\\t\\tstartIndex = xAxisData.findIndex(i => i.value === value[0]);\\n\\t\\tendIndex = xAxisData.findIndex(i => i.value === value[1]);\\n\\t}\\n\\n\\treturn {\\n\\t\\ttitle: chartTitle,\\n\\t\\ttoolbox: isRangeType ? {\\n\\t\\t\\tfeature: {\\n\\t\\t\\t\\tdataZoom: {\\n\\t\\t\\t\\t\\tyAxisIndex: false,\\n\\t\\t\\t\\t\\tlabelFormatter,\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t}: undefined,\\n\\t\\txAxis: {\\n\\t\\t\\tname: xAxisName,\\n\\t\\t\\ttype: \\'category\\',\\n\\t\\t\\tdata: xAxisData\\n\\t\\t},\\n\\t\\tyAxis: {\\n\\t\\t\\ttype: \\'value\\',\\n\\t\\t\\tname: yAxisName,\\n\\t\\t},\\n\\t\\tdataZoom: isRangeType ? [\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'inside\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\ttype: \\'slider\\',\\n\\t\\t\\t\\tstartValue: startIndex > -1 ? startIndex : undefined,\\n\\t\\t\\t\\tendValue: endIndex > -1 ? endIndex : undefined,\\n\\t\\t\\t},\\n\\t\\t]: undefined,\\n\\t\\tseries: [\\n\\t\\t\\t{\\n\\t\\t\\t\\tdata: aggregationData.map(item => ({\\n\\t\\t\\t\\t\\tvalue: item.doc_count,\\n\\t\\t\\t\\t\\tname: item.key,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t\\ttype: \\'line\\',\\n\\t\\t\\t},\\n\\t\\t],\\n\\t};\\n}';\n\nReactiveChart.getOption = function (_ref3) {\n\tvar chartType = _ref3.chartType,\n\t    chartConfig = _objectWithoutProperties(_ref3, ['chartType']);\n\n\t// eslint-disable-next-line\n\tvar chartConfigMethod = eval(ReactiveChart.getOptionAsString(chartType));\n\tif (chartConfig) {\n\t\treturn chartConfigMethod(chartConfig);\n\t}\n\treturn null;\n};\n\nReactiveChart.getOptionAsString = function (chartType) {\n\tswitch (chartType) {\n\t\tcase ChartTypes.Scatter:\n\t\t\treturn ReactiveChart.GetScatterChartOptions;\n\t\tcase ChartTypes.Line:\n\t\t\treturn ReactiveChart.GetLineChartOptions;\n\t\tcase ChartTypes.Bar:\n\t\t\treturn ReactiveChart.GetBarChartOptions;\n\t\tcase ChartTypes.Pie:\n\t\t\treturn ReactiveChart.GetPieChartOptions;\n\t\tcase ChartTypes.Histogram:\n\t\t\treturn ReactiveChart.GetHistogramChartOptions;\n\t\tdefault:\n\t\t\treturn null;\n\t}\n};\n\nReactiveChart.defaultRangeQuery = function (value, props) {\n\tvar query = null;\n\tif (Array.isArray(value) && value.length) {\n\t\tquery = (0, _utils.getRangeQueryWithNullValues)(value, props);\n\t}\n\n\tif (query && props.nestedField) {\n\t\treturn {\n\t\t\tnested: {\n\t\t\t\tpath: props.nestedField,\n\t\t\t\tquery: query\n\t\t\t}\n\t\t};\n\t}\n\n\treturn query;\n};\nReactiveChart.propTypes = {\n\t// UI props\n\tfilterLabel: _types2.default.string,\n\t// events\n\tonClick: _propTypes.func,\n\tonDblClick: _propTypes.func,\n\tonMouseDown: _propTypes.func,\n\tonMouseUp: _propTypes.func,\n\tonMouseMove: _propTypes.func,\n\tonMouseOut: _propTypes.func,\n\tonGlobalOut: _propTypes.func,\n\tonContextMenu: _propTypes.func,\n\tbeforeValueChange: _propTypes.func,\n\tonDataZoom: _propTypes.func,\n\t// ---- user props ---\n\t// props to configure query\n\tcomponentId: _types2.default.stringRequired,\n\tURLParams: _types2.default.bool,\n\tdataField: _types2.default.stringRequired,\n\tshowFilter: _types2.default.bool,\n\tcustomQuery: _types2.default.func,\n\tdefaultQuery: _types2.default.func,\n\treact: _types2.default.react,\n\tsize: _types2.default.number,\n\tindex: _types2.default.string,\n\tqueryFormat: _types2.default.queryFormatSearch,\n\trange: _types2.default.range,\n\ttype: (0, _propTypes.oneOf)(['term', 'range', 'search', 'geo', 'suggestion']),\n\t// eslint-disable-next-line\n\tvalue: _propTypes.any,\n\t// props to configure chart\n\tchartType: (0, _propTypes.oneOf)(Object.values(ChartTypes)),\n\tsetOption: _propTypes.func,\n\ttitle: _types2.default.string,\n\tuseAsFilter: _types2.default.bool,\n\tlabelFormatter: _types2.default.func,\n\txAxisName: _types2.default.string,\n\tyAxisName: _types2.default.string,\n\txAxisField: _types2.default.string,\n\tyAxisField: _types2.default.string,\n\t// ---------//\n\tloader: _types2.default.title,\n\tonError: _types2.default.func,\n\trenderError: _types2.default.title,\n\tonChange: _types2.default.func,\n\t// redux props\n\tsetQueryOptions: _types2.default.funcRequired,\n\twatchComponent: _types2.default.funcRequired,\n\tupdateQuery: _types2.default.funcRequired,\n\toptions: _types2.default.options,\n\trawData: _types2.default.rawData,\n\thits: _types2.default.hits,\n\tselectedValue: _types2.default.selectedValue,\n\tsetCustomQuery: _types2.default.funcRequired,\n\tisLoading: _types2.default.bool,\n\terror: _types2.default.title,\n\tendpoint: _types2.default.endpoint\n};\n\nReactiveChart.defaultProps = {\n\tuseAsFilter: true,\n\tchartType: 'custom'\n};\n\n// Add componentType for SSR\nReactiveChart.componentType = _constants.componentTypes.multiList;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\treturn {\n\t\toptions: props.nestedField && state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)] ? state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)].reactivesearch_nested : state.aggregations[(0, _transform.getInternalComponentID)(props.componentId)],\n\t\thits: state.hits[(0, _transform.getInternalComponentID)(props.componentId)] && state.hits[(0, _transform.getInternalComponentID)(props.componentId)].hits,\n\t\trawData: state.rawData[(0, _transform.getInternalComponentID)(props.componentId)],\n\t\tselectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n\t\tisLoading: state.isLoading[(0, _transform.getInternalComponentID)(props.componentId)],\n\t\terror: state.error[(0, _transform.getInternalComponentID)(props.componentId)]\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\twatchComponent: function watchComponent(component, react) {\n\t\t\treturn dispatch((0, _actions.watchComponent)(component, react));\n\t\t},\n\t\tsetCustomQuery: function setCustomQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setCustomQuery)(component, query));\n\t\t},\n\t\tsetDefaultQuery: function setDefaultQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setDefaultQuery)(component, query));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions(component, props, execute) {\n\t\t\treturn dispatch((0, _actions.setQueryOptions)(component, props, execute));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject, execute, setInternalValue) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject, execute, setInternalValue));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n\treturn _react2.default.createElement(ReactiveChart, _extends({ ref: props.myForwardedRef }, props));\n});\n\n// eslint-disable-next-line\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n\treturn _react2.default.createElement(\n\t\t_PreferencesConsumer2.default,\n\t\t{ userProps: props },\n\t\tfunction (preferenceProps) {\n\t\t\tvar type = preferenceProps.type;\n\t\t\tif (!type) {\n\t\t\t\tif (preferenceProps.chartType === ChartTypes.Scatter) {\n\t\t\t\t\ttype = 'range';\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar aggregationSize = preferenceProps.aggregationSize;\n\t\t\tif (!aggregationSize) {\n\t\t\t\tif (!type || type === 'term') {\n\t\t\t\t\taggregationSize = preferenceProps.size;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar size = preferenceProps.size;\n\t\t\tif (preferenceProps.chartType === ChartTypes.Scatter) {\n\t\t\t\tsize = 10;\n\t\t\t}\n\t\t\tvar dataField = preferenceProps.dataField;\n\t\t\tif (preferenceProps.chartType === ChartTypes.Scatter) {\n\t\t\t\tif (!dataField) {\n\t\t\t\t\tdataField = '_default';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_ComponentWrapper2.default,\n\t\t\t\t_extends({}, preferenceProps, {\n\t\t\t\t\ttype: type,\n\t\t\t\t\tinternalComponent: true,\n\t\t\t\t\tcomponentType: _constants.componentTypes.reactiveChart,\n\t\t\t\t\tshowHistogram: preferenceProps.chartType === ChartTypes.Scatter ? false : type === 'range',\n\t\t\t\t\tsetReact: false,\n\t\t\t\t\taggregationSize: aggregationSize,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tdataField: dataField\n\t\t\t\t}),\n\t\t\t\tfunction (componentProps) {\n\t\t\t\t\treturn _react2.default.createElement(ConnectedComponent, _extends({}, preferenceProps, {\n\t\t\t\t\t\tsize: size,\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\taggregationSize: aggregationSize,\n\t\t\t\t\t\tdataField: dataField,\n\t\t\t\t\t\tmyForwardedRef: ref\n\t\t\t\t\t}, componentProps));\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n});\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, ReactiveChart);\n\nForwardRefComponent.displayName = 'ReactiveChart';\nexports.default = ForwardRefComponent;"],"mappings":"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"},"metadata":{},"sourceType":"script"}