{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amagzum\\\\Downloads\\\\22082021\\\\\\u0420\\u0410\\u0431\\u043E\\u0447\\u0438\\u0439 \\u043F\\u0440\\u043E\\u0442\\u043E\\u0442\\u0438\\u043F\\\\marioplan-master\\\\src\\\\components\\\\projects\\\\Products.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport Product from './Product';\nimport Pagination from './Pagination';\nimport Spinner from '../layout/Spinner';\nimport { Container, Row, Col } from 'reactstrap';\nimport { Nav, NavItem, NavLink, Button } from 'reactstrap';\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Text, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\n\nclass Products extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      pageOfItems: []\n    };\n\n    this.onChangePage = pageOfItems => this.setState({\n      pageOfItems: pageOfItems\n    });\n\n    this.selectCategory = (e, props, state) => {\n      console.log(e.target.value);\n      this.setState({\n        pickedCategory: []\n      });\n      this.setState({\n        pickedCategory: e.target.value\n      }); // this.setState({\n      //   pickedCategory: ''\n      // });\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      products: nextProps.products\n    });\n  }\n\n  // getFilteredProducts(pickedCategory) {\n  //   console.log('Я внутри getFilteredProduycts------------------------------------------')\n  //   console.log(' '  ,this.state.pickedCategory)\n  //   const filter = this.props.filter;\n  //   console.log(this.state.pageOfItems)\n  //   // console.log('------------------------------------------')\n  //   // console.log('вывод ',(this.state.pageOfItems))\n  //   // console.log('------------------------------------------')\n  //   const filteredProducts = this.state.pageOfItems.map(obj => {\n  //   const filtered = Object.values(obj.Category.value)\n  //       let concatedArray=[]\n  //       let buffer=''\n  //       // console.log('Filtered до цикла  ', filtered)\n  //       if (!filtered==null){   \n  //         console.log('filtered is null', filtered)  \n  //       }\n  //       else{ buffer = filtered.join('')}\n  //       concatedArray.push(buffer,obj)\n  //       // console.log('buffer ',buffer)\n  //       // console.log('obj',obj)\n  //       console.log('  pickedCategory  ---- ', this.state.pickedCategory)\n  //       if (buffer===this.state.pickedCategory.toString()){\n  //         this.state.newArray.push(concatedArray[1])\n  //         console.log('GG '  ,this.state.newArray)}\n  //       if (filtered.length === 0) return null;\n  //     })\n  getFilteredProducts(pickedCategory) {\n    this.state.newArray = [];\n    const filter = this.props.filter; // console.log(this.state.pageOfItems)\n    // console.log('------------------------------------------')\n    // console.log('вывод ',(this.state.pageOfItems))\n    // console.log('------------------------------------------')\n\n    const filteredProducts = this.state.pageOfItems.map(obj => {\n      const filtered = Object.values(obj.Category.value);\n      let concatedArray = [];\n      let buffer = ''; // console.log('Filtered до цикла  ', filtered)\n\n      buffer = filtered.join('');\n      concatedArray.push(buffer, obj); // console.log('buffer ',buffer)\n      // console.log('obj',obj)\n\n      console.log('3 pickedCategory is ', pickedCategory);\n\n      if (buffer === this.state.pickedCategory.toString()) {\n        this.state.newArray.push(concatedArray[1]);\n        console.log('4 NewArray -  ', this.state.newArray);\n      } // if (newArray.length === 0) return <p>Выберите категорию товара</p>;\n\n    });\n    return React.createElement(React.Fragment, null, this.state.newArray.map(product => React.createElement(Product, {\n      product: product,\n      key: product.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })));\n  }\n\n  render() {\n    const products = this.state.products;\n\n    if (products.length > 0) {\n      return React.createElement(React.Fragment, null, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(Nav, {\n        onClick: this.selectCategory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Button, {\n        value: \"smartphone\",\n        color: \"secondary\",\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"\\u0421\\u041C\\u0410\\u0420\\u0422\\u0424\\u041E\\u041D\\u042B\"), ' '), React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Button, {\n        value: \"pads\",\n        color: \"secondary\",\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"\\u041F\\u041B\\u0410\\u041D\\u0428\\u0415\\u0422\\u042B\"), ' '), React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Button, {\n        value: \"notebooks\",\n        color: \"secondary\",\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"\\u041D\\u041E\\u0423\\u0422\\u0411\\u0423\\u041A\\u0418\"), ' '), React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Button, {\n        value: \"smartwatches\",\n        color: \"secondary\",\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"\\u0421\\u041C\\u0410\\u0420\\u0422-\\u0427\\u0410\\u0421\\u042B\"), ' '), React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Button, {\n        value: \"headphones\",\n        color: \"secondary\",\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"\\u041D\\u0410\\u0423\\u0428\\u041D\\u0418\\u041A\\u0418\"), ' '), React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Button, {\n        value: \"accessories\",\n        color: \"secondary\",\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"\\u0410\\u041A\\u0421\\u0415\\u0421\\u0421\\u0423\\u0410\\u0420\\u042B\"), ' '), React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Button, {\n        value: \"technique\",\n        color: \"secondary\",\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"\\u0422\\u0415\\u0425\\u041D\\u0418\\u041A\\u0410\")), React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }))), ' ', React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, this.state.pickedCategory === 'smartphone' ? this.getFilteredProducts() : this.state.pickedCategory === 'pads' ? this.getFilteredProducts() : this.state.pickedCategory === 'notebooks' ? this.getFilteredProducts() : this.state.pickedCategory === 'smartwatches' ? this.getFilteredProducts() : this.state.pickedCategory === 'headphones' ? this.getFilteredProducts() : this.state.pickedCategory === 'accessories' ? this.getFilteredProducts() : this.state.pickedCategory === 'technique' ? this.getFilteredProducts() : React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          'width': '70rem'\n        },\n        src: \"https://i0.wp.com/www.smartprix.com/bytes/wp-content/uploads/2022/01/the-best-smartphones-in-the-2000-2500-tl-price-range-january-2022-G7EzkPc6.jpg?fit=1280%2C720&ssl=1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })), React.createElement(Pagination, {\n        items: products,\n        onChangePage: this.onChangePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }))));\n    } else {\n      return React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nProducts.propTypes = {\n  firestore: PropTypes.object.isRequired,\n  products: PropTypes.array\n};\n\nconst mapStateToProps = state => ({\n  products: state.firestore.ordered.products\n}); // console.log('this is map state to props',mapStateToProps)\n\n\nexport default compose(firestoreConnect(props => [{\n  collection: 'products',\n  orderBy: props.sort\n}]), connect(mapStateToProps))(Products);","map":{"version":3,"sources":["C:\\Users\\amagzum\\Downloads\\22082021\\РАбочий прототип\\marioplan-master\\src\\components\\projects\\Products.js"],"names":["React","Component","PropTypes","compose","connect","firestoreConnect","Product","Pagination","Spinner","Container","Row","Col","Nav","NavItem","NavLink","Button","Breadcrumb","BreadcrumbItem","Collapse","Navbar","NavbarToggler","NavbarBrand","Text","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","Products","state","products","pageOfItems","onChangePage","setState","selectCategory","e","props","console","log","target","value","pickedCategory","componentWillReceiveProps","nextProps","getFilteredProducts","newArray","filter","filteredProducts","map","obj","filtered","Object","values","Category","concatedArray","buffer","join","push","toString","product","id","render","length","propTypes","firestore","object","isRequired","array","mapStateToProps","ordered","collection","orderBy","sort"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,gBAAT,QAAiC,sBAAjC;AAEA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,QAAoC,YAApC;AAEA,SAASC,GAAT,EAAcC,OAAd,EAAuBC,OAAvB,EAA+BC,MAA/B,QAA6C,YAA7C;AACA,SAASC,UAAT,EAAqBC,cAArB,QAA2C,YAA3C;AACA,SACEC,QADF,EAEEC,MAFF,EAGEC,aAHF,EAIEC,WAJF,EAKEC,IALF,EAMEC,oBANF,EAOEC,cAPF,EAQEC,YARF,EASEC,YATF,QASsB,YATtB;;AAWE,MAAMC,QAAN,SAAuB1B,SAAvB,CAAiC;AAAA;AAAA;AAAA,SACjC2B,KADiC,GACzB;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,WAAW,EAAE;AAFP,KADyB;;AAAA,SAWjCC,YAXiC,GAWlBD,WAAW,IAAI,KAAKE,QAAL,CAAc;AAAEF,MAAAA,WAAW,EAAEA;AAAf,KAAd,CAXG;;AAAA,SAajCG,cAbiC,GAalB,CAACC,CAAD,EAAGC,KAAH,EAASP,KAAT,KAAiB;AAE9BQ,MAAAA,OAAO,CAACC,GAAR,CAAYH,CAAC,CAACI,MAAF,CAASC,KAArB;AAEA,WAAKP,QAAL,CAAc;AAAEQ,QAAAA,cAAc,EAAC;AAAjB,OAAd;AACA,WAAKR,QAAL,CAAc;AAAEQ,QAAAA,cAAc,EAAEN,CAAC,CAACI,MAAF,CAASC;AAA3B,OAAd,EAL8B,CAO9B;AACA;AACA;AAED,KAxBgC;AAAA;;AAMjCE,EAAAA,yBAAyB,CAACC,SAAD,EAAY;AACnC,SAAKV,QAAL,CAAc;AAAEH,MAAAA,QAAQ,EAAEa,SAAS,CAACb;AAAtB,KAAd;AACD;;AAkBD;AACA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAGAc,EAAAA,mBAAmB,CAACH,cAAD,EAAiB;AAClC,SAAKZ,KAAL,CAAWgB,QAAX,GAAoB,EAApB;AACA,UAAMC,MAAM,GAAG,KAAKV,KAAL,CAAWU,MAA1B,CAFkC,CAGlC;AACA;AACA;AACA;;AACA,UAAMC,gBAAgB,GAAG,KAAKlB,KAAL,CAAWE,WAAX,CAAuBiB,GAAvB,CAA2BC,GAAG,IACrD;AACE,YAAMC,QAAQ,GAAGC,MAAM,CAACC,MAAP,CAAcH,GAAG,CAACI,QAAJ,CAAab,KAA3B,CAAjB;AACA,UAAIc,aAAa,GAAC,EAAlB;AACA,UAAIC,MAAM,GAAC,EAAX,CAHF,CAIE;;AACAA,MAAAA,MAAM,GAAGL,QAAQ,CAACM,IAAT,CAAc,EAAd,CAAT;AACAF,MAAAA,aAAa,CAACG,IAAd,CAAmBF,MAAnB,EAA0BN,GAA1B,EANF,CAOE;AACA;;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmCG,cAAnC;;AACA,UAAIc,MAAM,KAAG,KAAK1B,KAAL,CAAWY,cAAX,CAA0BiB,QAA1B,EAAb,EAAkD;AAC5C,aAAK7B,KAAL,CAAWgB,QAAX,CAAoBY,IAApB,CAAyBH,aAAa,CAAC,CAAD,CAAtC;AACAjB,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA+B,KAAKT,KAAL,CAAWgB,QAA1C;AAAoD,OAZ5D,CAaE;;AACD,KAfsB,CAAzB;AAkBE,WAAQ,0CACP,KAAKhB,KAAL,CAAWgB,QAAX,CAAoBG,GAApB,CAAwBW,OAAO,IAC9B,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAEA,OAAlB;AAA2B,MAAA,GAAG,EAAEA,OAAO,CAACC,EAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADO,CAAR;AAKA;;AAGJC,EAAAA,MAAM,GAAG;AAAA,UACC/B,QADD,GACc,KAAKD,KADnB,CACCC,QADD;;AAEP,QAAIA,QAAQ,CAACgC,MAAT,GAAkB,CAAtB,EAAyB;AACvB,aAEE,0CACA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,GAAD;AAAK,QAAA,OAAO,EAAE,KAAK5B,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,YAAd;AAA2B,QAAA,KAAK,EAAC,WAAjC;AAA6C,QAAA,IAAI,EAAC,IAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEADF,EAC6E,GAD7E,CADF,EAKE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAS,QAAA,KAAK,EAAC,MAAf;AAAsB,QAAA,KAAK,EAAC,WAA5B;AAAwC,QAAA,IAAI,EAAC,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DADF,EACuE,GADvE,CALF,EAQE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,WAAd;AAA0B,QAAA,KAAK,EAAC,WAAhC;AAA4C,QAAA,IAAI,EAAC,IAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DADF,EAC4E,GAD5E,CARF,EAWE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,cAAd;AAA6B,QAAA,KAAK,EAAC,WAAnC;AAA+C,QAAA,IAAI,EAAC,IAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mEADF,EAC+E,GAD/E,CAXF,EAcE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,YAAd;AAA2B,QAAA,KAAK,EAAC,WAAjC;AAA6C,QAAA,IAAI,EAAC,IAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DADF,EAC2E,GAD3E,CAdF,EAiBE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,aAAd;AAA6B,QAAA,KAAK,EAAC,WAAnC;AAA+C,QAAA,IAAI,EAAC,IAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEADF,EAC+E,GAD/E,CAjBF,EAoBE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,WAAd;AAA2B,QAAA,KAAK,EAAC,WAAjC;AAA6C,QAAA,IAAI,EAAC,IAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDADF,CApBF,EAuBE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvBF,CAFF,CADA,EAkCG,GAlCH,EAgER;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhEQ,EAkER,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACY,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQF,KAAKL,KAAL,CAAWY,cAAX,KAA6B,YAA7B,GAA4C,KAAKG,mBAAL,EAA5C,GACA,KAAKf,KAAL,CAAWY,cAAX,KAA6B,MAA7B,GAAuC,KAAKG,mBAAL,EAAvC,GACA,KAAKf,KAAL,CAAWY,cAAX,KAA6B,WAA7B,GAA2C,KAAKG,mBAAL,EAA3C,GAEA,KAAKf,KAAL,CAAWY,cAAX,KAA6B,cAA7B,GAA8C,KAAKG,mBAAL,EAA9C,GACA,KAAKf,KAAL,CAAWY,cAAX,KAA6B,YAA7B,GAA6C,KAAKG,mBAAL,EAA7C,GACA,KAAKf,KAAL,CAAWY,cAAX,KAA8B,aAA9B,GAA8C,KAAKG,mBAAL,EAA9C,GACA,KAAKf,KAAL,CAAWY,cAAX,KAA6B,WAA7B,GAA4C,KAAKG,mBAAL,EAA5C,GAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAK,QAAA,KAAK,EAAE;AAAC,mBAAQ;AAAT,SAAZ;AAA+B,QAAA,GAAG,EAAC,0KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAJ,CAlBC,EAqBF,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAEd,QAAnB;AAA6B,QAAA,YAAY,EAAE,KAAKE,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArBE,CADZ,CAlEQ,CAFF;AAiGD,KAlGD,MAkGO;AACL,aAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;AACF;;AAzMgC;;AA4MnCJ,QAAQ,CAACmC,SAAT,GAAqB;AACnBC,EAAAA,SAAS,EAAE7D,SAAS,CAAC8D,MAAV,CAAiBC,UADT;AAEnBpC,EAAAA,QAAQ,EAAE3B,SAAS,CAACgE;AAFD,CAArB;;AAKA,MAAMC,eAAe,GAAIvC,KAAD,KAAY;AAClCC,EAAAA,QAAQ,EAAED,KAAK,CAACmC,SAAN,CAAgBK,OAAhB,CAAwBvC;AADA,CAAZ,CAAxB,C,CAIA;;;AAGA,eAAe1B,OAAO,CACpBE,gBAAgB,CAAC8B,KAAK,IAAI,CACxB;AACEkC,EAAAA,UAAU,EAAE,UADd;AAEEC,EAAAA,OAAO,EAAEnC,KAAK,CAACoC;AAFjB,CADwB,CAAV,CADI,EAOpBnE,OAAO,CAAC+D,eAAD,CAPa,CAAP,CAQbxC,QARa,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { firestoreConnect } from 'react-redux-firebase';\r\n\r\nimport Product from './Product';\r\nimport Pagination from './Pagination';\r\nimport Spinner from '../layout/Spinner';\r\nimport { Container, Row, Col } from 'reactstrap';\r\n\r\nimport { Nav, NavItem, NavLink,Button } from 'reactstrap';\r\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap';\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Text,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem } from 'reactstrap';\r\n\r\n  class Products extends Component {\r\n  state = {\r\n    products: [],\r\n    pageOfItems: []\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({ products: nextProps.products });\r\n  }\r\n\r\n  \r\n  onChangePage = pageOfItems => this.setState({ pageOfItems: pageOfItems });\r\n\r\n  selectCategory=(e,props,state)=>{\r\n    \r\n    console.log(e.target.value)\r\n\r\n    this.setState({ pickedCategory:[]})\r\n    this.setState({ pickedCategory: e.target.value})\r\n\r\n    // this.setState({\r\n    //   pickedCategory: ''\r\n    // });\r\n    \r\n  }\r\n \r\n  // getFilteredProducts(pickedCategory) {\r\n  //   console.log('Я внутри getFilteredProduycts------------------------------------------')\r\n  //   console.log(' '  ,this.state.pickedCategory)\r\n   \r\n  \r\n  //   const filter = this.props.filter;\r\n  \r\n  //   console.log(this.state.pageOfItems)\r\n                            \r\n  //   // console.log('------------------------------------------')\r\n  //   // console.log('вывод ',(this.state.pageOfItems))\r\n  //   // console.log('------------------------------------------')\r\n\r\n  //   const filteredProducts = this.state.pageOfItems.map(obj => {\r\n  //   const filtered = Object.values(obj.Category.value)\r\n  //       let concatedArray=[]\r\n  //       let buffer=''\r\n  //       // console.log('Filtered до цикла  ', filtered)\r\n        \r\n  //       if (!filtered==null){   \r\n  //         console.log('filtered is null', filtered)  \r\n       \r\n  //       }\r\n  //       else{ buffer = filtered.join('')}\r\n       \r\n  //       concatedArray.push(buffer,obj)\r\n\r\n  //       // console.log('buffer ',buffer)\r\n  //       // console.log('obj',obj)\r\n\r\n  //       console.log('  pickedCategory  ---- ', this.state.pickedCategory)\r\n  //       if (buffer===this.state.pickedCategory.toString()){\r\n  //         this.state.newArray.push(concatedArray[1])\r\n  //         console.log('GG '  ,this.state.newArray)}\r\n     \r\n  //       if (filtered.length === 0) return null;\r\n  //     })\r\n      \r\n  \r\n  getFilteredProducts(pickedCategory) {\r\n    this.state.newArray=[];\r\n    const filter = this.props.filter;\r\n    // console.log(this.state.pageOfItems)\r\n    // console.log('------------------------------------------')\r\n    // console.log('вывод ',(this.state.pageOfItems))\r\n    // console.log('------------------------------------------')\r\n    const filteredProducts = this.state.pageOfItems.map(obj => \r\n      {\r\n        const filtered = Object.values(obj.Category.value)\r\n        let concatedArray=[]\r\n        let buffer=''\r\n        // console.log('Filtered до цикла  ', filtered)\r\n        buffer = filtered.join('')\r\n        concatedArray.push(buffer,obj)\r\n        // console.log('buffer ',buffer)\r\n        // console.log('obj',obj)\r\n        console.log('3 pickedCategory is ',pickedCategory)\r\n        if (buffer===this.state.pickedCategory.toString()){\r\n              this.state.newArray.push(concatedArray[1])\r\n              console.log('4 NewArray -  '  ,this.state.newArray)}\r\n        // if (newArray.length === 0) return <p>Выберите категорию товара</p>;\r\n      })\r\n\r\n\r\n      return  <>\r\n      {this.state.newArray.map(product => (\r\n        <Product product={product} key={product.id}  />\r\n        ) )}\r\n      </> \r\n     }\r\n  \r\n\r\n  render() {\r\n    const { products } = this.state;\r\n    if (products.length > 0) {\r\n      return (\r\n\r\n        <>\r\n        <Container>\r\n          <br/>\r\n          <Nav onClick={this.selectCategory} >\r\n            <NavItem>\r\n              <Button value=\"smartphone\" color=\"secondary\" size=\"sm\" >СМАРТФОНЫ</Button>{' '}\r\n            </NavItem>\r\n         \r\n            <NavItem>\r\n              <Button  value=\"pads\" color=\"secondary\" size=\"sm\" >ПЛАНШЕТЫ</Button>{' '}\r\n            </NavItem>\r\n            <NavItem>\r\n              <Button value=\"notebooks\" color=\"secondary\" size=\"sm\"  >НОУТБУКИ</Button>{' '}\r\n            </NavItem>\r\n            <NavItem>\r\n              <Button value=\"smartwatches\" color=\"secondary\" size=\"sm\">СМАРТ-ЧАСЫ</Button>{' '}\r\n            </NavItem>\r\n            <NavItem>\r\n              <Button value=\"headphones\" color=\"secondary\" size=\"sm\">НАУШНИКИ</Button>{' '}\r\n            </NavItem>\r\n            <NavItem>\r\n              <Button value=\"accessories\"  color=\"secondary\" size=\"sm\">АКСЕССУАРЫ</Button>{' '}\r\n            </NavItem>\r\n            <NavItem>\r\n              <Button value=\"technique\"  color=\"secondary\" size=\"sm\">ТЕХНИКА</Button>\r\n            </NavItem>\r\n            <NavItem>\r\n        \r\n            </NavItem>\r\n           \r\n            </Nav>\r\n\r\n        \r\n          </Container>\r\n          {' '}\r\n{/*           \r\n          <Navbar color=\"dark\" light expand=\"md\">\r\n          <NavbarBrand href=\"/\">reactstrap</NavbarBrand>\r\n          <NavbarToggler onClick={this.toggle} />\r\n    \r\n            <Nav className=\"ml-auto\" navbar>\r\n              <NavItem>\r\n                <NavLink href=\"/components/\">Components</NavLink>\r\n              </NavItem>\r\n              <NavItem>\r\n                <NavLink href=\"https://github.com/reactstrap/reactstrap\">GitHub</NavLink>\r\n              </NavItem>\r\n            \r\n            </Nav>\r\n\r\n        </Navbar> */}\r\n\r\n\r\n\r\n          {/* <div className=\"container\">\r\n            <div className=\"row\">\r\n              {this.state.pageOfItems.map(product => (\r\n                <Product product={product} key={product.id} />\r\n              ))}\r\n              <Pagination items={products} onChangePage={this.onChangePage} />\r\n            </div>\r\n          </div> */}\r\n\r\n\r\n<br/>\r\n\r\n<Container>\r\n            <Row>\r\n            \r\n              {/* {this.state.pageOfItems.map(product => (\r\n               \r\n                  <Product product={product} key={product.id}  />\r\n              \r\n              ))} */}\r\n    \r\n        { this.state.pickedCategory ==='smartphone' ? this.getFilteredProducts()\r\n         :this.state.pickedCategory ==='pads' ?  this.getFilteredProducts()\r\n         :this.state.pickedCategory ==='notebooks' ? this.getFilteredProducts()\r\n        \r\n         :this.state.pickedCategory ==='smartwatches' ? this.getFilteredProducts()\r\n         :this.state.pickedCategory ==='headphones' ?  this.getFilteredProducts()\r\n         :this.state.pickedCategory === 'accessories' ? this.getFilteredProducts()\r\n         :this.state.pickedCategory ==='technique' ?  this.getFilteredProducts()\r\n\r\n         \r\n         : <h1><img style={{'width':'70rem'}} src='https://i0.wp.com/www.smartprix.com/bytes/wp-content/uploads/2022/01/the-best-smartphones-in-the-2000-2500-tl-price-range-january-2022-G7EzkPc6.jpg?fit=1280%2C720&ssl=1'/></h1>\r\n         }\r\n            \r\n          <Pagination items={products} onChangePage={this.onChangePage} />\r\n              \r\n          </Row>\r\n\r\n</Container>\r\n        </>\r\n      )\r\n    } else {\r\n      return <Spinner />;\r\n    }\r\n  }\r\n}\r\n\r\nProducts.propTypes = {\r\n  firestore: PropTypes.object.isRequired,\r\n  products: PropTypes.array\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  products: state.firestore.ordered.products\r\n});\r\n\r\n// console.log('this is map state to props',mapStateToProps)\r\n\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: 'products',\r\n      orderBy: props.sort\r\n    }\r\n  ]),\r\n  connect(mapStateToProps)\r\n)(Products);\r\n"]},"metadata":{},"sourceType":"module"}