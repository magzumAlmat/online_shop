{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\amagzum\\\\Downloads\\\\22082021\\\\marioplan-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { SHOW_CART, ADD_ITEM, DELETE_ITEM, UPDATE_PRICE, DECREMENT_QTY } from '..//actions/types';\nconst initialState = {\n  isOpen: false,\n  cartItems: [],\n  totalPrice: 0\n};\nexport default ((state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_CART:\n      console.log('action from cardReducer', action);\n      return _objectSpread({}, state, {\n        isOpen: !state.isOpen\n      });\n\n    case ADD_ITEM:\n      const isAlreadyAdded = state.cartItems.find(product => product.id === action.payload.id); // if (!isAlreadyAdded) action.payload.qty = 1;\n\n      return _objectSpread({}, state, {\n        cartItems: !isAlreadyAdded ? [action.payload, ...state.cartItems] : state.cartItems.map(item => item.id === action.payload.id ? _objectSpread({}, item, {\n          qty: ++item.qty\n        }) : item)\n      });\n\n    case DELETE_ITEM:\n      return _objectSpread({}, state, {\n        cartItems: state.cartItems.filter(item => item.id !== action.payload)\n      });\n\n    case DECREMENT_QTY:\n      return _objectSpread({}, state, {\n        cartItems: state.cartItems.map(item => item.id === action.payload.id ? _objectSpread({}, item, {\n          qty: --item.qty\n        }) : item)\n      });\n\n    case UPDATE_PRICE:\n      return _objectSpread({}, state, {\n        totalPrice: state.cartItems.reduce((acc, val) => acc + val.qty * val.price, 0).toFixed(2)\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:\\Users\\amagzum\\Downloads\\22082021\\marioplan-master\\src\\store\\reducers\\cartReducer.js"],"names":["SHOW_CART","ADD_ITEM","DELETE_ITEM","UPDATE_PRICE","DECREMENT_QTY","initialState","isOpen","cartItems","totalPrice","state","action","type","console","log","isAlreadyAdded","find","product","id","payload","map","item","qty","filter","reduce","acc","val","price","toFixed"],"mappings":";AAAA,SACEA,SADF,EAEEC,QAFF,EAGEC,WAHF,EAIEC,YAJF,EAKEC,aALF,QAMO,mBANP;AAQA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE,KADW;AAEnBC,EAAAA,SAAS,EAAE,EAFQ;AAGnBC,EAAAA,UAAU,EAAE;AAHO,CAArB;AAOA,gBAAe,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AAC/C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKX,SAAL;AACEY,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAsCH,MAAtC;AACA,+BACKD,KADL;AAEEH,QAAAA,MAAM,EAAE,CAACG,KAAK,CAACH;AAFjB;;AAMF,SAAKL,QAAL;AACE,YAAMa,cAAc,GAAGL,KAAK,CAACF,SAAN,CAAgBQ,IAAhB,CACrBC,OAAO,IAAIA,OAAO,CAACC,EAAR,KAAeP,MAAM,CAACQ,OAAP,CAAeD,EADpB,CAAvB,CADF,CAKE;;AAEA,+BACKR,KADL;AAEEF,QAAAA,SAAS,EAAE,CAACO,cAAD,GACP,CAACJ,MAAM,CAACQ,OAAR,EAAiB,GAAGT,KAAK,CAACF,SAA1B,CADO,GAEPE,KAAK,CAACF,SAAN,CAAgBY,GAAhB,CACEC,IAAI,IACFA,IAAI,CAACH,EAAL,KAAYP,MAAM,CAACQ,OAAP,CAAeD,EAA3B,qBACSG,IADT;AACeC,UAAAA,GAAG,EAAE,EAAED,IAAI,CAACC;AAD3B,aAEID,IAJR;AAJN;;AAWF,SAAKlB,WAAL;AACE,+BACKO,KADL;AAEEF,QAAAA,SAAS,EAAEE,KAAK,CAACF,SAAN,CAAgBe,MAAhB,CAAuBF,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYP,MAAM,CAACQ,OAAlD;AAFb;;AAIF,SAAKd,aAAL;AACE,+BACKK,KADL;AAEEF,QAAAA,SAAS,EAAEE,KAAK,CAACF,SAAN,CAAgBY,GAAhB,CACTC,IAAI,IACFA,IAAI,CAACH,EAAL,KAAYP,MAAM,CAACQ,OAAP,CAAeD,EAA3B,qBAAqCG,IAArC;AAA2CC,UAAAA,GAAG,EAAE,EAAED,IAAI,CAACC;AAAvD,aAA+DD,IAFxD;AAFb;;AAOF,SAAKjB,YAAL;AACE,+BACKM,KADL;AAEED,QAAAA,UAAU,EAAEC,KAAK,CAACF,SAAN,CACTgB,MADS,CACF,CAACC,GAAD,EAAMC,GAAN,KAAcD,GAAG,GAAGC,GAAG,CAACJ,GAAJ,GAAUI,GAAG,CAACC,KADhC,EACuC,CADvC,EAETC,OAFS,CAED,CAFC;AAFd;;AAMF;AACE,aAAOlB,KAAP;AAhDJ;AAkDD,CAnDD","sourcesContent":["import {\n  SHOW_CART,\n  ADD_ITEM,\n  DELETE_ITEM,\n  UPDATE_PRICE,\n  DECREMENT_QTY\n} from '..//actions/types';\n\nconst initialState = {\n  isOpen: false,\n  cartItems: [],\n  totalPrice: 0,\n  \n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_CART:\n      console.log('action from cardReducer',action)\n      return {\n        ...state,\n        isOpen: !state.isOpen\n        \n      };\n\n    case ADD_ITEM:\n      const isAlreadyAdded = state.cartItems.find(\n        product => product.id === action.payload.id\n      );\n     \n      // if (!isAlreadyAdded) action.payload.qty = 1;\n\n      return {\n        ...state,\n        cartItems: !isAlreadyAdded\n          ? [action.payload, ...state.cartItems]\n          : state.cartItems.map(\n              item =>\n                item.id === action.payload.id\n                  ? { ...item, qty: ++item.qty }\n                  : item\n            )\n      };\n    case DELETE_ITEM:\n      return {\n        ...state,\n        cartItems: state.cartItems.filter(item => item.id !== action.payload)\n      };\n    case DECREMENT_QTY:\n      return {\n        ...state,\n        cartItems: state.cartItems.map(\n          item =>\n            item.id === action.payload.id ? { ...item, qty: --item.qty } : item\n        )\n      };\n    case UPDATE_PRICE:\n      return {\n        ...state,\n        totalPrice: state.cartItems\n          .reduce((acc, val) => acc + val.qty * val.price, 0)\n          .toFixed(2)\n      };\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}