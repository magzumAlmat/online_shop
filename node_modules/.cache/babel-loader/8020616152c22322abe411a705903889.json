{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _propTypes = require('prop-types');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ErrorBoundary = function (_Component) {\n  _inherits(ErrorBoundary, _Component);\n\n  function ErrorBoundary() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      error: null\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  ErrorBoundary.prototype.invokeErrorCallback = function invokeErrorCallback() {\n    var error = this.state.error;\n\n    if (this.props.onError) {\n      this.props.onError(error, this.props.componentId);\n    }\n  };\n\n  ErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  };\n\n  ErrorBoundary.prototype.componentDidCatch = function componentDidCatch() {\n    this.invokeErrorCallback();\n  };\n\n  ErrorBoundary.prototype.componentDidUpdate = function componentDidUpdate() {\n    // Store error in state, since the component would be\n    // destroyed, and this.props.error would be empty\n    if (this.props.error && !this.state.error) {\n      // Below wouldn't result in an infinite loop.\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        error: this.props.error\n      });\n    }\n\n    this.invokeErrorCallback();\n  };\n\n  ErrorBoundary.prototype.render = function render() {\n    var error = this.state.error;\n\n    if (error) {\n      if (this.props.renderError) {\n        var componentId = this.props.componentId;\n        return this.props.renderError(error, componentId);\n      } // You can render any custom fallback UI\n\n\n      return _react2.default.createElement('div', null, _react2.default.createElement('h2', null, 'Error occured!'), _react2.default.createElement('p', null, error.message));\n    }\n\n    return this.props.children;\n  };\n\n  return ErrorBoundary;\n}(_react.Component);\n\nErrorBoundary.propTypes = {\n  children: _types2.default.children,\n  // eslint-disable-next-line react/forbid-prop-types\n  error: _propTypes.object,\n  componentId: _types2.default.string,\n  componentIds: (0, _propTypes.arrayOf)(_types2.default.string),\n  renderError: _types2.default.func,\n  onError: _types2.default.func\n};\n\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n  var listOfComponentsToSearch = Object.keys(state.error);\n\n  if (ownProps.componentIds && ownProps.componentIds.length) {\n    listOfComponentsToSearch = Object.keys(state.error).filter(function (componentId) {\n      return ownProps.componentIds.includes(componentId);\n    });\n  }\n\n  var error = listOfComponentsToSearch.map(function (componentId) {\n    return state.error[componentId];\n  }) // Find the first non-null error\n  .find(function (e) {\n    return e;\n  });\n  var componentId = listOfComponentsToSearch.find(function (id) {\n    return state.error[id];\n  });\n  return {\n    error: error,\n    componentId: componentId\n  };\n};\n\nexports.default = (0, _utils.connect)(mapStateToProps, null)(ErrorBoundary);","map":{"version":3,"names":["exports","__esModule","_types","require","_types2","_interopRequireDefault","_propTypes","_react","_react2","_utils","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","ErrorBoundary","_Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","apply","concat","state","error","invokeErrorCallback","props","onError","componentId","getDerivedStateFromError","componentDidCatch","componentDidUpdate","setState","render","renderError","createElement","message","children","Component","propTypes","object","string","componentIds","arrayOf","func","mapStateToProps","ownProps","listOfComponentsToSearch","keys","filter","includes","map","find","e","id","connect"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/reactivesearch/lib/components/basic/ErrorBoundary.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _propTypes = require('prop-types');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ErrorBoundary = function (_Component) {\n\t_inherits(ErrorBoundary, _Component);\n\n\tfunction ErrorBoundary() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, ErrorBoundary);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n\t\t\terror: null\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tErrorBoundary.prototype.invokeErrorCallback = function invokeErrorCallback() {\n\t\tvar error = this.state.error;\n\t\tif (this.props.onError) {\n\t\t\tthis.props.onError(error, this.props.componentId);\n\t\t}\n\t};\n\n\tErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\n\t\treturn { error: error };\n\t};\n\n\tErrorBoundary.prototype.componentDidCatch = function componentDidCatch() {\n\t\tthis.invokeErrorCallback();\n\t};\n\n\tErrorBoundary.prototype.componentDidUpdate = function componentDidUpdate() {\n\t\t// Store error in state, since the component would be\n\t\t// destroyed, and this.props.error would be empty\n\t\tif (this.props.error && !this.state.error) {\n\t\t\t// Below wouldn't result in an infinite loop.\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState({ error: this.props.error });\n\t\t}\n\t\tthis.invokeErrorCallback();\n\t};\n\n\tErrorBoundary.prototype.render = function render() {\n\t\tvar error = this.state.error;\n\t\tif (error) {\n\t\t\tif (this.props.renderError) {\n\t\t\t\tvar componentId = this.props.componentId;\n\n\t\t\t\treturn this.props.renderError(error, componentId);\n\t\t\t}\n\t\t\t// You can render any custom fallback UI\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'h2',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Error occured!'\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'p',\n\t\t\t\t\tnull,\n\t\t\t\t\terror.message\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\treturn this.props.children;\n\t};\n\n\treturn ErrorBoundary;\n}(_react.Component);\n\nErrorBoundary.propTypes = {\n\tchildren: _types2.default.children,\n\t// eslint-disable-next-line react/forbid-prop-types\n\terror: _propTypes.object,\n\tcomponentId: _types2.default.string,\n\tcomponentIds: (0, _propTypes.arrayOf)(_types2.default.string),\n\trenderError: _types2.default.func,\n\tonError: _types2.default.func\n};\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n\tvar listOfComponentsToSearch = Object.keys(state.error);\n\tif (ownProps.componentIds && ownProps.componentIds.length) {\n\t\tlistOfComponentsToSearch = Object.keys(state.error).filter(function (componentId) {\n\t\t\treturn ownProps.componentIds.includes(componentId);\n\t\t});\n\t}\n\tvar error = listOfComponentsToSearch.map(function (componentId) {\n\t\treturn state.error[componentId];\n\t})\n\t// Find the first non-null error\n\t.find(function (e) {\n\t\treturn e;\n\t});\n\tvar componentId = listOfComponentsToSearch.find(function (id) {\n\t\treturn state.error[id];\n\t});\n\treturn { error: error, componentId: componentId };\n};\n\nexports.default = (0, _utils.connect)(mapStateToProps, null)(ErrorBoundary);"],"mappings":"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"},"metadata":{},"sourceType":"script"}