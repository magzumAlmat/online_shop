{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _downshift = require('downshift');\n\nvar _downshift2 = _interopRequireDefault(_downshift);\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _causes = require('@appbaseio/reactivecore/lib/utils/causes');\n\nvar _causes2 = _interopRequireDefault(_causes);\n\nvar _hotkeysJs = require('hotkeys-js');\n\nvar _hotkeysJs2 = _interopRequireDefault(_hotkeysJs);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _InputGroup = require('../../styles/InputGroup');\n\nvar _InputGroup2 = _interopRequireDefault(_InputGroup);\n\nvar _InputWrapper = require('../../styles/InputWrapper');\n\nvar _InputWrapper2 = _interopRequireDefault(_InputWrapper);\n\nvar _InputAddon = require('../../styles/InputAddon');\n\nvar _InputAddon2 = _interopRequireDefault(_InputAddon);\n\nvar _Input = require('../../styles/Input');\n\nvar _Input2 = _interopRequireDefault(_Input);\n\nvar _CancelSvg = require('../shared/CancelSvg');\n\nvar _CancelSvg2 = _interopRequireDefault(_CancelSvg);\n\nvar _SearchSvg = require('../shared/SearchSvg');\n\nvar _SearchSvg2 = _interopRequireDefault(_SearchSvg);\n\nvar _Container = require('../../styles/Container');\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _Mic = require('./addons/Mic');\n\nvar _Mic2 = _interopRequireDefault(_Mic);\n\nvar _CustomSvg = require('../shared/CustomSvg');\n\nvar _CustomSvg2 = _interopRequireDefault(_CustomSvg);\n\nvar _utils = require('../../utils');\n\nvar _SuggestionItem = require('./addons/SuggestionItem');\n\nvar _SuggestionItem2 = _interopRequireDefault(_SuggestionItem);\n\nvar _SuggestionWrapper = require('./addons/SuggestionWrapper');\n\nvar _SuggestionWrapper2 = _interopRequireDefault(_SuggestionWrapper);\n\nvar _PreferencesConsumer = require('../basic/PreferencesConsumer');\n\nvar _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nvar _IconWrapper = require('../../styles/IconWrapper');\n\nvar _IconWrapper2 = _interopRequireDefault(_IconWrapper);\n\nvar _IconGroup = require('../../styles/IconGroup');\n\nvar _IconGroup2 = _interopRequireDefault(_IconGroup);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/** @jsxRuntime classic */\n\n/** @jsx jsx */\n\n\nvar Text = (0, _emotionTheming.withTheme)(function (props) {\n  return (0, _core.jsx)('span', {\n    className: 'trim',\n    style: {\n      color: props.primary ? props.theme.colors.primaryColor : props.theme.colors.textColor\n    }\n  }, props.children);\n});\n\nvar CategorySearch = function (_Component) {\n  _inherits(CategorySearch, _Component);\n\n  function CategorySearch(props) {\n    _classCallCheck(this, CategorySearch);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var value = props.value || props.defaultValue || {}; // eslint-disable-next-line\n\n    var _value$term = value.term,\n        currentValue = _value$term === undefined ? '' : _value$term,\n        _value$category = value.category,\n        currentCategory = _value$category === undefined ? null : _value$category; // add preference to selected-X value from URL/SSR\n\n    currentValue = props.selectedValue || currentValue;\n    currentCategory = props.selectedCategory || currentCategory;\n    _this.state = {\n      currentValue: currentValue,\n      currentCategory: currentCategory,\n      suggestions: [],\n      isOpen: false\n    };\n    /**\n     * To regulate the query execution based on the input handler,\n     * the component query will only get executed when it sets to `true`.\n     * */\n\n    _this.isPending = false;\n    _this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);\n    _this.queryOptions = (0, _helper.getQueryOptions)(props); // Set custom and default queries in store\n\n    (0, _helper.updateCustomQuery)(props.componentId, props, currentValue);\n    (0, _helper.updateDefaultQuery)(props.componentId, props, currentValue);\n\n    if (props.highlight) {\n      var queryOptions = CategorySearch.highlightQuery(props) || {};\n\n      if (props.customHighlight && typeof props.customHighlight === 'function') {\n        props.setCustomHighlightOptions(props.componentId, props.customHighlight(props));\n      }\n\n      queryOptions.size = props.size;\n      _this.queryOptions = queryOptions;\n      props.setQueryOptions(props.componentId, queryOptions);\n    } else {\n      props.setQueryOptions(props.componentId, _this.queryOptions);\n    }\n\n    var aggsQuery = _this.getCombinedAggsQuery();\n\n    props.setQueryOptions(_this.internalComponent, aggsQuery, false);\n    var hasMounted = false;\n    var cause = null;\n\n    if (currentValue) {\n      var calcValue = {\n        term: currentValue,\n        category: currentCategory\n      };\n\n      if (props.onChange) {\n        props.onChange(calcValue, function () {\n          return _this.triggerQuery(calcValue);\n        });\n      }\n\n      _this.setValue(currentValue, true, props, currentCategory, cause, hasMounted);\n    }\n\n    return _this;\n  }\n\n  CategorySearch.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['highlight', 'dataField', 'highlightField'], function () {\n      var queryOptions = CategorySearch.highlightQuery(_this2.props) || {};\n\n      if (_this2.props.customHighlight && typeof _this2.props.customHighlight === 'function') {\n        _this2.props.setCustomHighlightOptions(_this2.props.componentId, _this2.props.customHighlight(_this2.props));\n      }\n\n      queryOptions.size = _this2.props.size;\n      _this2.queryOptions = queryOptions;\n\n      _this2.props.setQueryOptions(_this2.props.componentId, queryOptions);\n    }); // Treat defaultQuery and customQuery as reactive props\n\n    if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'defaultQuery')) {\n      this.updateDefaultQuery(this.state.currentValue, this.props);\n      this.updateQuery(this.state.currentValue, this.props);\n    }\n\n    if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'customQuery')) {\n      this.updateQuery(this.state.currentValue, this.props);\n    }\n\n    if (Array.isArray(this.props.suggestions) && this.state.currentValue.trim().length) {\n      // shallow check allows us to set suggestions even if the next set\n      // of suggestions are same as the current one\n      if (this.props.suggestions !== prevProps.suggestions) {\n        if (this.props.onSuggestions) {\n          this.props.onSuggestions(this.props.suggestions);\n        } // eslint-disable-next-line\n\n\n        this.setState({\n          suggestions: this.onSuggestions(this.props.suggestions)\n        });\n      }\n    }\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['fieldWeights', 'fuzziness', 'queryFormat', 'dataField', 'categoryField', 'nestedField', 'searchOperators'], function () {\n      _this2.updateQuery(_this2.state.currentValue, _this2.props);\n    });\n\n    if (!(0, _helper.isEqual)(this.props.value, prevProps.value)) {\n      var _props$value = this.props.value,\n          currentValue = _props$value.term,\n          _props$value$category = _props$value.category,\n          currentCategory = _props$value$category === undefined ? null : _props$value$category;\n      this.setValue(currentValue, true, this.props, currentCategory, undefined, undefined, false);\n    } else if ( // since, selectedValue will be updated when currentValue changes,\n    // we must only check for the changes introduced by\n    // clear action from SelectedFilters component in which case,\n    // the currentValue will never match the updated selectedValue\n    this.props.selectedValue !== prevProps.selectedValue && this.state.currentValue !== this.props.selectedValue) {\n      if (!this.props.selectedValue && this.state.currentValue) {\n        // selected value is cleared, call onValueSelected\n        this.onValueSelected('', _causes2.default.CLEAR_VALUE, null);\n      }\n\n      var _props = this.props,\n          value = _props.value,\n          onChange = _props.onChange;\n\n      if (value === undefined) {\n        this.setValue(this.props.selectedValue || '', true, this.props, this.props.selectedCategory);\n      } else if (onChange) {\n        var _currentValue = {\n          term: this.props.selectedValue || '',\n          category: this.props.selectedCategory || null\n        }; // value prop exists\n\n        onChange(_currentValue, function () {\n          return _this2.triggerQuery(_currentValue);\n        });\n      } else {\n        // value prop exists and onChange is not defined:\n        // we need to put the current value back into the store\n        // if the clear action was triggered by interacting with\n        // selected-filters component\n        this.isPending = false;\n        this.setValue(this.state.currentValue, true, this.props, this.state.currentCategory);\n      }\n    }\n  };\n\n  CategorySearch.prototype.componentDidMount = function componentDidMount() {\n    // register hotkeys for listening to focusShortcuts' key presses\n    this.listenForFocusShortcuts();\n    var _props2 = this.props,\n        enableQuerySuggestions = _props2.enableQuerySuggestions,\n        renderQuerySuggestions = _props2.renderQuerySuggestions,\n        fetchPopularSuggestions = _props2.fetchPopularSuggestions,\n        enableRecentSearches = _props2.enableRecentSearches,\n        fetchRecentSearches = _props2.fetchRecentSearches,\n        componentId = _props2.componentId,\n        aggregationField = _props2.aggregationField,\n        distinctField = _props2.distinctField,\n        distinctFieldConfig = _props2.distinctFieldConfig,\n        index = _props2.index,\n        enableAppbase = _props2.enableAppbase; // TODO: Remove in 4.0\n\n    if (enableQuerySuggestions !== undefined) {\n      console.warn('Warning(ReactiveSearch): The `enableQuerySuggestions` prop has been marked as deprecated, please use the `enablePopularSuggestions` prop instead.');\n    } // TODO: Remove in 4.0\n\n\n    if (renderQuerySuggestions !== undefined) {\n      console.warn('Warning(ReactiveSearch): The `renderQuerySuggestions` prop has been marked as deprecated, please use the `renderPopularSuggestions` prop instead.');\n    }\n\n    if (enableAppbase && aggregationField) {\n      console.warn('Warning(ReactiveSearch): The `aggregationField` prop has been marked as deprecated, please use the `distinctField` prop instead.');\n    }\n\n    if (!enableAppbase && (distinctField || distinctFieldConfig)) {\n      console.warn('Warning(ReactiveSearch): In order to use the `distinctField` and `distinctFieldConfig` props, the `enableAppbase` prop must be set to true in `ReactiveBase`.');\n    }\n\n    if (!enableAppbase && index) {\n      console.warn('Warning(ReactiveSearch): In order to use the `index` prop, the `enableAppbase` prop must be set to true in `ReactiveBase`.');\n    }\n\n    if (enableRecentSearches) {\n      fetchRecentSearches();\n    }\n\n    fetchPopularSuggestions(componentId);\n  };\n\n  CategorySearch.prototype.componentWillUnmount = function componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown);\n  };\n\n  CategorySearch.prototype.shouldMicRender = function shouldMicRender(showVoiceSearch) {\n    // checks for SSR\n    if (typeof window === 'undefined') return false;\n    return showVoiceSearch && (window.webkitSpeechRecognition || window.SpeechRecognition);\n  };\n\n  CategorySearch.prototype.render = function render() {\n    var _this3 = this;\n\n    var currentValue = this.state.currentValue;\n    var _props3 = this.props,\n        theme = _props3.theme,\n        themePreset = _props3.themePreset,\n        size = _props3.size,\n        recentSearchesIcon = _props3.recentSearchesIcon,\n        popularSearchesIcon = _props3.popularSearchesIcon;\n    var finalSuggestionsList = this.parsedSuggestions;\n    var hasSuggestions = currentValue ? finalSuggestionsList.length || this.topSuggestions.length : this.defaultSuggestions.length;\n    return (0, _core.jsx)(_Container2.default, {\n      style: this.props.style,\n      className: this.props.className\n    }, this.props.title && (0, _core.jsx)(_Title2.default, {\n      className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null\n    }, this.props.title), this.props.defaultSuggestions || this.props.autosuggest ? (0, _core.jsx)(_downshift2.default, _extends({\n      id: this.props.componentId + '-downshift',\n      onChange: this.onSuggestionSelected,\n      onStateChange: this.handleStateChange,\n      isOpen: this.state.isOpen,\n      itemToString: function itemToString(i) {\n        return i;\n      },\n      render: function render(_ref) {\n        var getRootProps = _ref.getRootProps,\n            getInputProps = _ref.getInputProps,\n            getItemProps = _ref.getItemProps,\n            isOpen = _ref.isOpen,\n            highlightedIndex = _ref.highlightedIndex,\n            setHighlightedIndex = _ref.setHighlightedIndex,\n            rest = _objectWithoutProperties(_ref, ['getRootProps', 'getInputProps', 'getItemProps', 'isOpen', 'highlightedIndex', 'setHighlightedIndex']);\n\n        var renderSuggestionsDropdown = function renderSuggestionsDropdown() {\n          return (0, _core.jsx)(_react2.default.Fragment, null, isOpen && _this3.renderLoader(), isOpen && _this3.renderError(), _this3.hasCustomRenderer && _this3.getComponent(_extends({\n            getInputProps: getInputProps,\n            getItemProps: getItemProps,\n            isOpen: isOpen,\n            highlightedIndex: highlightedIndex,\n            setHighlightedIndex: setHighlightedIndex\n          }, rest)), !_this3.hasCustomRenderer && isOpen && hasSuggestions ? (0, _core.jsx)('ul', {\n            css: (0, _Input.suggestions)(themePreset, theme),\n            className: (0, _helper.getClassName)(_this3.props.innerClass, 'list')\n          }, finalSuggestionsList.slice(0, size).map(function (item, index) {\n            return (0, _core.jsx)('li', _extends({}, getItemProps({\n              item: item\n            }), {\n              key: index + 1 + '-' + item.value // eslint-disable-line\n              ,\n              style: {\n                backgroundColor: _this3.getBackgroundColor(highlightedIndex, index)\n              }\n            }), (0, _core.jsx)(Text, {\n              primary: !!item.category\n            }, (0, _core.jsx)(_SuggestionItem2.default, {\n              currentValue: currentValue,\n              suggestion: item\n            })));\n          }), _this3.defaultSuggestions.map(function (sugg, index) {\n            return (0, _core.jsx)('li', _extends({}, getItemProps({\n              item: sugg\n            }), {\n              key: finalSuggestionsList.length + index + 1 + '-' + sugg.value,\n              style: {\n                backgroundColor: _this3.getBackgroundColor(highlightedIndex, finalSuggestionsList.length + index),\n                justifyContent: 'flex-start'\n              }\n            }), (0, _core.jsx)('div', {\n              style: {\n                padding: '0 10px 0 0'\n              }\n            }, sugg.source && sugg.source._recent_search && (0, _core.jsx)(_CustomSvg2.default, {\n              iconId: sugg.label + '-icon',\n              className: (0, _helper.getClassName)(_this3.props.innerClass, 'recent-search-icon') || null,\n              icon: recentSearchesIcon,\n              type: 'recent-search-icon'\n            }), sugg.source && sugg.source._popular_suggestion && (0, _core.jsx)(_CustomSvg2.default, {\n              iconId: sugg.label + '-icon',\n              className: (0, _helper.getClassName)(_this3.props.innerClass, 'popular-search-icon') || null,\n              icon: popularSearchesIcon,\n              type: 'popular-search-icon'\n            })), (0, _core.jsx)(_SuggestionItem2.default, {\n              currentValue: currentValue,\n              suggestion: sugg\n            }));\n          }), (0, _utils.hasPopularSuggestionsRenderer)(_this3.props) ? _this3.getComponent(_extends({\n            getInputProps: getInputProps,\n            getItemProps: getItemProps,\n            isOpen: isOpen,\n            highlightedIndex: highlightedIndex\n          }, rest), true) : _this3.topSuggestions.map(function (sugg, index) {\n            return (0, _core.jsx)('li', _extends({}, getItemProps({\n              item: sugg\n            }), {\n              key: finalSuggestionsList.length + index + 1 + '-' + sugg.value,\n              style: {\n                backgroundColor: _this3.getBackgroundColor(highlightedIndex, finalSuggestionsList.length + index),\n                justifyContent: 'flex-start'\n              }\n            }), (0, _core.jsx)('div', {\n              style: {\n                padding: '0 10px 0 0'\n              }\n            }, (0, _core.jsx)(_CustomSvg2.default, {\n              iconId: sugg.label + '-icon',\n              className: (0, _helper.getClassName)(_this3.props.innerClass, 'popular-search-icon') || null,\n              icon: popularSearchesIcon,\n              type: 'popular-search-icon'\n            })), (0, _core.jsx)(_SuggestionItem2.default, {\n              currentValue: currentValue,\n              suggestion: sugg\n            }));\n          })) : _this3.renderNoSuggestion(finalSuggestionsList));\n        };\n\n        return (0, _core.jsx)('div', getRootProps({\n          css: _Input.suggestionsContainer\n        }, {\n          suppressRefError: true\n        }), (0, _core.jsx)(_InputGroup2.default, null, _this3.renderInputAddonBefore(), (0, _core.jsx)(_InputWrapper2.default, null, (0, _core.jsx)(_Input2.default, _extends({\n          ref: function ref(c) {\n            _this3._inputRef = c;\n          },\n          'aria-label': _this3.props.componentId,\n          showClear: _this3.props.showClear,\n          id: _this3.props.componentId + '-input',\n          showIcon: _this3.props.showIcon,\n          iconPosition: _this3.props.iconPosition\n        }, getInputProps({\n          className: (0, _helper.getClassName)(_this3.props.innerClass, 'input'),\n          placeholder: _this3.props.placeholder,\n          value: _this3.state.currentValue === null ? '' : _this3.state.currentValue,\n          onChange: _this3.onInputChange,\n          onBlur: _this3.withTriggerQuery(_this3.props.onBlur),\n          onFocus: _this3.handleFocus,\n          onKeyPress: _this3.withTriggerQuery(_this3.props.onKeyPress),\n          onKeyDown: function onKeyDown(e) {\n            return _this3.handleKeyDown(e, highlightedIndex);\n          },\n          onKeyUp: _this3.withTriggerQuery(_this3.props.onKeyUp),\n          onClick: function onClick() {\n            // clear highlighted index\n            setHighlightedIndex(null);\n          },\n          autoFocus: _this3.props.autoFocus\n        }), {\n          themePreset: themePreset\n        })), _this3.renderIcons(), !_this3.props.expandSuggestionsContainer && renderSuggestionsDropdown.apply(undefined, [getRootProps, getInputProps, getItemProps, isOpen, highlightedIndex, setHighlightedIndex].concat(rest))), _this3.renderInputAddonAfter()), _this3.props.expandSuggestionsContainer && renderSuggestionsDropdown.apply(undefined, [getRootProps, getInputProps, getItemProps, isOpen, highlightedIndex, setHighlightedIndex].concat(rest)));\n      }\n    }, this.props.downShiftProps)) : (0, _core.jsx)('div', {\n      css: _Input.suggestionsContainer\n    }, (0, _core.jsx)(_InputGroup2.default, null, this.renderInputAddonBefore(), (0, _core.jsx)(_InputWrapper2.default, null, (0, _core.jsx)(_Input2.default, {\n      ref: function ref(c) {\n        _this3._inputRef = c;\n      },\n      'aria-label': this.props.componentId,\n      className: (0, _helper.getClassName)(this.props.innerClass, 'input'),\n      placeholder: this.props.placeholder,\n      value: this.state.currentValue ? this.state.currentValue : '',\n      onChange: this.onInputChange,\n      onBlur: this.withTriggerQuery(this.props.onBlur),\n      onFocus: this.withTriggerQuery(this.props.onFocus),\n      onKeyPress: this.withTriggerQuery(this.props.onKeyPress),\n      onKeyDown: this.withTriggerQuery(this.props.onKeyDown),\n      onKeyUp: this.withTriggerQuery(this.props.onKeyUp),\n      autoFocus: this.props.autoFocus,\n      iconPosition: this.props.iconPosition,\n      showClear: this.props.showClear,\n      showIcon: this.props.showIcon,\n      themePreset: themePreset\n    }), this.renderIcons()), this.renderInputAddonAfter())));\n  };\n\n  _createClass(CategorySearch, [{\n    key: 'stats',\n    get: function get() {\n      return (0, _helper.getResultStats)(this.props);\n    }\n  }, {\n    key: 'hasCustomRenderer',\n    get: function get() {\n      return (0, _helper.hasCustomRenderer)(this.props);\n    }\n  }, {\n    key: 'filteredCategories',\n    get: function get() {\n      var categories = this.props.categories;\n      return categories.filter(function (category) {\n        return Boolean(category.key);\n      });\n    }\n  }, {\n    key: 'parsedSuggestions',\n    get: function get() {\n      var finalSuggestionsList = [];\n      var suggestionsList = []; // filter out empty categories\n\n      var filteredCategories = this.filteredCategories;\n\n      if (this.state.currentValue) {\n        suggestionsList = this.state.suggestions;\n      }\n\n      if (this.state.currentValue && this.state.suggestions.length && filteredCategories.length) {\n        var categorySuggestions = [{\n          label: this.state.currentValue + ' in all categories',\n          value: this.state.currentValue,\n          category: '*',\n          // no source object exists for category based suggestions\n          source: null\n        }, {\n          label: this.state.currentValue + ' in ' + filteredCategories[0].key,\n          value: this.state.currentValue,\n          category: filteredCategories[0].key,\n          source: null\n        }];\n\n        if (filteredCategories.length > 1) {\n          categorySuggestions = [].concat(categorySuggestions, [{\n            label: this.state.currentValue + ' in ' + filteredCategories[1].key,\n            value: this.state.currentValue,\n            category: filteredCategories[1].key,\n            source: null\n          }]);\n        }\n\n        finalSuggestionsList = [].concat(categorySuggestions, suggestionsList);\n      }\n\n      return (0, _helper.withClickIds)(finalSuggestionsList);\n    }\n  }, {\n    key: 'topSuggestions',\n    get: function get() {\n      var _props4 = this.props,\n          enableQuerySuggestions = _props4.enableQuerySuggestions,\n          enablePopularSuggestions = _props4.enablePopularSuggestions;\n      var currentValue = this.state.currentValue;\n\n      if (!currentValue) {\n        return [];\n      }\n\n      return enableQuerySuggestions || enablePopularSuggestions ? this.normalizedPopularSuggestions : [];\n    }\n  }, {\n    key: 'normalizedRecentSearches',\n    get: function get() {\n      var recentSearches = this.props.recentSearches;\n      return recentSearches;\n    }\n  }, {\n    key: 'normalizedPopularSuggestions',\n    get: function get() {\n      var _props5 = this.props,\n          popularSuggestions = _props5.popularSuggestions,\n          showDistinctSuggestions = _props5.showDistinctSuggestions,\n          defaultPopularSuggestions = _props5.defaultPopularSuggestions;\n      var currentValue = this.state.currentValue;\n      return (0, _helper.getTopSuggestions)( // use default popular suggestions if value is empty\n      currentValue ? popularSuggestions : defaultPopularSuggestions, currentValue, showDistinctSuggestions);\n    }\n  }, {\n    key: 'defaultSuggestions',\n    get: function get() {\n      var _props6 = this.props,\n          enableQuerySuggestions = _props6.enableQuerySuggestions,\n          enablePopularSuggestions = _props6.enablePopularSuggestions,\n          showDistinctSuggestions = _props6.showDistinctSuggestions,\n          defaultPopularSuggestions = _props6.defaultPopularSuggestions,\n          defaultSuggestions = _props6.defaultSuggestions;\n      var isPopularSuggestionsEnabled = enableQuerySuggestions || enablePopularSuggestions;\n      var currentValue = this.state.currentValue;\n\n      if (currentValue) {\n        return [];\n      }\n\n      var customDefaultPopularSuggestions = defaultPopularSuggestions.map(function (suggestion) {\n        return _extends({}, suggestion, {\n          _popular_suggestion: true\n        });\n      });\n      var customNormalizedRecentSearches = this.normalizedRecentSearches.map(function (search) {\n        return _extends({}, search, {\n          _recent_search: true\n        });\n      });\n      var defaultSuggestionsProcessed = isPopularSuggestionsEnabled ? [].concat(customNormalizedRecentSearches, customDefaultPopularSuggestions) : customNormalizedRecentSearches;\n      var suggestionsList = (0, _helper.getTopSuggestions)(defaultSuggestionsProcessed, currentValue, showDistinctSuggestions);\n\n      if (defaultSuggestions && Array.isArray(defaultSuggestions)) {\n        suggestionsList.unshift.apply(suggestionsList, (0, _helper.withClickIds)(defaultSuggestions));\n      }\n\n      return suggestionsList;\n    }\n  }]);\n\n  return CategorySearch;\n}(_react.Component);\n\nCategorySearch.highlightQuery = function (props) {\n  if (props.customHighlight) {\n    return props.customHighlight(props);\n  }\n\n  if (!props.highlight) {\n    return null;\n  }\n\n  var fields = {};\n  var normalizedDataField = (0, _helper.normalizeDataField)(props.dataField).map(function (dataField) {\n    return dataField.field;\n  });\n  var highlightField = props.highlightField ? props.highlightField : normalizedDataField;\n\n  if (typeof highlightField === 'string') {\n    fields[highlightField] = {};\n  } else if (Array.isArray(highlightField)) {\n    highlightField.forEach(function (item) {\n      fields[item] = {};\n    });\n  }\n\n  return {\n    highlight: _extends({\n      pre_tags: ['<mark>'],\n      post_tags: ['</mark>'],\n      fields: fields\n    }, props.highlightField && {\n      require_field_match: false\n    })\n  };\n};\n\nCategorySearch.defaultQuery = function (value, props, category) {\n  var finalQuery = null;\n\n  if (value) {\n    var fields = (0, _helper.normalizeDataField)(props.dataField, props.fieldWeights);\n\n    if (props.queryString) {\n      finalQuery = {\n        query_string: CategorySearch.shouldQuery(value, fields, props)\n      };\n    } else if (props.searchOperators) {\n      finalQuery = {\n        simple_query_string: CategorySearch.shouldQuery(value, fields, props)\n      };\n    } else {\n      finalQuery = {\n        bool: {\n          should: CategorySearch.shouldQuery(value, fields, props),\n          minimum_should_match: '1'\n        }\n      };\n    }\n\n    if (category && category !== '*') {\n      var _term;\n\n      finalQuery = [finalQuery, {\n        term: (_term = {}, _term[props.categoryField] = category, _term)\n      }];\n    }\n  }\n\n  if (value === '') {\n    finalQuery = null;\n  }\n\n  if (finalQuery && props.nestedField) {\n    finalQuery = {\n      nested: {\n        path: props.nestedField,\n        query: finalQuery\n      }\n    };\n  }\n\n  return finalQuery;\n};\n\nCategorySearch.shouldQuery = function (value) {\n  var dataFields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var props = arguments[2];\n  var finalQuery = [];\n  var phrasePrefixFields = [];\n  var fields = dataFields.map(function (dataField) {\n    var queryField = '' + dataField.field + (dataField.weight ? '^' + dataField.weight : '');\n\n    if (!(dataField.field.endsWith('.keyword') || dataField.field.endsWith('.autosuggest') || dataField.field.endsWith('.search'))) {\n      phrasePrefixFields.push(queryField);\n    }\n\n    return queryField;\n  });\n\n  if (props.searchOperators || props.queryString) {\n    return {\n      query: value,\n      fields: fields,\n      default_operator: props.queryFormat\n    };\n  }\n\n  if (props.queryFormat === 'and') {\n    finalQuery.push({\n      multi_match: {\n        query: value,\n        fields: fields,\n        type: 'cross_fields',\n        operator: 'and'\n      }\n    });\n    finalQuery.push({\n      multi_match: {\n        query: value,\n        fields: fields,\n        type: 'phrase',\n        operator: 'and'\n      }\n    });\n\n    if (phrasePrefixFields.length > 0) {\n      finalQuery.push({\n        multi_match: {\n          query: value,\n          fields: phrasePrefixFields,\n          type: 'phrase_prefix',\n          operator: 'and'\n        }\n      });\n    }\n\n    return finalQuery;\n  }\n\n  finalQuery.push({\n    multi_match: {\n      query: value,\n      fields: fields,\n      type: 'best_fields',\n      operator: 'or',\n      fuzziness: props.fuzziness ? props.fuzziness : 0\n    }\n  });\n  finalQuery.push({\n    multi_match: {\n      query: value,\n      fields: fields,\n      type: 'phrase',\n      operator: 'or'\n    }\n  });\n\n  if (phrasePrefixFields.length > 0) {\n    finalQuery.push({\n      multi_match: {\n        query: value,\n        fields: phrasePrefixFields,\n        type: 'phrase_prefix',\n        operator: 'or'\n      }\n    });\n  }\n\n  return finalQuery;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.getAggsQuery = function (field) {\n    var _aggs;\n\n    return {\n      aggs: (_aggs = {}, _aggs[field] = {\n        terms: {\n          field: field\n        }\n      }, _aggs)\n    };\n  };\n\n  this.getCombinedAggsQuery = function () {\n    var _props7 = _this4.props,\n        categoryField = _props7.categoryField,\n        aggregationField = _props7.aggregationField;\n\n    var aggsQuery = _this4.getAggsQuery(categoryField);\n\n    if (aggregationField) {\n      var compositeAggsQuery = (0, _helper.getCompositeAggsQuery)({\n        value: null,\n        props: _this4.props,\n        showTopHits: true\n      });\n      aggsQuery.aggs = _extends({}, aggsQuery.aggs, compositeAggsQuery.aggs);\n    }\n\n    return aggsQuery;\n  };\n\n  this.onSuggestions = function (searchResults) {\n    return (0, _helper.handleOnSuggestions)(searchResults, _this4.state.currentValue, _this4.props);\n  };\n\n  this.setValue = function (value) {\n    var isDefaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this4.props;\n    var category = arguments[3];\n    var cause = arguments[4];\n    var hasMounted = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n    var toggleIsOpen = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : true;\n\n    var performUpdate = function performUpdate() {\n      if (hasMounted) {\n        var _props8 = _this4.props,\n            enableRecentSearches = _props8.enableRecentSearches,\n            fetchRecentSearches = _props8.fetchRecentSearches; // Refresh recent searches when value becomes empty\n\n        if (!value && _this4.state.currentValue && enableRecentSearches) {\n          fetchRecentSearches();\n        }\n\n        _this4.setState({\n          currentValue: value || '',\n          currentCategory: category || null\n        }, function () {\n          if (isDefaultValue) {\n            if (_this4.props.autosuggest) {\n              if (toggleIsOpen) {\n                _this4.setState({\n                  isOpen: false\n                });\n              }\n\n              _this4.updateDefaultQuery(value, props);\n            } // in case of strict selection only SUGGESTION_SELECT should be able\n            // to set the query otherwise the value should reset\n\n\n            if (props.strictSelection) {\n              if (cause === _causes2.default.SUGGESTION_SELECT || value === '') {\n                _this4.updateQuery(value, props, category);\n              } else {\n                _this4.setValue('', true);\n              }\n            } else {\n              _this4.updateQuery(value, props, category);\n            }\n          } else {\n            // debounce for handling text while typing\n            _this4.handleTextChange(value);\n          }\n\n          if (props.onValueChange) props.onValueChange(value);\n        });\n      } else {\n        _this4.updateDefaultQuery(value, props);\n\n        _this4.updateQuery(value, props, category);\n\n        if (props.onValueChange) props.onValueChange(value);\n      }\n    };\n\n    (0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n  };\n\n  this.handleTextChange = (0, _helper.debounce)(function (value) {\n    if (_this4.props.autosuggest) {\n      _this4.updateDefaultQuery(value, _this4.props);\n    } else {\n      _this4.updateQuery(value, _this4.props);\n    }\n  }, this.props.debounce);\n\n  this.updateDefaultQuery = function (value, props) {\n    var category = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this4.state.currentCategory;\n    var defaultQuery = props.defaultQuery;\n    var defaultQueryOptions = void 0;\n    var query = CategorySearch.defaultQuery(value, props, category);\n\n    if (defaultQuery) {\n      var defaultQueryTobeSet = defaultQuery(value, props, category) || {};\n\n      if (defaultQueryTobeSet.query) {\n        query = defaultQueryTobeSet.query;\n      }\n\n      defaultQueryOptions = (0, _helper.getOptionsFromQuery)(defaultQueryTobeSet); // Update calculated default query in store\n\n      (0, _helper.updateDefaultQuery)(props.componentId, props, value);\n    }\n\n    props.setSuggestionsSearchValue(value);\n\n    var aggsQuery = _this4.getCombinedAggsQuery();\n\n    props.setQueryOptions(_this4.internalComponent, _extends({}, _this4.queryOptions, aggsQuery, defaultQueryOptions));\n    props.updateQuery({\n      componentId: _this4.internalComponent,\n      query: query,\n      value: value,\n      category: category,\n      componentType: _constants.componentTypes.categorySearch\n    });\n  };\n\n  this.updateQuery = function (value, props) {\n    var category = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this4.state.currentCategory;\n    var customQuery = props.customQuery,\n        filterLabel = props.filterLabel,\n        showFilter = props.showFilter,\n        URLParams = props.URLParams;\n    var customQueryOptions = void 0;\n    var query = CategorySearch.defaultQuery(value, props, category);\n\n    if (customQuery) {\n      var customQueryTobeSet = customQuery(value, props, category) || {};\n\n      if (customQueryTobeSet.query) {\n        query = customQueryTobeSet.query;\n      }\n\n      customQueryOptions = (0, _helper.getOptionsFromQuery)(customQueryTobeSet);\n      (0, _helper.updateCustomQuery)(props.componentId, props, value);\n    }\n\n    if (!_this4.isPending) {\n      // execute the query on an uncontrolled component\n      // query options should be applied to the source component,\n      // not on internal component, hence using `this.props.componentId` here\n      props.setQueryOptions(props.componentId, _extends({}, _this4.queryOptions, customQueryOptions), false);\n      props.updateQuery({\n        componentId: props.componentId,\n        query: query,\n        value: value,\n        label: filterLabel,\n        showFilter: showFilter,\n        URLParams: URLParams,\n        componentType: _constants.componentTypes.categorySearch,\n        category: category\n      });\n    }\n  };\n\n  this.handleFocus = function (event) {\n    _this4.setState({\n      isOpen: true\n    });\n\n    if (_this4.props.onFocus) {\n      _this4.props.onFocus(event, _this4.triggerQuery);\n    }\n  };\n\n  this.clearValue = function () {\n    _this4.isPending = false;\n\n    _this4.setValue('', true);\n\n    _this4.onValueSelected('', _causes2.default.CLEAR_VALUE, null);\n  };\n\n  this.handleKeyDown = function (event, highlightedIndex) {\n    var _props9 = _this4.props,\n        value = _props9.value,\n        onChange = _props9.onChange;\n\n    if (value !== undefined && onChange) {\n      _this4.isPending = true;\n    } // if a suggestion was selected, delegate the handling to suggestion handler\n\n\n    if (event.key === 'Enter' && highlightedIndex === null) {\n      _this4.setValue(event.target.value, true);\n\n      var currentValue = {\n        term: event.target.value,\n        category: null\n      };\n\n      _this4.onValueSelected(currentValue, _causes2.default.ENTER_PRESS);\n    }\n\n    if (_this4.props.onKeyDown) {\n      _this4.props.onKeyDown(event, _this4.triggerQuery);\n    }\n  };\n\n  this.onInputChange = function (e) {\n    var inputValue = e.target.value;\n\n    if (!_this4.state.isOpen) {\n      _this4.setState({\n        isOpen: true\n      });\n    }\n\n    var _props10 = _this4.props,\n        value = _props10.value,\n        onChange = _props10.onChange;\n\n    if (value === undefined) {\n      _this4.setValue(inputValue);\n    } else if (onChange) {\n      _this4.isPending = true;\n      var currentValue = {\n        term: inputValue // category: null,\n\n      }; // handle caret position in controlled components\n\n      (0, _utils.handleCaretPosition)(e);\n      onChange(currentValue, function () {\n        return _this4.triggerQuery(currentValue);\n      }, e);\n    } else {\n      _this4.setValue(inputValue);\n    }\n  };\n\n  this.triggerQuery = function (value) {\n    var currentValue = value.term,\n        _value$category2 = value.category,\n        currentCategory = _value$category2 === undefined ? null : _value$category2,\n        _value$isOpen = value.isOpen,\n        isOpen = _value$isOpen === undefined ? false : _value$isOpen;\n    _this4.isPending = false;\n\n    _this4.setValue(currentValue, !isOpen, _this4.props, currentCategory);\n  };\n\n  this.onSuggestionSelected = function (suggestion) {\n    var _props11 = _this4.props,\n        value = _props11.value,\n        onChange = _props11.onChange;\n    var currentValue = {\n      term: suggestion.value,\n      category: suggestion.category || null\n    };\n\n    _this4.setState({\n      isOpen: false\n    });\n\n    if (value === undefined) {\n      _this4.setValue(currentValue.term, true, _this4.props, currentValue.category, _causes2.default.SUGGESTION_SELECT);\n    } else if (onChange) {\n      _this4.isPending = false;\n      onChange(currentValue, function () {\n        return _this4.triggerQuery(currentValue);\n      });\n    } // Record analytics for selected suggestions\n\n\n    _this4.triggerClickAnalytics(suggestion._click_id); // onValueSelected is user interaction driven:\n    // it should be triggered irrespective of controlled (or)\n    // uncontrolled component behavior\n\n\n    _this4.onValueSelected(currentValue, _causes2.default.SUGGESTION_SELECT, suggestion.source);\n  };\n\n  this.onValueSelected = function (selectedValue, cause, source) {\n    var onValueSelected = _this4.props.onValueSelected;\n\n    if (onValueSelected) {\n      onValueSelected(selectedValue, cause, source);\n    }\n  };\n\n  this.handleStateChange = function (changes) {\n    var isOpen = changes.isOpen,\n        type = changes.type;\n\n    if (type === _downshift2.default.stateChangeTypes.mouseUp && isOpen !== undefined) {\n      _this4.setState({\n        isOpen: isOpen\n      });\n    }\n  };\n\n  this.getBackgroundColor = function (highlightedIndex, index) {\n    var isDark = _this4.props.themePreset === 'dark';\n\n    if (isDark) {\n      return highlightedIndex === index ? '#555' : '#424242';\n    }\n\n    return highlightedIndex === index ? '#eee' : '#fff';\n  };\n\n  this.handleSearchIconClick = function () {\n    var currentValue = _this4.state.currentValue;\n\n    if (currentValue.trim()) {\n      _this4.isPending = false;\n\n      _this4.setValue(currentValue, true);\n\n      _this4.onValueSelected(currentValue, _causes2.default.SEARCH_ICON_CLICK);\n    }\n  };\n\n  this.handleVoiceResults = function (_ref2) {\n    var results = _ref2.results;\n\n    if (results && results[0] && results[0].isFinal && results[0][0] && results[0][0].transcript && results[0][0].transcript.trim()) {\n      _this4.isPending = false;\n\n      _this4.setValue(results[0][0].transcript.trim(), true);\n    }\n  };\n\n  this.renderInputAddonBefore = function () {\n    var addonBefore = _this4.props.addonBefore;\n\n    if (addonBefore) {\n      return (0, _core.jsx)(_InputAddon2.default, null, addonBefore);\n    }\n\n    return null;\n  };\n\n  this.renderInputAddonAfter = function () {\n    var addonAfter = _this4.props.addonAfter;\n\n    if (addonAfter) {\n      return (0, _core.jsx)(_InputAddon2.default, null, addonAfter);\n    }\n\n    return null;\n  };\n\n  this.renderIcon = function () {\n    if (_this4.props.showIcon) {\n      return _this4.props.icon || (0, _core.jsx)(_SearchSvg2.default, null);\n    }\n\n    return null;\n  };\n\n  this.renderCancelIcon = function () {\n    if (_this4.props.showClear) {\n      return _this4.props.clearIcon || (0, _core.jsx)(_CancelSvg2.default, null);\n    }\n\n    return null;\n  };\n\n  this.renderIcons = function () {\n    var _props12 = _this4.props,\n        showIcon = _props12.showIcon,\n        showClear = _props12.showClear,\n        renderMic = _props12.renderMic,\n        getMicInstance = _props12.getMicInstance,\n        showVoiceSearch = _props12.showVoiceSearch,\n        iconPosition = _props12.iconPosition,\n        innerClass = _props12.innerClass;\n    return (0, _core.jsx)('div', null, (0, _core.jsx)(_IconGroup2.default, {\n      groupPosition: 'right',\n      positionType: 'absolute'\n    }, _this4.state.currentValue && showClear && (0, _core.jsx)(_IconWrapper2.default, {\n      onClick: _this4.clearValue,\n      showIcon: showIcon,\n      isClearIcon: true\n    }, _this4.renderCancelIcon()), _this4.shouldMicRender(showVoiceSearch) && (0, _core.jsx)(_Mic2.default, {\n      getInstance: getMicInstance,\n      render: renderMic,\n      onResult: _this4.handleVoiceResults,\n      className: (0, _helper.getClassName)(innerClass, 'mic') || null\n    }), iconPosition === 'right' && (0, _core.jsx)(_IconWrapper2.default, {\n      onClick: _this4.handleSearchIconClick\n    }, _this4.renderIcon())), (0, _core.jsx)(_IconGroup2.default, {\n      groupPosition: 'left',\n      positionType: 'absolute'\n    }, iconPosition === 'left' && (0, _core.jsx)(_IconWrapper2.default, {\n      onClick: _this4.handleSearchIconClick\n    }, _this4.renderIcon())));\n  };\n\n  this.renderNoSuggestion = function () {\n    var finalSuggestionsList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var _props13 = _this4.props,\n        themePreset = _props13.themePreset,\n        theme = _props13.theme,\n        isLoading = _props13.isLoading,\n        renderNoSuggestion = _props13.renderNoSuggestion,\n        innerClass = _props13.innerClass,\n        renderError = _props13.renderError,\n        error = _props13.error;\n    var _state = _this4.state,\n        isOpen = _state.isOpen,\n        currentValue = _state.currentValue;\n\n    if (renderNoSuggestion && isOpen && !finalSuggestionsList.length && !isLoading && currentValue && !(renderError && error)) {\n      return (0, _core.jsx)(_SuggestionWrapper2.default, {\n        innerClass: innerClass,\n        themePreset: themePreset,\n        theme: theme,\n        innerClassName: 'noSuggestion'\n      }, typeof renderNoSuggestion === 'function' ? renderNoSuggestion(currentValue) : renderNoSuggestion);\n    }\n\n    return null;\n  };\n\n  this.renderLoader = function () {\n    var _props14 = _this4.props,\n        loader = _props14.loader,\n        isLoading = _props14.isLoading,\n        themePreset = _props14.themePreset,\n        theme = _props14.theme,\n        innerClass = _props14.innerClass;\n    var currentValue = _this4.state.currentValue;\n\n    if (isLoading && loader && currentValue) {\n      return (0, _core.jsx)(_SuggestionWrapper2.default, {\n        innerClass: innerClass,\n        innerClassName: 'loader',\n        theme: theme,\n        themePreset: themePreset\n      }, loader);\n    }\n\n    return null;\n  };\n\n  this.renderError = function () {\n    var _props15 = _this4.props,\n        error = _props15.error,\n        renderError = _props15.renderError,\n        themePreset = _props15.themePreset,\n        theme = _props15.theme,\n        isLoading = _props15.isLoading,\n        innerClass = _props15.innerClass;\n    var currentValue = _this4.state.currentValue;\n\n    if (error && renderError && currentValue && !isLoading) {\n      return (0, _core.jsx)(_SuggestionWrapper2.default, {\n        innerClass: innerClass,\n        innerClassName: 'error',\n        theme: theme,\n        themePreset: themePreset\n      }, (0, _helper.isFunction)(renderError) ? renderError(error) : renderError);\n    }\n\n    return null;\n  };\n\n  this.getComponent = function () {\n    var downshiftProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var isQuerySuggestionsRender = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var _props16 = _this4.props,\n        error = _props16.error,\n        isLoading = _props16.isLoading,\n        aggregationData = _props16.aggregationData,\n        promotedResults = _props16.promotedResults,\n        customData = _props16.customData,\n        rawData = _props16.rawData;\n    var currentValue = _this4.state.currentValue;\n    var data = {\n      error: error,\n      loading: isLoading,\n      downshiftProps: downshiftProps,\n      data: _this4.parsedSuggestions,\n      promotedData: promotedResults || [],\n      customData: customData || {},\n      rawData: rawData,\n      aggregationData: aggregationData || [],\n      value: currentValue,\n      suggestions: _this4.state.suggestions,\n      rawSuggestions: _this4.props.suggestions || [],\n      categories: _this4.filteredCategories,\n      rawCategories: _this4.props.categories,\n      triggerClickAnalytics: _this4.triggerClickAnalytics,\n      resultStats: _this4.stats,\n      // TODO: Remove in v4\n      querySuggestions: _this4.normalizedPopularSuggestions,\n      popularSuggestions: _this4.normalizedPopularSuggestions,\n      recentSearches: _this4.normalizedRecentSearches\n    };\n\n    if (isQuerySuggestionsRender) {\n      return (0, _utils.getPopularSuggestionsComponent)({\n        downshiftProps: downshiftProps,\n        data: _this4.normalizedPopularSuggestions,\n        value: currentValue,\n        loading: isLoading,\n        error: error\n      }, _this4.props);\n    }\n\n    return (0, _helper.getComponent)(data, _this4.props);\n  };\n\n  this.triggerClickAnalytics = function (searchPosition, documentId) {\n    var docId = documentId;\n\n    if (!docId) {\n      var hitData = _this4.parsedSuggestions.find(function (hit) {\n        return hit._click_id === searchPosition;\n      });\n\n      if (hitData && hitData.source && hitData.source._id) {\n        docId = hitData.source._id;\n      }\n    }\n\n    _this4.props.triggerAnalytics(searchPosition, docId);\n  };\n\n  this.withTriggerQuery = function (func) {\n    if (func) {\n      return function (e) {\n        return func(e, function () {\n          return _this4.triggerQuery(_this4.props.value);\n        });\n      };\n    }\n\n    return undefined;\n  };\n\n  this.focusSearchBox = function (event) {\n    var elt = event.target || event.srcElement;\n    var tagName = elt.tagName;\n\n    if (elt.isContentEditable || tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA') {\n      // already in an input\n      return;\n    }\n\n    if (_this4._inputRef) {\n      _this4._inputRef.focus();\n    }\n  };\n\n  this.listenForFocusShortcuts = function () {\n    var focusShortcuts = _this4.props.focusShortcuts;\n\n    if ((0, _utils.isEmpty)(focusShortcuts)) {\n      return;\n    } // for single press keys (a-z, A-Z) &, hotkeys' combinations such as 'cmd+k', 'ctrl+shft+a', etc\n\n\n    (0, _hotkeysJs2.default)((0, _utils.parseFocusShortcuts)(focusShortcuts).join(','),\n    /* eslint-disable no-shadow */\n    // eslint-disable-next-line no-unused-vars\n    function (event, handler) {\n      // Prevent the default refresh event under WINDOWS system\n      event.preventDefault();\n\n      _this4.focusSearchBox(event);\n    }); // if one of modifier keys are used, they are handled below\n\n    (0, _hotkeysJs2.default)('*', function (event) {\n      var modifierKeys = (0, _utils.extractModifierKeysFromFocusShortcuts)(focusShortcuts);\n      if (modifierKeys.length === 0) return;\n\n      for (var index = 0; index < modifierKeys.length; index += 1) {\n        var element = modifierKeys[index];\n\n        if (_hotkeysJs2.default[element]) {\n          _this4.focusSearchBox(event);\n\n          break;\n        }\n      }\n    });\n  };\n};\n\nCategorySearch.propTypes = {\n  setQueryOptions: _types2.default.funcRequired,\n  updateQuery: _types2.default.funcRequired,\n  setSuggestionsSearchValue: _types2.default.funcRequired,\n  fetchPopularSuggestions: _types2.default.funcRequired,\n  defaultPopularSuggestions: _types2.default.suggestions,\n  options: _types2.default.options,\n  categories: _types2.default.data,\n  rawData: _types2.default.rawData,\n  promotedResults: _types2.default.hits,\n  customData: _types2.default.title,\n  selectedValue: _types2.default.selectedValue,\n  selectedCategory: _types2.default.selectedValue,\n  suggestions: _types2.default.suggestions,\n  aggregationData: _types2.default.aggregationData,\n  isLoading: _types2.default.bool,\n  enableAppbase: _types2.default.bool,\n  triggerAnalytics: _types2.default.funcRequired,\n  setCustomQuery: _types2.default.funcRequired,\n  setDefaultQuery: _types2.default.funcRequired,\n  time: _types2.default.number,\n  setCustomHighlightOptions: _types2.default.funcRequired,\n  fetchRecentSearches: _types2.default.funcRequired,\n  recentSearches: _types2.default.suggestions,\n  // eslint-disable-next-line\n  error: _types2.default.any,\n  // component props\n  autoFocus: _types2.default.bool,\n  autosuggest: _types2.default.bool,\n  enableSynonyms: _types2.default.bool,\n  enableQuerySuggestions: _types2.default.bool,\n  distinctField: _types2.default.string,\n  distinctFieldConfig: _types2.default.componentObject,\n  index: _types2.default.string,\n  // TODO: Remove in v4\n  enablePopularSuggestions: _types2.default.bool,\n  enableRecentSearches: _types2.default.bool,\n  queryString: _types2.default.bool,\n  beforeValueChange: _types2.default.func,\n  categoryField: _types2.default.string,\n  className: _types2.default.string,\n  clearIcon: _types2.default.children,\n  componentId: _types2.default.stringRequired,\n  customHighlight: _types2.default.func,\n  customQuery: _types2.default.func,\n  defaultQuery: _types2.default.func,\n  dataField: _types2.default.dataFieldValidator,\n  aggregationField: _types2.default.string,\n  aggregationSize: _types2.default.number,\n  size: _types2.default.number,\n  debounce: _types2.default.number,\n  defaultValue: _types2.default.categorySearchValue,\n  value: _types2.default.categorySearchValue,\n  defaultSuggestions: _types2.default.suggestions,\n  downShiftProps: _types2.default.props,\n  excludeFields: _types2.default.excludeFields,\n  fieldWeights: _types2.default.fieldWeights,\n  filterLabel: _types2.default.string,\n  fuzziness: _types2.default.fuzziness,\n  highlight: _types2.default.bool,\n  highlightField: _types2.default.stringOrArray,\n  icon: _types2.default.children,\n  iconPosition: _types2.default.iconPosition,\n  includeFields: _types2.default.includeFields,\n  innerClass: _types2.default.style,\n  loader: _types2.default.title,\n  nestedField: _types2.default.string,\n  onError: _types2.default.func,\n  onBlur: _types2.default.func,\n  onFocus: _types2.default.func,\n  onKeyDown: _types2.default.func,\n  onKeyPress: _types2.default.func,\n  onKeyUp: _types2.default.func,\n  onQueryChange: _types2.default.func,\n  onSuggestions: _types2.default.func,\n  onValueChange: _types2.default.func,\n  onChange: _types2.default.func,\n  onValueSelected: _types2.default.func,\n  placeholder: _types2.default.string,\n  queryFormat: _types2.default.queryFormatSearch,\n  popularSuggestions: _types2.default.hits,\n  react: _types2.default.react,\n  renderError: _types2.default.title,\n  highlightConfig: _types2.default.componentObject,\n  // TODO: Remove in v4\n  renderQuerySuggestions: _types2.default.func,\n  renderPopularSuggestions: _types2.default.func,\n  parseSuggestion: _types2.default.func,\n  renderNoSuggestion: _types2.default.title,\n  showClear: _types2.default.bool,\n  showFilter: _types2.default.bool,\n  showVoiceSearch: _types2.default.bool,\n  showDistinctSuggestions: _types2.default.bool,\n  showIcon: _types2.default.bool,\n  style: _types2.default.style,\n  title: _types2.default.title,\n  theme: _types2.default.style,\n  themePreset: _types2.default.themePreset,\n  URLParams: _types2.default.bool,\n  strictSelection: _types2.default.bool,\n  searchOperators: _types2.default.bool,\n  recentSearchesIcon: _types2.default.componentObject,\n  popularSearchesIcon: _types2.default.componentObject,\n  // Mic props\n  getMicInstance: _types2.default.func,\n  renderMic: _types2.default.func,\n  enablePredictiveSuggestions: _types2.default.bool,\n  //\n  focusShortcuts: _types2.default.focusShortcuts,\n  addonBefore: _types2.default.children,\n  addonAfter: _types2.default.children,\n  expandSuggestionsContainer: _types2.default.bool,\n  endpoint: _types2.default.endpoint\n};\nCategorySearch.defaultProps = {\n  autosuggest: true,\n  className: null,\n  debounce: 0,\n  downShiftProps: {},\n  enableSynonyms: true,\n  enablePopularSuggestions: false,\n  excludeFields: [],\n  iconPosition: 'left',\n  includeFields: ['*'],\n  placeholder: 'Search',\n  queryFormat: 'or',\n  showClear: false,\n  showFilter: true,\n  showIcon: true,\n  style: {},\n  URLParams: false,\n  strictSelection: false,\n  searchOperators: false,\n  showVoiceSearch: false,\n  showDistinctSuggestions: true,\n  size: 10,\n  defaultPopularSuggestions: [],\n  recentSearches: [],\n  time: 0,\n  enablePredictiveSuggestions: false,\n  autoFocus: false,\n  focusShortcuts: ['/'],\n  addonBefore: undefined,\n  addonAfter: undefined,\n  expandSuggestionsContainer: true\n}; // Add componentType for SSR\n\nCategorySearch.componentType = _constants.componentTypes.categorySearch;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    categories: state.aggregations[props.componentId] && state.aggregations[props.componentId][props.categoryField] && state.aggregations[props.componentId][props.categoryField].buckets || [],\n    rawData: state.rawData[props.componentId],\n    selectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n    selectedCategory: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].category || null,\n    suggestions: state.hits[props.componentId] && state.hits[props.componentId].hits || [],\n    aggregationData: state.compositeAggregations[props.componentId] || [],\n    themePreset: state.config.themePreset,\n    isLoading: !!state.isLoading[props.componentId + '_active'],\n    error: state.error[props.componentId],\n    enableAppbase: state.config.enableAppbase,\n    promotedResults: state.promotedResults[props.componentId],\n    customData: state.customData[props.componentId],\n    time: state.hits[props.componentId] && state.hits[props.componentId].time,\n    total: state.hits[props.componentId] && state.hits[props.componentId].total,\n    hidden: state.hits[props.componentId] && state.hits[props.componentId].hidden,\n    defaultPopularSuggestions: state.defaultPopularSuggestions[props.componentId],\n    popularSuggestions: state.querySuggestions[props.componentId],\n    recentSearches: state.recentSearches.data\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    setCustomHighlightOptions: function setCustomHighlightOptions(component, options) {\n      return dispatch((0, _actions.setCustomHighlightOptions)(component, options));\n    },\n    setCustomQuery: function setCustomQuery(component, query) {\n      return dispatch((0, _actions.setCustomQuery)(component, query));\n    },\n    setDefaultQuery: function setDefaultQuery(component, query) {\n      return dispatch((0, _actions.setDefaultQuery)(component, query));\n    },\n    setSuggestionsSearchValue: function setSuggestionsSearchValue(value) {\n      return dispatch((0, _actions.setSuggestionsSearchValue)(value));\n    },\n    setQueryOptions: function setQueryOptions() {\n      return dispatch(_actions.setQueryOptions.apply(undefined, arguments));\n    },\n    updateQuery: function updateQuery(updateQueryObject) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject));\n    },\n    triggerAnalytics: function triggerAnalytics(searchPosition, documentId) {\n      return dispatch((0, _actions.recordSuggestionClick)(searchPosition, documentId));\n    },\n    fetchPopularSuggestions: function fetchPopularSuggestions(component) {\n      return dispatch((0, _actions.loadPopularSuggestions)(component));\n    },\n    fetchRecentSearches: function fetchRecentSearches(queryOptions) {\n      return dispatch((0, _actions.getRecentSearches)(queryOptions));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)((0, _emotionTheming.withTheme)(function (props) {\n  return (0, _core.jsx)(CategorySearch, _extends({\n    ref: props.myForwardedRef\n  }, props));\n})); // eslint-disable-next-line\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n  return (0, _core.jsx)(_PreferencesConsumer2.default, {\n    userProps: props\n  }, function (preferenceProps) {\n    return (0, _core.jsx)(_ComponentWrapper2.default, _extends({}, preferenceProps, {\n      internalComponent: true,\n      componentType: _constants.componentTypes.categorySearch\n    }), function (componentProps) {\n      return (0, _core.jsx)(ConnectedComponent, _extends({}, preferenceProps, componentProps, {\n        myForwardedRef: ref\n      }));\n    });\n  });\n});\n\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, CategorySearch);\nForwardRefComponent.displayName = 'CategorySearch';\nexports.default = ForwardRefComponent;","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_core","require","_react","_react2","_interopRequireDefault","_downshift","_downshift2","_emotionTheming","_hoistNonReactStatics","_hoistNonReactStatics2","_actions","_helper","_constants","_transform","_types","_types2","_causes","_causes2","_hotkeysJs","_hotkeysJs2","_Title","_Title2","_InputGroup","_InputGroup2","_InputWrapper","_InputWrapper2","_InputAddon","_InputAddon2","_Input","_Input2","_CancelSvg","_CancelSvg2","_SearchSvg","_SearchSvg2","_Container","_Container2","_Mic","_Mic2","_CustomSvg","_CustomSvg2","_utils","_SuggestionItem","_SuggestionItem2","_SuggestionWrapper","_SuggestionWrapper2","_PreferencesConsumer","_PreferencesConsumer2","_ComponentWrapper","_ComponentWrapper2","_IconWrapper","_IconWrapper2","_IconGroup","_IconGroup2","obj","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","Text","withTheme","jsx","className","style","color","primary","theme","colors","primaryColor","textColor","children","CategorySearch","_Component","_this","_initialiseProps","defaultValue","_value$term","term","currentValue","undefined","_value$category","category","currentCategory","selectedValue","selectedCategory","state","suggestions","isOpen","isPending","internalComponent","getInternalComponentID","componentId","queryOptions","getQueryOptions","updateCustomQuery","updateDefaultQuery","highlight","highlightQuery","customHighlight","setCustomHighlightOptions","size","setQueryOptions","aggsQuery","getCombinedAggsQuery","hasMounted","cause","calcValue","onChange","triggerQuery","setValue","componentDidUpdate","prevProps","_this2","checkSomePropChange","isQueryIdentical","updateQuery","Array","isArray","trim","onSuggestions","setState","isEqual","_props$value","_props$value$category","onValueSelected","CLEAR_VALUE","_props","_currentValue","componentDidMount","listenForFocusShortcuts","_props2","enableQuerySuggestions","renderQuerySuggestions","fetchPopularSuggestions","enableRecentSearches","fetchRecentSearches","aggregationField","distinctField","distinctFieldConfig","index","enableAppbase","console","warn","componentWillUnmount","document","removeEventListener","onKeyDown","shouldMicRender","showVoiceSearch","window","webkitSpeechRecognition","SpeechRecognition","render","_this3","_props3","themePreset","recentSearchesIcon","popularSearchesIcon","finalSuggestionsList","parsedSuggestions","hasSuggestions","topSuggestions","defaultSuggestions","title","getClassName","innerClass","autosuggest","id","onSuggestionSelected","onStateChange","handleStateChange","itemToString","_ref","getRootProps","getInputProps","getItemProps","highlightedIndex","setHighlightedIndex","rest","renderSuggestionsDropdown","Fragment","renderLoader","renderError","hasCustomRenderer","getComponent","css","slice","map","item","backgroundColor","getBackgroundColor","suggestion","sugg","justifyContent","padding","_recent_search","iconId","label","icon","type","_popular_suggestion","hasPopularSuggestionsRenderer","renderNoSuggestion","suggestionsContainer","suppressRefError","renderInputAddonBefore","ref","c","_inputRef","showClear","showIcon","iconPosition","placeholder","onInputChange","onBlur","withTriggerQuery","onFocus","handleFocus","onKeyPress","e","handleKeyDown","onKeyUp","onClick","autoFocus","renderIcons","expandSuggestionsContainer","apply","concat","renderInputAddonAfter","downShiftProps","get","getResultStats","categories","filter","Boolean","suggestionsList","filteredCategories","categorySuggestions","withClickIds","_props4","enablePopularSuggestions","normalizedPopularSuggestions","recentSearches","_props5","popularSuggestions","showDistinctSuggestions","defaultPopularSuggestions","getTopSuggestions","_props6","isPopularSuggestionsEnabled","customDefaultPopularSuggestions","customNormalizedRecentSearches","normalizedRecentSearches","search","defaultSuggestionsProcessed","unshift","Component","fields","normalizedDataField","normalizeDataField","dataField","field","highlightField","forEach","pre_tags","post_tags","require_field_match","defaultQuery","finalQuery","fieldWeights","queryString","query_string","shouldQuery","searchOperators","simple_query_string","bool","should","minimum_should_match","_term","categoryField","nestedField","nested","path","query","dataFields","phrasePrefixFields","queryField","weight","endsWith","push","default_operator","queryFormat","multi_match","operator","fuzziness","_this4","getAggsQuery","_aggs","aggs","terms","_props7","compositeAggsQuery","getCompositeAggsQuery","showTopHits","searchResults","handleOnSuggestions","isDefaultValue","toggleIsOpen","performUpdate","_props8","strictSelection","SUGGESTION_SELECT","handleTextChange","onValueChange","checkValueChange","beforeValueChange","debounce","defaultQueryOptions","defaultQueryTobeSet","getOptionsFromQuery","setSuggestionsSearchValue","componentType","componentTypes","categorySearch","customQuery","filterLabel","showFilter","URLParams","customQueryOptions","customQueryTobeSet","event","clearValue","_props9","ENTER_PRESS","inputValue","_props10","handleCaretPosition","_value$category2","_value$isOpen","_props11","triggerClickAnalytics","_click_id","changes","stateChangeTypes","mouseUp","isDark","handleSearchIconClick","SEARCH_ICON_CLICK","handleVoiceResults","_ref2","results","isFinal","transcript","addonBefore","addonAfter","renderIcon","renderCancelIcon","clearIcon","_props12","renderMic","getMicInstance","groupPosition","positionType","isClearIcon","getInstance","onResult","_props13","isLoading","error","_state","innerClassName","_props14","loader","_props15","isFunction","downshiftProps","isQuerySuggestionsRender","_props16","aggregationData","promotedResults","customData","rawData","data","loading","promotedData","rawSuggestions","rawCategories","resultStats","stats","querySuggestions","getPopularSuggestionsComponent","searchPosition","documentId","docId","hitData","find","hit","_id","triggerAnalytics","func","focusSearchBox","elt","srcElement","tagName","isContentEditable","focus","focusShortcuts","isEmpty","parseFocusShortcuts","join","handler","preventDefault","modifierKeys","extractModifierKeysFromFocusShortcuts","element","propTypes","funcRequired","options","hits","setCustomQuery","setDefaultQuery","time","number","any","enableSynonyms","string","componentObject","stringRequired","dataFieldValidator","aggregationSize","categorySearchValue","excludeFields","stringOrArray","includeFields","onError","onQueryChange","queryFormatSearch","react","highlightConfig","renderPopularSuggestions","parseSuggestion","enablePredictiveSuggestions","endpoint","defaultProps","mapStateToProps","aggregations","buckets","selectedValues","compositeAggregations","config","total","hidden","mapDispatchtoProps","dispatch","component","updateQueryObject","recordSuggestionClick","loadPopularSuggestions","getRecentSearches","ConnectedComponent","connect","myForwardedRef","ForwardRefComponent","forwardRef","userProps","preferenceProps","componentProps","displayName"],"sources":["/Users/billionare/Documents/eshakids/eshaKids/node_modules/@appbaseio/reactivesearch/lib/components/search/CategorySearch.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _downshift = require('downshift');\n\nvar _downshift2 = _interopRequireDefault(_downshift);\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _causes = require('@appbaseio/reactivecore/lib/utils/causes');\n\nvar _causes2 = _interopRequireDefault(_causes);\n\nvar _hotkeysJs = require('hotkeys-js');\n\nvar _hotkeysJs2 = _interopRequireDefault(_hotkeysJs);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _InputGroup = require('../../styles/InputGroup');\n\nvar _InputGroup2 = _interopRequireDefault(_InputGroup);\n\nvar _InputWrapper = require('../../styles/InputWrapper');\n\nvar _InputWrapper2 = _interopRequireDefault(_InputWrapper);\n\nvar _InputAddon = require('../../styles/InputAddon');\n\nvar _InputAddon2 = _interopRequireDefault(_InputAddon);\n\nvar _Input = require('../../styles/Input');\n\nvar _Input2 = _interopRequireDefault(_Input);\n\nvar _CancelSvg = require('../shared/CancelSvg');\n\nvar _CancelSvg2 = _interopRequireDefault(_CancelSvg);\n\nvar _SearchSvg = require('../shared/SearchSvg');\n\nvar _SearchSvg2 = _interopRequireDefault(_SearchSvg);\n\nvar _Container = require('../../styles/Container');\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _Mic = require('./addons/Mic');\n\nvar _Mic2 = _interopRequireDefault(_Mic);\n\nvar _CustomSvg = require('../shared/CustomSvg');\n\nvar _CustomSvg2 = _interopRequireDefault(_CustomSvg);\n\nvar _utils = require('../../utils');\n\nvar _SuggestionItem = require('./addons/SuggestionItem');\n\nvar _SuggestionItem2 = _interopRequireDefault(_SuggestionItem);\n\nvar _SuggestionWrapper = require('./addons/SuggestionWrapper');\n\nvar _SuggestionWrapper2 = _interopRequireDefault(_SuggestionWrapper);\n\nvar _PreferencesConsumer = require('../basic/PreferencesConsumer');\n\nvar _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nvar _IconWrapper = require('../../styles/IconWrapper');\n\nvar _IconWrapper2 = _interopRequireDefault(_IconWrapper);\n\nvar _IconGroup = require('../../styles/IconGroup');\n\nvar _IconGroup2 = _interopRequireDefault(_IconGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /** @jsxRuntime classic */\n/** @jsx jsx */\n\n\nvar Text = (0, _emotionTheming.withTheme)(function (props) {\n\treturn (0, _core.jsx)(\n\t\t'span',\n\t\t{\n\t\t\tclassName: 'trim',\n\t\t\tstyle: {\n\t\t\t\tcolor: props.primary ? props.theme.colors.primaryColor : props.theme.colors.textColor\n\t\t\t}\n\t\t},\n\t\tprops.children\n\t);\n});\n\nvar CategorySearch = function (_Component) {\n\t_inherits(CategorySearch, _Component);\n\n\tfunction CategorySearch(props) {\n\t\t_classCallCheck(this, CategorySearch);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\tvar value = props.value || props.defaultValue || {};\n\t\t// eslint-disable-next-line\n\t\tvar _value$term = value.term,\n\t\t    currentValue = _value$term === undefined ? '' : _value$term,\n\t\t    _value$category = value.category,\n\t\t    currentCategory = _value$category === undefined ? null : _value$category;\n\t\t// add preference to selected-X value from URL/SSR\n\n\t\tcurrentValue = props.selectedValue || currentValue;\n\t\tcurrentCategory = props.selectedCategory || currentCategory;\n\n\t\t_this.state = {\n\t\t\tcurrentValue: currentValue,\n\t\t\tcurrentCategory: currentCategory,\n\t\t\tsuggestions: [],\n\t\t\tisOpen: false\n\t\t};\n\t\t/**\n   * To regulate the query execution based on the input handler,\n   * the component query will only get executed when it sets to `true`.\n   * */\n\t\t_this.isPending = false;\n\n\t\t_this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);\n\t\t_this.queryOptions = (0, _helper.getQueryOptions)(props);\n\t\t// Set custom and default queries in store\n\t\t(0, _helper.updateCustomQuery)(props.componentId, props, currentValue);\n\t\t(0, _helper.updateDefaultQuery)(props.componentId, props, currentValue);\n\n\t\tif (props.highlight) {\n\t\t\tvar queryOptions = CategorySearch.highlightQuery(props) || {};\n\t\t\tif (props.customHighlight && typeof props.customHighlight === 'function') {\n\t\t\t\tprops.setCustomHighlightOptions(props.componentId, props.customHighlight(props));\n\t\t\t}\n\t\t\tqueryOptions.size = props.size;\n\t\t\t_this.queryOptions = queryOptions;\n\t\t\tprops.setQueryOptions(props.componentId, queryOptions);\n\t\t} else {\n\t\t\tprops.setQueryOptions(props.componentId, _this.queryOptions);\n\t\t}\n\n\t\tvar aggsQuery = _this.getCombinedAggsQuery();\n\t\tprops.setQueryOptions(_this.internalComponent, aggsQuery, false);\n\t\tvar hasMounted = false;\n\t\tvar cause = null;\n\n\t\tif (currentValue) {\n\t\t\tvar calcValue = {\n\t\t\t\tterm: currentValue,\n\t\t\t\tcategory: currentCategory\n\t\t\t};\n\t\t\tif (props.onChange) {\n\t\t\t\tprops.onChange(calcValue, function () {\n\t\t\t\t\treturn _this.triggerQuery(calcValue);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_this.setValue(currentValue, true, props, currentCategory, cause, hasMounted);\n\t\t}\n\t\treturn _this;\n\t}\n\n\tCategorySearch.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['highlight', 'dataField', 'highlightField'], function () {\n\t\t\tvar queryOptions = CategorySearch.highlightQuery(_this2.props) || {};\n\t\t\tif (_this2.props.customHighlight && typeof _this2.props.customHighlight === 'function') {\n\t\t\t\t_this2.props.setCustomHighlightOptions(_this2.props.componentId, _this2.props.customHighlight(_this2.props));\n\t\t\t}\n\t\t\tqueryOptions.size = _this2.props.size;\n\t\t\t_this2.queryOptions = queryOptions;\n\t\t\t_this2.props.setQueryOptions(_this2.props.componentId, queryOptions);\n\t\t});\n\n\t\t// Treat defaultQuery and customQuery as reactive props\n\t\tif (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'defaultQuery')) {\n\t\t\tthis.updateDefaultQuery(this.state.currentValue, this.props);\n\t\t\tthis.updateQuery(this.state.currentValue, this.props);\n\t\t}\n\n\t\tif (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'customQuery')) {\n\t\t\tthis.updateQuery(this.state.currentValue, this.props);\n\t\t}\n\n\t\tif (Array.isArray(this.props.suggestions) && this.state.currentValue.trim().length) {\n\t\t\t// shallow check allows us to set suggestions even if the next set\n\t\t\t// of suggestions are same as the current one\n\n\t\t\tif (this.props.suggestions !== prevProps.suggestions) {\n\t\t\t\tif (this.props.onSuggestions) {\n\t\t\t\t\tthis.props.onSuggestions(this.props.suggestions);\n\t\t\t\t}\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tthis.setState({\n\t\t\t\t\tsuggestions: this.onSuggestions(this.props.suggestions)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['fieldWeights', 'fuzziness', 'queryFormat', 'dataField', 'categoryField', 'nestedField', 'searchOperators'], function () {\n\t\t\t_this2.updateQuery(_this2.state.currentValue, _this2.props);\n\t\t});\n\n\t\tif (!(0, _helper.isEqual)(this.props.value, prevProps.value)) {\n\t\t\tvar _props$value = this.props.value,\n\t\t\t    currentValue = _props$value.term,\n\t\t\t    _props$value$category = _props$value.category,\n\t\t\t    currentCategory = _props$value$category === undefined ? null : _props$value$category;\n\n\t\t\tthis.setValue(currentValue, true, this.props, currentCategory, undefined, undefined, false);\n\t\t} else if (\n\t\t// since, selectedValue will be updated when currentValue changes,\n\t\t// we must only check for the changes introduced by\n\t\t// clear action from SelectedFilters component in which case,\n\t\t// the currentValue will never match the updated selectedValue\n\t\tthis.props.selectedValue !== prevProps.selectedValue && this.state.currentValue !== this.props.selectedValue) {\n\t\t\tif (!this.props.selectedValue && this.state.currentValue) {\n\t\t\t\t// selected value is cleared, call onValueSelected\n\t\t\t\tthis.onValueSelected('', _causes2.default.CLEAR_VALUE, null);\n\t\t\t}\n\t\t\tvar _props = this.props,\n\t\t\t    value = _props.value,\n\t\t\t    onChange = _props.onChange;\n\n\t\t\tif (value === undefined) {\n\t\t\t\tthis.setValue(this.props.selectedValue || '', true, this.props, this.props.selectedCategory);\n\t\t\t} else if (onChange) {\n\t\t\t\tvar _currentValue = {\n\t\t\t\t\tterm: this.props.selectedValue || '',\n\t\t\t\t\tcategory: this.props.selectedCategory || null\n\t\t\t\t};\n\t\t\t\t// value prop exists\n\t\t\t\tonChange(_currentValue, function () {\n\t\t\t\t\treturn _this2.triggerQuery(_currentValue);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// value prop exists and onChange is not defined:\n\t\t\t\t// we need to put the current value back into the store\n\t\t\t\t// if the clear action was triggered by interacting with\n\t\t\t\t// selected-filters component\n\t\t\t\tthis.isPending = false;\n\t\t\t\tthis.setValue(this.state.currentValue, true, this.props, this.state.currentCategory);\n\t\t\t}\n\t\t}\n\t};\n\n\tCategorySearch.prototype.componentDidMount = function componentDidMount() {\n\t\t// register hotkeys for listening to focusShortcuts' key presses\n\t\tthis.listenForFocusShortcuts();\n\t\tvar _props2 = this.props,\n\t\t    enableQuerySuggestions = _props2.enableQuerySuggestions,\n\t\t    renderQuerySuggestions = _props2.renderQuerySuggestions,\n\t\t    fetchPopularSuggestions = _props2.fetchPopularSuggestions,\n\t\t    enableRecentSearches = _props2.enableRecentSearches,\n\t\t    fetchRecentSearches = _props2.fetchRecentSearches,\n\t\t    componentId = _props2.componentId,\n\t\t    aggregationField = _props2.aggregationField,\n\t\t    distinctField = _props2.distinctField,\n\t\t    distinctFieldConfig = _props2.distinctFieldConfig,\n\t\t    index = _props2.index,\n\t\t    enableAppbase = _props2.enableAppbase;\n\n\t\t// TODO: Remove in 4.0\n\n\t\tif (enableQuerySuggestions !== undefined) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): The `enableQuerySuggestions` prop has been marked as deprecated, please use the `enablePopularSuggestions` prop instead.');\n\t\t}\n\t\t// TODO: Remove in 4.0\n\t\tif (renderQuerySuggestions !== undefined) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): The `renderQuerySuggestions` prop has been marked as deprecated, please use the `renderPopularSuggestions` prop instead.');\n\t\t}\n\t\tif (enableAppbase && aggregationField) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): The `aggregationField` prop has been marked as deprecated, please use the `distinctField` prop instead.');\n\t\t}\n\t\tif (!enableAppbase && (distinctField || distinctFieldConfig)) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): In order to use the `distinctField` and `distinctFieldConfig` props, the `enableAppbase` prop must be set to true in `ReactiveBase`.');\n\t\t}\n\t\tif (!enableAppbase && index) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): In order to use the `index` prop, the `enableAppbase` prop must be set to true in `ReactiveBase`.');\n\t\t}\n\t\tif (enableRecentSearches) {\n\t\t\tfetchRecentSearches();\n\t\t}\n\t\tfetchPopularSuggestions(componentId);\n\t};\n\n\tCategorySearch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\tdocument.removeEventListener('keydown', this.onKeyDown);\n\t};\n\n\tCategorySearch.prototype.shouldMicRender = function shouldMicRender(showVoiceSearch) {\n\t\t// checks for SSR\n\t\tif (typeof window === 'undefined') return false;\n\t\treturn showVoiceSearch && (window.webkitSpeechRecognition || window.SpeechRecognition);\n\t};\n\n\tCategorySearch.prototype.render = function render() {\n\t\tvar _this3 = this;\n\n\t\tvar currentValue = this.state.currentValue;\n\t\tvar _props3 = this.props,\n\t\t    theme = _props3.theme,\n\t\t    themePreset = _props3.themePreset,\n\t\t    size = _props3.size,\n\t\t    recentSearchesIcon = _props3.recentSearchesIcon,\n\t\t    popularSearchesIcon = _props3.popularSearchesIcon;\n\n\t\tvar finalSuggestionsList = this.parsedSuggestions;\n\t\tvar hasSuggestions = currentValue ? finalSuggestionsList.length || this.topSuggestions.length : this.defaultSuggestions.length;\n\t\treturn (0, _core.jsx)(\n\t\t\t_Container2.default,\n\t\t\t{ style: this.props.style, className: this.props.className },\n\t\t\tthis.props.title && (0, _core.jsx)(\n\t\t\t\t_Title2.default,\n\t\t\t\t{ className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null },\n\t\t\t\tthis.props.title\n\t\t\t),\n\t\t\tthis.props.defaultSuggestions || this.props.autosuggest ? (0, _core.jsx)(_downshift2.default, _extends({\n\t\t\t\tid: this.props.componentId + '-downshift',\n\t\t\t\tonChange: this.onSuggestionSelected,\n\t\t\t\tonStateChange: this.handleStateChange,\n\t\t\t\tisOpen: this.state.isOpen,\n\t\t\t\titemToString: function itemToString(i) {\n\t\t\t\t\treturn i;\n\t\t\t\t},\n\t\t\t\trender: function render(_ref) {\n\t\t\t\t\tvar getRootProps = _ref.getRootProps,\n\t\t\t\t\t    getInputProps = _ref.getInputProps,\n\t\t\t\t\t    getItemProps = _ref.getItemProps,\n\t\t\t\t\t    isOpen = _ref.isOpen,\n\t\t\t\t\t    highlightedIndex = _ref.highlightedIndex,\n\t\t\t\t\t    setHighlightedIndex = _ref.setHighlightedIndex,\n\t\t\t\t\t    rest = _objectWithoutProperties(_ref, ['getRootProps', 'getInputProps', 'getItemProps', 'isOpen', 'highlightedIndex', 'setHighlightedIndex']);\n\n\t\t\t\t\tvar renderSuggestionsDropdown = function renderSuggestionsDropdown() {\n\t\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t\t_react2.default.Fragment,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tisOpen && _this3.renderLoader(),\n\t\t\t\t\t\t\tisOpen && _this3.renderError(),\n\t\t\t\t\t\t\t_this3.hasCustomRenderer && _this3.getComponent(_extends({\n\t\t\t\t\t\t\t\tgetInputProps: getInputProps,\n\t\t\t\t\t\t\t\tgetItemProps: getItemProps,\n\t\t\t\t\t\t\t\tisOpen: isOpen,\n\t\t\t\t\t\t\t\thighlightedIndex: highlightedIndex,\n\t\t\t\t\t\t\t\tsetHighlightedIndex: setHighlightedIndex\n\t\t\t\t\t\t\t}, rest)),\n\t\t\t\t\t\t\t!_this3.hasCustomRenderer && isOpen && hasSuggestions ? (0, _core.jsx)(\n\t\t\t\t\t\t\t\t'ul',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcss: (0, _Input.suggestions)(themePreset, theme),\n\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this3.props.innerClass, 'list')\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfinalSuggestionsList.slice(0, size).map(function (item, index) {\n\t\t\t\t\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t\t\t\t_extends({}, getItemProps({ item: item }), {\n\t\t\t\t\t\t\t\t\t\t\tkey: index + 1 + '-' + item.value // eslint-disable-line\n\t\t\t\t\t\t\t\t\t\t\t, style: {\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: _this3.getBackgroundColor(highlightedIndex, index)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t\tText,\n\t\t\t\t\t\t\t\t\t\t\t{ primary: !!item.category },\n\t\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(_SuggestionItem2.default, {\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentValue: currentValue,\n\t\t\t\t\t\t\t\t\t\t\t\tsuggestion: item\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t_this3.defaultSuggestions.map(function (sugg, index) {\n\t\t\t\t\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t\t\t\t_extends({}, getItemProps({ item: sugg }), {\n\t\t\t\t\t\t\t\t\t\t\tkey: finalSuggestionsList.length + index + 1 + '-' + sugg.value,\n\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: _this3.getBackgroundColor(highlightedIndex, finalSuggestionsList.length + index),\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'flex-start'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t\t{ style: { padding: '0 10px 0 0' } },\n\t\t\t\t\t\t\t\t\t\t\tsugg.source && sugg.source._recent_search && (0, _core.jsx)(_CustomSvg2.default, {\n\t\t\t\t\t\t\t\t\t\t\t\ticonId: sugg.label + '-icon',\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this3.props.innerClass, 'recent-search-icon') || null,\n\t\t\t\t\t\t\t\t\t\t\t\ticon: recentSearchesIcon,\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'recent-search-icon'\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tsugg.source && sugg.source._popular_suggestion && (0, _core.jsx)(_CustomSvg2.default, {\n\t\t\t\t\t\t\t\t\t\t\t\ticonId: sugg.label + '-icon',\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this3.props.innerClass, 'popular-search-icon') || null,\n\t\t\t\t\t\t\t\t\t\t\t\ticon: popularSearchesIcon,\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'popular-search-icon'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(_SuggestionItem2.default, {\n\t\t\t\t\t\t\t\t\t\t\tcurrentValue: currentValue,\n\t\t\t\t\t\t\t\t\t\t\tsuggestion: sugg\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t(0, _utils.hasPopularSuggestionsRenderer)(_this3.props) ? _this3.getComponent(_extends({\n\t\t\t\t\t\t\t\t\tgetInputProps: getInputProps,\n\t\t\t\t\t\t\t\t\tgetItemProps: getItemProps,\n\t\t\t\t\t\t\t\t\tisOpen: isOpen,\n\t\t\t\t\t\t\t\t\thighlightedIndex: highlightedIndex\n\t\t\t\t\t\t\t\t}, rest), true) : _this3.topSuggestions.map(function (sugg, index) {\n\t\t\t\t\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t\t\t\t_extends({}, getItemProps({ item: sugg }), {\n\t\t\t\t\t\t\t\t\t\t\tkey: finalSuggestionsList.length + index + 1 + '-' + sugg.value,\n\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: _this3.getBackgroundColor(highlightedIndex, finalSuggestionsList.length + index),\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'flex-start'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t\t{ style: { padding: '0 10px 0 0' } },\n\t\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(_CustomSvg2.default, {\n\t\t\t\t\t\t\t\t\t\t\t\ticonId: sugg.label + '-icon',\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this3.props.innerClass, 'popular-search-icon') || null,\n\t\t\t\t\t\t\t\t\t\t\t\ticon: popularSearchesIcon,\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'popular-search-icon'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(_SuggestionItem2.default, {\n\t\t\t\t\t\t\t\t\t\t\tcurrentValue: currentValue,\n\t\t\t\t\t\t\t\t\t\t\tsuggestion: sugg\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t) : _this3.renderNoSuggestion(finalSuggestionsList)\n\t\t\t\t\t\t);\n\t\t\t\t\t};\n\n\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tgetRootProps({ css: _Input.suggestionsContainer }, { suppressRefError: true }),\n\t\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t\t_InputGroup2.default,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_this3.renderInputAddonBefore(),\n\t\t\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t\t\t_InputWrapper2.default,\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t(0, _core.jsx)(_Input2.default, _extends({\n\t\t\t\t\t\t\t\t\tref: function ref(c) {\n\t\t\t\t\t\t\t\t\t\t_this3._inputRef = c;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'aria-label': _this3.props.componentId,\n\t\t\t\t\t\t\t\t\tshowClear: _this3.props.showClear,\n\t\t\t\t\t\t\t\t\tid: _this3.props.componentId + '-input',\n\t\t\t\t\t\t\t\t\tshowIcon: _this3.props.showIcon,\n\t\t\t\t\t\t\t\t\ticonPosition: _this3.props.iconPosition\n\t\t\t\t\t\t\t\t}, getInputProps({\n\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this3.props.innerClass, 'input'),\n\t\t\t\t\t\t\t\t\tplaceholder: _this3.props.placeholder,\n\t\t\t\t\t\t\t\t\tvalue: _this3.state.currentValue === null ? '' : _this3.state.currentValue,\n\t\t\t\t\t\t\t\t\tonChange: _this3.onInputChange,\n\t\t\t\t\t\t\t\t\tonBlur: _this3.withTriggerQuery(_this3.props.onBlur),\n\t\t\t\t\t\t\t\t\tonFocus: _this3.handleFocus,\n\t\t\t\t\t\t\t\t\tonKeyPress: _this3.withTriggerQuery(_this3.props.onKeyPress),\n\t\t\t\t\t\t\t\t\tonKeyDown: function onKeyDown(e) {\n\t\t\t\t\t\t\t\t\t\treturn _this3.handleKeyDown(e, highlightedIndex);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonKeyUp: _this3.withTriggerQuery(_this3.props.onKeyUp),\n\t\t\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\t\t\t// clear highlighted index\n\t\t\t\t\t\t\t\t\t\tsetHighlightedIndex(null);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tautoFocus: _this3.props.autoFocus\n\t\t\t\t\t\t\t\t}), {\n\t\t\t\t\t\t\t\t\tthemePreset: themePreset\n\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t_this3.renderIcons(),\n\t\t\t\t\t\t\t\t!_this3.props.expandSuggestionsContainer && renderSuggestionsDropdown.apply(undefined, [getRootProps, getInputProps, getItemProps, isOpen, highlightedIndex, setHighlightedIndex].concat(rest))\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_this3.renderInputAddonAfter()\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_this3.props.expandSuggestionsContainer && renderSuggestionsDropdown.apply(undefined, [getRootProps, getInputProps, getItemProps, isOpen, highlightedIndex, setHighlightedIndex].concat(rest))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}, this.props.downShiftProps)) : (0, _core.jsx)(\n\t\t\t\t'div',\n\t\t\t\t{ css: _Input.suggestionsContainer },\n\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t_InputGroup2.default,\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.renderInputAddonBefore(),\n\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t_InputWrapper2.default,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t(0, _core.jsx)(_Input2.default, {\n\t\t\t\t\t\t\tref: function ref(c) {\n\t\t\t\t\t\t\t\t_this3._inputRef = c;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'aria-label': this.props.componentId,\n\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'input'),\n\t\t\t\t\t\t\tplaceholder: this.props.placeholder,\n\t\t\t\t\t\t\tvalue: this.state.currentValue ? this.state.currentValue : '',\n\t\t\t\t\t\t\tonChange: this.onInputChange,\n\t\t\t\t\t\t\tonBlur: this.withTriggerQuery(this.props.onBlur),\n\t\t\t\t\t\t\tonFocus: this.withTriggerQuery(this.props.onFocus),\n\t\t\t\t\t\t\tonKeyPress: this.withTriggerQuery(this.props.onKeyPress),\n\t\t\t\t\t\t\tonKeyDown: this.withTriggerQuery(this.props.onKeyDown),\n\t\t\t\t\t\t\tonKeyUp: this.withTriggerQuery(this.props.onKeyUp),\n\t\t\t\t\t\t\tautoFocus: this.props.autoFocus,\n\t\t\t\t\t\t\ticonPosition: this.props.iconPosition,\n\t\t\t\t\t\t\tshowClear: this.props.showClear,\n\t\t\t\t\t\t\tshowIcon: this.props.showIcon,\n\t\t\t\t\t\t\tthemePreset: themePreset\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tthis.renderIcons()\n\t\t\t\t\t),\n\t\t\t\t\tthis.renderInputAddonAfter()\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\t_createClass(CategorySearch, [{\n\t\tkey: 'stats',\n\t\tget: function get() {\n\t\t\treturn (0, _helper.getResultStats)(this.props);\n\t\t}\n\t}, {\n\t\tkey: 'hasCustomRenderer',\n\t\tget: function get() {\n\t\t\treturn (0, _helper.hasCustomRenderer)(this.props);\n\t\t}\n\t}, {\n\t\tkey: 'filteredCategories',\n\t\tget: function get() {\n\t\t\tvar categories = this.props.categories;\n\n\t\t\treturn categories.filter(function (category) {\n\t\t\t\treturn Boolean(category.key);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'parsedSuggestions',\n\t\tget: function get() {\n\t\t\tvar finalSuggestionsList = [];\n\t\t\tvar suggestionsList = [];\n\n\t\t\t// filter out empty categories\n\t\t\tvar filteredCategories = this.filteredCategories;\n\n\t\t\tif (this.state.currentValue) {\n\t\t\t\tsuggestionsList = this.state.suggestions;\n\t\t\t}\n\n\t\t\tif (this.state.currentValue && this.state.suggestions.length && filteredCategories.length) {\n\t\t\t\tvar categorySuggestions = [{\n\t\t\t\t\tlabel: this.state.currentValue + ' in all categories',\n\t\t\t\t\tvalue: this.state.currentValue,\n\t\t\t\t\tcategory: '*',\n\t\t\t\t\t// no source object exists for category based suggestions\n\t\t\t\t\tsource: null\n\t\t\t\t}, {\n\t\t\t\t\tlabel: this.state.currentValue + ' in ' + filteredCategories[0].key,\n\t\t\t\t\tvalue: this.state.currentValue,\n\t\t\t\t\tcategory: filteredCategories[0].key,\n\t\t\t\t\tsource: null\n\t\t\t\t}];\n\n\t\t\t\tif (filteredCategories.length > 1) {\n\t\t\t\t\tcategorySuggestions = [].concat(categorySuggestions, [{\n\t\t\t\t\t\tlabel: this.state.currentValue + ' in ' + filteredCategories[1].key,\n\t\t\t\t\t\tvalue: this.state.currentValue,\n\t\t\t\t\t\tcategory: filteredCategories[1].key,\n\t\t\t\t\t\tsource: null\n\t\t\t\t\t}]);\n\t\t\t\t}\n\t\t\t\tfinalSuggestionsList = [].concat(categorySuggestions, suggestionsList);\n\t\t\t}\n\t\t\treturn (0, _helper.withClickIds)(finalSuggestionsList);\n\t\t}\n\t}, {\n\t\tkey: 'topSuggestions',\n\t\tget: function get() {\n\t\t\tvar _props4 = this.props,\n\t\t\t    enableQuerySuggestions = _props4.enableQuerySuggestions,\n\t\t\t    enablePopularSuggestions = _props4.enablePopularSuggestions;\n\t\t\tvar currentValue = this.state.currentValue;\n\n\t\t\tif (!currentValue) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn enableQuerySuggestions || enablePopularSuggestions ? this.normalizedPopularSuggestions : [];\n\t\t}\n\t}, {\n\t\tkey: 'normalizedRecentSearches',\n\t\tget: function get() {\n\t\t\tvar recentSearches = this.props.recentSearches;\n\n\t\t\treturn recentSearches;\n\t\t}\n\t}, {\n\t\tkey: 'normalizedPopularSuggestions',\n\t\tget: function get() {\n\t\t\tvar _props5 = this.props,\n\t\t\t    popularSuggestions = _props5.popularSuggestions,\n\t\t\t    showDistinctSuggestions = _props5.showDistinctSuggestions,\n\t\t\t    defaultPopularSuggestions = _props5.defaultPopularSuggestions;\n\t\t\tvar currentValue = this.state.currentValue;\n\n\t\t\treturn (0, _helper.getTopSuggestions)(\n\t\t\t// use default popular suggestions if value is empty\n\t\t\tcurrentValue ? popularSuggestions : defaultPopularSuggestions, currentValue, showDistinctSuggestions);\n\t\t}\n\t}, {\n\t\tkey: 'defaultSuggestions',\n\t\tget: function get() {\n\t\t\tvar _props6 = this.props,\n\t\t\t    enableQuerySuggestions = _props6.enableQuerySuggestions,\n\t\t\t    enablePopularSuggestions = _props6.enablePopularSuggestions,\n\t\t\t    showDistinctSuggestions = _props6.showDistinctSuggestions,\n\t\t\t    defaultPopularSuggestions = _props6.defaultPopularSuggestions,\n\t\t\t    defaultSuggestions = _props6.defaultSuggestions;\n\n\t\t\tvar isPopularSuggestionsEnabled = enableQuerySuggestions || enablePopularSuggestions;\n\t\t\tvar currentValue = this.state.currentValue;\n\n\t\t\tif (currentValue) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tvar customDefaultPopularSuggestions = defaultPopularSuggestions.map(function (suggestion) {\n\t\t\t\treturn _extends({}, suggestion, {\n\t\t\t\t\t_popular_suggestion: true\n\t\t\t\t});\n\t\t\t});\n\t\t\tvar customNormalizedRecentSearches = this.normalizedRecentSearches.map(function (search) {\n\t\t\t\treturn _extends({}, search, {\n\t\t\t\t\t_recent_search: true\n\t\t\t\t});\n\t\t\t});\n\t\t\tvar defaultSuggestionsProcessed = isPopularSuggestionsEnabled ? [].concat(customNormalizedRecentSearches, customDefaultPopularSuggestions) : customNormalizedRecentSearches;\n\t\t\tvar suggestionsList = (0, _helper.getTopSuggestions)(defaultSuggestionsProcessed, currentValue, showDistinctSuggestions);\n\n\t\t\tif (defaultSuggestions && Array.isArray(defaultSuggestions)) {\n\t\t\t\tsuggestionsList.unshift.apply(suggestionsList, (0, _helper.withClickIds)(defaultSuggestions));\n\t\t\t}\n\t\t\treturn suggestionsList;\n\t\t}\n\t}]);\n\n\treturn CategorySearch;\n}(_react.Component);\n\nCategorySearch.highlightQuery = function (props) {\n\tif (props.customHighlight) {\n\t\treturn props.customHighlight(props);\n\t}\n\tif (!props.highlight) {\n\t\treturn null;\n\t}\n\tvar fields = {};\n\tvar normalizedDataField = (0, _helper.normalizeDataField)(props.dataField).map(function (dataField) {\n\t\treturn dataField.field;\n\t});\n\tvar highlightField = props.highlightField ? props.highlightField : normalizedDataField;\n\n\tif (typeof highlightField === 'string') {\n\t\tfields[highlightField] = {};\n\t} else if (Array.isArray(highlightField)) {\n\t\thighlightField.forEach(function (item) {\n\t\t\tfields[item] = {};\n\t\t});\n\t}\n\n\treturn {\n\t\thighlight: _extends({\n\t\t\tpre_tags: ['<mark>'],\n\t\t\tpost_tags: ['</mark>'],\n\t\t\tfields: fields\n\t\t}, props.highlightField && { require_field_match: false })\n\t};\n};\n\nCategorySearch.defaultQuery = function (value, props, category) {\n\tvar finalQuery = null;\n\n\tif (value) {\n\t\tvar fields = (0, _helper.normalizeDataField)(props.dataField, props.fieldWeights);\n\n\t\tif (props.queryString) {\n\t\t\tfinalQuery = {\n\t\t\t\tquery_string: CategorySearch.shouldQuery(value, fields, props)\n\t\t\t};\n\t\t} else if (props.searchOperators) {\n\t\t\tfinalQuery = {\n\t\t\t\tsimple_query_string: CategorySearch.shouldQuery(value, fields, props)\n\t\t\t};\n\t\t} else {\n\t\t\tfinalQuery = {\n\t\t\t\tbool: {\n\t\t\t\t\tshould: CategorySearch.shouldQuery(value, fields, props),\n\t\t\t\t\tminimum_should_match: '1'\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tif (category && category !== '*') {\n\t\t\tvar _term;\n\n\t\t\tfinalQuery = [finalQuery, {\n\t\t\t\tterm: (_term = {}, _term[props.categoryField] = category, _term)\n\t\t\t}];\n\t\t}\n\t}\n\n\tif (value === '') {\n\t\tfinalQuery = null;\n\t}\n\n\tif (finalQuery && props.nestedField) {\n\t\tfinalQuery = {\n\t\t\tnested: {\n\t\t\t\tpath: props.nestedField,\n\t\t\t\tquery: finalQuery\n\t\t\t}\n\t\t};\n\t}\n\n\treturn finalQuery;\n};\n\nCategorySearch.shouldQuery = function (value) {\n\tvar dataFields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\tvar props = arguments[2];\n\n\tvar finalQuery = [];\n\tvar phrasePrefixFields = [];\n\tvar fields = dataFields.map(function (dataField) {\n\t\tvar queryField = '' + dataField.field + (dataField.weight ? '^' + dataField.weight : '');\n\t\tif (!(dataField.field.endsWith('.keyword') || dataField.field.endsWith('.autosuggest') || dataField.field.endsWith('.search'))) {\n\t\t\tphrasePrefixFields.push(queryField);\n\t\t}\n\t\treturn queryField;\n\t});\n\tif (props.searchOperators || props.queryString) {\n\t\treturn {\n\t\t\tquery: value,\n\t\t\tfields: fields,\n\t\t\tdefault_operator: props.queryFormat\n\t\t};\n\t}\n\n\tif (props.queryFormat === 'and') {\n\t\tfinalQuery.push({\n\t\t\tmulti_match: {\n\t\t\t\tquery: value,\n\t\t\t\tfields: fields,\n\t\t\t\ttype: 'cross_fields',\n\t\t\t\toperator: 'and'\n\t\t\t}\n\t\t});\n\t\tfinalQuery.push({\n\t\t\tmulti_match: {\n\t\t\t\tquery: value,\n\t\t\t\tfields: fields,\n\t\t\t\ttype: 'phrase',\n\t\t\t\toperator: 'and'\n\t\t\t}\n\t\t});\n\t\tif (phrasePrefixFields.length > 0) {\n\t\t\tfinalQuery.push({\n\t\t\t\tmulti_match: {\n\t\t\t\t\tquery: value,\n\t\t\t\t\tfields: phrasePrefixFields,\n\t\t\t\t\ttype: 'phrase_prefix',\n\t\t\t\t\toperator: 'and'\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn finalQuery;\n\t}\n\n\tfinalQuery.push({\n\t\tmulti_match: {\n\t\t\tquery: value,\n\t\t\tfields: fields,\n\t\t\ttype: 'best_fields',\n\t\t\toperator: 'or',\n\t\t\tfuzziness: props.fuzziness ? props.fuzziness : 0\n\t\t}\n\t});\n\n\tfinalQuery.push({\n\t\tmulti_match: {\n\t\t\tquery: value,\n\t\t\tfields: fields,\n\t\t\ttype: 'phrase',\n\t\t\toperator: 'or'\n\t\t}\n\t});\n\n\tif (phrasePrefixFields.length > 0) {\n\t\tfinalQuery.push({\n\t\t\tmulti_match: {\n\t\t\t\tquery: value,\n\t\t\t\tfields: phrasePrefixFields,\n\t\t\t\ttype: 'phrase_prefix',\n\t\t\t\toperator: 'or'\n\t\t\t}\n\t\t});\n\t}\n\treturn finalQuery;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this4 = this;\n\n\tthis.getAggsQuery = function (field) {\n\t\tvar _aggs;\n\n\t\treturn {\n\t\t\taggs: (_aggs = {}, _aggs[field] = {\n\t\t\t\tterms: {\n\t\t\t\t\tfield: field\n\t\t\t\t}\n\t\t\t}, _aggs)\n\t\t};\n\t};\n\n\tthis.getCombinedAggsQuery = function () {\n\t\tvar _props7 = _this4.props,\n\t\t    categoryField = _props7.categoryField,\n\t\t    aggregationField = _props7.aggregationField;\n\n\t\tvar aggsQuery = _this4.getAggsQuery(categoryField);\n\t\tif (aggregationField) {\n\t\t\tvar compositeAggsQuery = (0, _helper.getCompositeAggsQuery)({\n\t\t\t\tvalue: null,\n\t\t\t\tprops: _this4.props,\n\t\t\t\tshowTopHits: true\n\t\t\t});\n\t\t\taggsQuery.aggs = _extends({}, aggsQuery.aggs, compositeAggsQuery.aggs);\n\t\t}\n\t\treturn aggsQuery;\n\t};\n\n\tthis.onSuggestions = function (searchResults) {\n\t\treturn (0, _helper.handleOnSuggestions)(searchResults, _this4.state.currentValue, _this4.props);\n\t};\n\n\tthis.setValue = function (value) {\n\t\tvar isDefaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\tvar props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this4.props;\n\t\tvar category = arguments[3];\n\t\tvar cause = arguments[4];\n\t\tvar hasMounted = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n\t\tvar toggleIsOpen = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : true;\n\n\t\tvar performUpdate = function performUpdate() {\n\t\t\tif (hasMounted) {\n\t\t\t\tvar _props8 = _this4.props,\n\t\t\t\t    enableRecentSearches = _props8.enableRecentSearches,\n\t\t\t\t    fetchRecentSearches = _props8.fetchRecentSearches;\n\t\t\t\t// Refresh recent searches when value becomes empty\n\n\t\t\t\tif (!value && _this4.state.currentValue && enableRecentSearches) {\n\t\t\t\t\tfetchRecentSearches();\n\t\t\t\t}\n\t\t\t\t_this4.setState({\n\t\t\t\t\tcurrentValue: value || '',\n\t\t\t\t\tcurrentCategory: category || null\n\t\t\t\t}, function () {\n\t\t\t\t\tif (isDefaultValue) {\n\t\t\t\t\t\tif (_this4.props.autosuggest) {\n\t\t\t\t\t\t\tif (toggleIsOpen) {\n\t\t\t\t\t\t\t\t_this4.setState({\n\t\t\t\t\t\t\t\t\tisOpen: false\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_this4.updateDefaultQuery(value, props);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// in case of strict selection only SUGGESTION_SELECT should be able\n\t\t\t\t\t\t// to set the query otherwise the value should reset\n\t\t\t\t\t\tif (props.strictSelection) {\n\t\t\t\t\t\t\tif (cause === _causes2.default.SUGGESTION_SELECT || value === '') {\n\t\t\t\t\t\t\t\t_this4.updateQuery(value, props, category);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_this4.setValue('', true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this4.updateQuery(value, props, category);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// debounce for handling text while typing\n\t\t\t\t\t\t_this4.handleTextChange(value);\n\t\t\t\t\t}\n\t\t\t\t\tif (props.onValueChange) props.onValueChange(value);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t_this4.updateDefaultQuery(value, props);\n\t\t\t\t_this4.updateQuery(value, props, category);\n\t\t\t\tif (props.onValueChange) props.onValueChange(value);\n\t\t\t}\n\t\t};\n\t\t(0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n\t};\n\n\tthis.handleTextChange = (0, _helper.debounce)(function (value) {\n\t\tif (_this4.props.autosuggest) {\n\t\t\t_this4.updateDefaultQuery(value, _this4.props);\n\t\t} else {\n\t\t\t_this4.updateQuery(value, _this4.props);\n\t\t}\n\t}, this.props.debounce);\n\n\tthis.updateDefaultQuery = function (value, props) {\n\t\tvar category = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this4.state.currentCategory;\n\t\tvar defaultQuery = props.defaultQuery;\n\n\t\tvar defaultQueryOptions = void 0;\n\t\tvar query = CategorySearch.defaultQuery(value, props, category);\n\t\tif (defaultQuery) {\n\t\t\tvar defaultQueryTobeSet = defaultQuery(value, props, category) || {};\n\t\t\tif (defaultQueryTobeSet.query) {\n\t\t\t\tquery = defaultQueryTobeSet.query;\n\t\t\t}\n\t\t\tdefaultQueryOptions = (0, _helper.getOptionsFromQuery)(defaultQueryTobeSet);\n\t\t\t// Update calculated default query in store\n\t\t\t(0, _helper.updateDefaultQuery)(props.componentId, props, value);\n\t\t}\n\t\tprops.setSuggestionsSearchValue(value);\n\t\tvar aggsQuery = _this4.getCombinedAggsQuery();\n\t\tprops.setQueryOptions(_this4.internalComponent, _extends({}, _this4.queryOptions, aggsQuery, defaultQueryOptions));\n\t\tprops.updateQuery({\n\t\t\tcomponentId: _this4.internalComponent,\n\t\t\tquery: query,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t\tcomponentType: _constants.componentTypes.categorySearch\n\t\t});\n\t};\n\n\tthis.updateQuery = function (value, props) {\n\t\tvar category = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this4.state.currentCategory;\n\t\tvar customQuery = props.customQuery,\n\t\t    filterLabel = props.filterLabel,\n\t\t    showFilter = props.showFilter,\n\t\t    URLParams = props.URLParams;\n\n\n\t\tvar customQueryOptions = void 0;\n\t\tvar query = CategorySearch.defaultQuery(value, props, category);\n\t\tif (customQuery) {\n\t\t\tvar customQueryTobeSet = customQuery(value, props, category) || {};\n\t\t\tif (customQueryTobeSet.query) {\n\t\t\t\tquery = customQueryTobeSet.query;\n\t\t\t}\n\t\t\tcustomQueryOptions = (0, _helper.getOptionsFromQuery)(customQueryTobeSet);\n\t\t\t(0, _helper.updateCustomQuery)(props.componentId, props, value);\n\t\t}\n\n\t\tif (!_this4.isPending) {\n\t\t\t// execute the query on an uncontrolled component\n\t\t\t// query options should be applied to the source component,\n\t\t\t// not on internal component, hence using `this.props.componentId` here\n\t\t\tprops.setQueryOptions(props.componentId, _extends({}, _this4.queryOptions, customQueryOptions), false);\n\t\t\tprops.updateQuery({\n\t\t\t\tcomponentId: props.componentId,\n\t\t\t\tquery: query,\n\t\t\t\tvalue: value,\n\t\t\t\tlabel: filterLabel,\n\t\t\t\tshowFilter: showFilter,\n\t\t\t\tURLParams: URLParams,\n\t\t\t\tcomponentType: _constants.componentTypes.categorySearch,\n\t\t\t\tcategory: category\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.handleFocus = function (event) {\n\t\t_this4.setState({\n\t\t\tisOpen: true\n\t\t});\n\t\tif (_this4.props.onFocus) {\n\t\t\t_this4.props.onFocus(event, _this4.triggerQuery);\n\t\t}\n\t};\n\n\tthis.clearValue = function () {\n\t\t_this4.isPending = false;\n\t\t_this4.setValue('', true);\n\t\t_this4.onValueSelected('', _causes2.default.CLEAR_VALUE, null);\n\t};\n\n\tthis.handleKeyDown = function (event, highlightedIndex) {\n\t\tvar _props9 = _this4.props,\n\t\t    value = _props9.value,\n\t\t    onChange = _props9.onChange;\n\n\t\tif (value !== undefined && onChange) {\n\t\t\t_this4.isPending = true;\n\t\t}\n\t\t// if a suggestion was selected, delegate the handling to suggestion handler\n\t\tif (event.key === 'Enter' && highlightedIndex === null) {\n\t\t\t_this4.setValue(event.target.value, true);\n\t\t\tvar currentValue = {\n\t\t\t\tterm: event.target.value,\n\t\t\t\tcategory: null\n\t\t\t};\n\t\t\t_this4.onValueSelected(currentValue, _causes2.default.ENTER_PRESS);\n\t\t}\n\t\tif (_this4.props.onKeyDown) {\n\t\t\t_this4.props.onKeyDown(event, _this4.triggerQuery);\n\t\t}\n\t};\n\n\tthis.onInputChange = function (e) {\n\t\tvar inputValue = e.target.value;\n\n\t\tif (!_this4.state.isOpen) {\n\t\t\t_this4.setState({\n\t\t\t\tisOpen: true\n\t\t\t});\n\t\t}\n\n\t\tvar _props10 = _this4.props,\n\t\t    value = _props10.value,\n\t\t    onChange = _props10.onChange;\n\n\t\tif (value === undefined) {\n\t\t\t_this4.setValue(inputValue);\n\t\t} else if (onChange) {\n\t\t\t_this4.isPending = true;\n\t\t\tvar currentValue = {\n\t\t\t\tterm: inputValue\n\t\t\t\t// category: null,\n\t\t\t};\n\t\t\t// handle caret position in controlled components\n\t\t\t(0, _utils.handleCaretPosition)(e);\n\t\t\tonChange(currentValue, function () {\n\t\t\t\treturn _this4.triggerQuery(currentValue);\n\t\t\t}, e);\n\t\t} else {\n\t\t\t_this4.setValue(inputValue);\n\t\t}\n\t};\n\n\tthis.triggerQuery = function (value) {\n\t\tvar currentValue = value.term,\n\t\t    _value$category2 = value.category,\n\t\t    currentCategory = _value$category2 === undefined ? null : _value$category2,\n\t\t    _value$isOpen = value.isOpen,\n\t\t    isOpen = _value$isOpen === undefined ? false : _value$isOpen;\n\n\t\t_this4.isPending = false;\n\t\t_this4.setValue(currentValue, !isOpen, _this4.props, currentCategory);\n\t};\n\n\tthis.onSuggestionSelected = function (suggestion) {\n\t\tvar _props11 = _this4.props,\n\t\t    value = _props11.value,\n\t\t    onChange = _props11.onChange;\n\n\t\tvar currentValue = {\n\t\t\tterm: suggestion.value,\n\t\t\tcategory: suggestion.category || null\n\t\t};\n\t\t_this4.setState({\n\t\t\tisOpen: false\n\t\t});\n\t\tif (value === undefined) {\n\t\t\t_this4.setValue(currentValue.term, true, _this4.props, currentValue.category, _causes2.default.SUGGESTION_SELECT);\n\t\t} else if (onChange) {\n\t\t\t_this4.isPending = false;\n\t\t\tonChange(currentValue, function () {\n\t\t\t\treturn _this4.triggerQuery(currentValue);\n\t\t\t});\n\t\t}\n\t\t// Record analytics for selected suggestions\n\t\t_this4.triggerClickAnalytics(suggestion._click_id);\n\t\t// onValueSelected is user interaction driven:\n\t\t// it should be triggered irrespective of controlled (or)\n\t\t// uncontrolled component behavior\n\t\t_this4.onValueSelected(currentValue, _causes2.default.SUGGESTION_SELECT, suggestion.source);\n\t};\n\n\tthis.onValueSelected = function (selectedValue, cause, source) {\n\t\tvar onValueSelected = _this4.props.onValueSelected;\n\n\t\tif (onValueSelected) {\n\t\t\tonValueSelected(selectedValue, cause, source);\n\t\t}\n\t};\n\n\tthis.handleStateChange = function (changes) {\n\t\tvar isOpen = changes.isOpen,\n\t\t    type = changes.type;\n\n\t\tif (type === _downshift2.default.stateChangeTypes.mouseUp && isOpen !== undefined) {\n\t\t\t_this4.setState({\n\t\t\t\tisOpen: isOpen\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.getBackgroundColor = function (highlightedIndex, index) {\n\t\tvar isDark = _this4.props.themePreset === 'dark';\n\t\tif (isDark) {\n\t\t\treturn highlightedIndex === index ? '#555' : '#424242';\n\t\t}\n\t\treturn highlightedIndex === index ? '#eee' : '#fff';\n\t};\n\n\tthis.handleSearchIconClick = function () {\n\t\tvar currentValue = _this4.state.currentValue;\n\n\t\tif (currentValue.trim()) {\n\t\t\t_this4.isPending = false;\n\t\t\t_this4.setValue(currentValue, true);\n\t\t\t_this4.onValueSelected(currentValue, _causes2.default.SEARCH_ICON_CLICK);\n\t\t}\n\t};\n\n\tthis.handleVoiceResults = function (_ref2) {\n\t\tvar results = _ref2.results;\n\n\t\tif (results && results[0] && results[0].isFinal && results[0][0] && results[0][0].transcript && results[0][0].transcript.trim()) {\n\t\t\t_this4.isPending = false;\n\t\t\t_this4.setValue(results[0][0].transcript.trim(), true);\n\t\t}\n\t};\n\n\tthis.renderInputAddonBefore = function () {\n\t\tvar addonBefore = _this4.props.addonBefore;\n\n\t\tif (addonBefore) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_InputAddon2.default,\n\t\t\t\tnull,\n\t\t\t\taddonBefore\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tthis.renderInputAddonAfter = function () {\n\t\tvar addonAfter = _this4.props.addonAfter;\n\n\t\tif (addonAfter) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_InputAddon2.default,\n\t\t\t\tnull,\n\t\t\t\taddonAfter\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tthis.renderIcon = function () {\n\t\tif (_this4.props.showIcon) {\n\t\t\treturn _this4.props.icon || (0, _core.jsx)(_SearchSvg2.default, null);\n\t\t}\n\t\treturn null;\n\t};\n\n\tthis.renderCancelIcon = function () {\n\t\tif (_this4.props.showClear) {\n\t\t\treturn _this4.props.clearIcon || (0, _core.jsx)(_CancelSvg2.default, null);\n\t\t}\n\t\treturn null;\n\t};\n\n\tthis.renderIcons = function () {\n\t\tvar _props12 = _this4.props,\n\t\t    showIcon = _props12.showIcon,\n\t\t    showClear = _props12.showClear,\n\t\t    renderMic = _props12.renderMic,\n\t\t    getMicInstance = _props12.getMicInstance,\n\t\t    showVoiceSearch = _props12.showVoiceSearch,\n\t\t    iconPosition = _props12.iconPosition,\n\t\t    innerClass = _props12.innerClass;\n\n\n\t\treturn (0, _core.jsx)(\n\t\t\t'div',\n\t\t\tnull,\n\t\t\t(0, _core.jsx)(\n\t\t\t\t_IconGroup2.default,\n\t\t\t\t{ groupPosition: 'right', positionType: 'absolute' },\n\t\t\t\t_this4.state.currentValue && showClear && (0, _core.jsx)(\n\t\t\t\t\t_IconWrapper2.default,\n\t\t\t\t\t{ onClick: _this4.clearValue, showIcon: showIcon, isClearIcon: true },\n\t\t\t\t\t_this4.renderCancelIcon()\n\t\t\t\t),\n\t\t\t\t_this4.shouldMicRender(showVoiceSearch) && (0, _core.jsx)(_Mic2.default, {\n\t\t\t\t\tgetInstance: getMicInstance,\n\t\t\t\t\trender: renderMic,\n\t\t\t\t\tonResult: _this4.handleVoiceResults,\n\t\t\t\t\tclassName: (0, _helper.getClassName)(innerClass, 'mic') || null\n\t\t\t\t}),\n\t\t\t\ticonPosition === 'right' && (0, _core.jsx)(\n\t\t\t\t\t_IconWrapper2.default,\n\t\t\t\t\t{ onClick: _this4.handleSearchIconClick },\n\t\t\t\t\t_this4.renderIcon()\n\t\t\t\t)\n\t\t\t),\n\t\t\t(0, _core.jsx)(\n\t\t\t\t_IconGroup2.default,\n\t\t\t\t{ groupPosition: 'left', positionType: 'absolute' },\n\t\t\t\ticonPosition === 'left' && (0, _core.jsx)(\n\t\t\t\t\t_IconWrapper2.default,\n\t\t\t\t\t{ onClick: _this4.handleSearchIconClick },\n\t\t\t\t\t_this4.renderIcon()\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\tthis.renderNoSuggestion = function () {\n\t\tvar finalSuggestionsList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t\tvar _props13 = _this4.props,\n\t\t    themePreset = _props13.themePreset,\n\t\t    theme = _props13.theme,\n\t\t    isLoading = _props13.isLoading,\n\t\t    renderNoSuggestion = _props13.renderNoSuggestion,\n\t\t    innerClass = _props13.innerClass,\n\t\t    renderError = _props13.renderError,\n\t\t    error = _props13.error;\n\t\tvar _state = _this4.state,\n\t\t    isOpen = _state.isOpen,\n\t\t    currentValue = _state.currentValue;\n\n\t\tif (renderNoSuggestion && isOpen && !finalSuggestionsList.length && !isLoading && currentValue && !(renderError && error)) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_SuggestionWrapper2.default,\n\t\t\t\t{\n\t\t\t\t\tinnerClass: innerClass,\n\t\t\t\t\tthemePreset: themePreset,\n\t\t\t\t\ttheme: theme,\n\t\t\t\t\tinnerClassName: 'noSuggestion'\n\t\t\t\t},\n\t\t\t\ttypeof renderNoSuggestion === 'function' ? renderNoSuggestion(currentValue) : renderNoSuggestion\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t};\n\n\tthis.renderLoader = function () {\n\t\tvar _props14 = _this4.props,\n\t\t    loader = _props14.loader,\n\t\t    isLoading = _props14.isLoading,\n\t\t    themePreset = _props14.themePreset,\n\t\t    theme = _props14.theme,\n\t\t    innerClass = _props14.innerClass;\n\t\tvar currentValue = _this4.state.currentValue;\n\n\t\tif (isLoading && loader && currentValue) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_SuggestionWrapper2.default,\n\t\t\t\t{\n\t\t\t\t\tinnerClass: innerClass,\n\t\t\t\t\tinnerClassName: 'loader',\n\t\t\t\t\ttheme: theme,\n\t\t\t\t\tthemePreset: themePreset\n\t\t\t\t},\n\t\t\t\tloader\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t};\n\n\tthis.renderError = function () {\n\t\tvar _props15 = _this4.props,\n\t\t    error = _props15.error,\n\t\t    renderError = _props15.renderError,\n\t\t    themePreset = _props15.themePreset,\n\t\t    theme = _props15.theme,\n\t\t    isLoading = _props15.isLoading,\n\t\t    innerClass = _props15.innerClass;\n\t\tvar currentValue = _this4.state.currentValue;\n\n\t\tif (error && renderError && currentValue && !isLoading) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_SuggestionWrapper2.default,\n\t\t\t\t{\n\t\t\t\t\tinnerClass: innerClass,\n\t\t\t\t\tinnerClassName: 'error',\n\t\t\t\t\ttheme: theme,\n\t\t\t\t\tthemePreset: themePreset\n\t\t\t\t},\n\t\t\t\t(0, _helper.isFunction)(renderError) ? renderError(error) : renderError\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t};\n\n\tthis.getComponent = function () {\n\t\tvar downshiftProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\tvar isQuerySuggestionsRender = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\tvar _props16 = _this4.props,\n\t\t    error = _props16.error,\n\t\t    isLoading = _props16.isLoading,\n\t\t    aggregationData = _props16.aggregationData,\n\t\t    promotedResults = _props16.promotedResults,\n\t\t    customData = _props16.customData,\n\t\t    rawData = _props16.rawData;\n\t\tvar currentValue = _this4.state.currentValue;\n\n\t\tvar data = {\n\t\t\terror: error,\n\t\t\tloading: isLoading,\n\t\t\tdownshiftProps: downshiftProps,\n\t\t\tdata: _this4.parsedSuggestions,\n\t\t\tpromotedData: promotedResults || [],\n\t\t\tcustomData: customData || {},\n\t\t\trawData: rawData,\n\t\t\taggregationData: aggregationData || [],\n\t\t\tvalue: currentValue,\n\t\t\tsuggestions: _this4.state.suggestions,\n\t\t\trawSuggestions: _this4.props.suggestions || [],\n\t\t\tcategories: _this4.filteredCategories,\n\t\t\trawCategories: _this4.props.categories,\n\t\t\ttriggerClickAnalytics: _this4.triggerClickAnalytics,\n\t\t\tresultStats: _this4.stats,\n\t\t\t// TODO: Remove in v4\n\t\t\tquerySuggestions: _this4.normalizedPopularSuggestions,\n\t\t\tpopularSuggestions: _this4.normalizedPopularSuggestions,\n\t\t\trecentSearches: _this4.normalizedRecentSearches\n\t\t};\n\t\tif (isQuerySuggestionsRender) {\n\t\t\treturn (0, _utils.getPopularSuggestionsComponent)({\n\t\t\t\tdownshiftProps: downshiftProps,\n\t\t\t\tdata: _this4.normalizedPopularSuggestions,\n\t\t\t\tvalue: currentValue,\n\t\t\t\tloading: isLoading,\n\t\t\t\terror: error\n\t\t\t}, _this4.props);\n\t\t}\n\t\treturn (0, _helper.getComponent)(data, _this4.props);\n\t};\n\n\tthis.triggerClickAnalytics = function (searchPosition, documentId) {\n\t\tvar docId = documentId;\n\t\tif (!docId) {\n\t\t\tvar hitData = _this4.parsedSuggestions.find(function (hit) {\n\t\t\t\treturn hit._click_id === searchPosition;\n\t\t\t});\n\t\t\tif (hitData && hitData.source && hitData.source._id) {\n\t\t\t\tdocId = hitData.source._id;\n\t\t\t}\n\t\t}\n\t\t_this4.props.triggerAnalytics(searchPosition, docId);\n\t};\n\n\tthis.withTriggerQuery = function (func) {\n\t\tif (func) {\n\t\t\treturn function (e) {\n\t\t\t\treturn func(e, function () {\n\t\t\t\t\treturn _this4.triggerQuery(_this4.props.value);\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t};\n\n\tthis.focusSearchBox = function (event) {\n\t\tvar elt = event.target || event.srcElement;\n\t\tvar tagName = elt.tagName;\n\t\tif (elt.isContentEditable || tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA') {\n\t\t\t// already in an input\n\t\t\treturn;\n\t\t}\n\t\tif (_this4._inputRef) {\n\t\t\t_this4._inputRef.focus();\n\t\t}\n\t};\n\n\tthis.listenForFocusShortcuts = function () {\n\t\tvar focusShortcuts = _this4.props.focusShortcuts;\n\n\t\tif ((0, _utils.isEmpty)(focusShortcuts)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// for single press keys (a-z, A-Z) &, hotkeys' combinations such as 'cmd+k', 'ctrl+shft+a', etc\n\t\t(0, _hotkeysJs2.default)((0, _utils.parseFocusShortcuts)(focusShortcuts).join(','),\n\t\t/* eslint-disable no-shadow */\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tfunction (event, handler) {\n\t\t\t// Prevent the default refresh event under WINDOWS system\n\t\t\tevent.preventDefault();\n\t\t\t_this4.focusSearchBox(event);\n\t\t});\n\n\t\t// if one of modifier keys are used, they are handled below\n\t\t(0, _hotkeysJs2.default)('*', function (event) {\n\t\t\tvar modifierKeys = (0, _utils.extractModifierKeysFromFocusShortcuts)(focusShortcuts);\n\n\t\t\tif (modifierKeys.length === 0) return;\n\n\t\t\tfor (var index = 0; index < modifierKeys.length; index += 1) {\n\t\t\t\tvar element = modifierKeys[index];\n\t\t\t\tif (_hotkeysJs2.default[element]) {\n\t\t\t\t\t_this4.focusSearchBox(event);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n};\n\nCategorySearch.propTypes = {\n\tsetQueryOptions: _types2.default.funcRequired,\n\tupdateQuery: _types2.default.funcRequired,\n\tsetSuggestionsSearchValue: _types2.default.funcRequired,\n\tfetchPopularSuggestions: _types2.default.funcRequired,\n\tdefaultPopularSuggestions: _types2.default.suggestions,\n\toptions: _types2.default.options,\n\tcategories: _types2.default.data,\n\trawData: _types2.default.rawData,\n\tpromotedResults: _types2.default.hits,\n\tcustomData: _types2.default.title,\n\tselectedValue: _types2.default.selectedValue,\n\tselectedCategory: _types2.default.selectedValue,\n\tsuggestions: _types2.default.suggestions,\n\taggregationData: _types2.default.aggregationData,\n\tisLoading: _types2.default.bool,\n\tenableAppbase: _types2.default.bool,\n\ttriggerAnalytics: _types2.default.funcRequired,\n\tsetCustomQuery: _types2.default.funcRequired,\n\tsetDefaultQuery: _types2.default.funcRequired,\n\ttime: _types2.default.number,\n\tsetCustomHighlightOptions: _types2.default.funcRequired,\n\tfetchRecentSearches: _types2.default.funcRequired,\n\trecentSearches: _types2.default.suggestions,\n\t// eslint-disable-next-line\n\terror: _types2.default.any,\n\t// component props\n\tautoFocus: _types2.default.bool,\n\tautosuggest: _types2.default.bool,\n\tenableSynonyms: _types2.default.bool,\n\tenableQuerySuggestions: _types2.default.bool,\n\tdistinctField: _types2.default.string,\n\tdistinctFieldConfig: _types2.default.componentObject,\n\tindex: _types2.default.string,\n\t// TODO: Remove in v4\n\tenablePopularSuggestions: _types2.default.bool,\n\tenableRecentSearches: _types2.default.bool,\n\tqueryString: _types2.default.bool,\n\tbeforeValueChange: _types2.default.func,\n\tcategoryField: _types2.default.string,\n\tclassName: _types2.default.string,\n\tclearIcon: _types2.default.children,\n\tcomponentId: _types2.default.stringRequired,\n\tcustomHighlight: _types2.default.func,\n\tcustomQuery: _types2.default.func,\n\tdefaultQuery: _types2.default.func,\n\tdataField: _types2.default.dataFieldValidator,\n\taggregationField: _types2.default.string,\n\taggregationSize: _types2.default.number,\n\tsize: _types2.default.number,\n\tdebounce: _types2.default.number,\n\tdefaultValue: _types2.default.categorySearchValue,\n\tvalue: _types2.default.categorySearchValue,\n\tdefaultSuggestions: _types2.default.suggestions,\n\tdownShiftProps: _types2.default.props,\n\texcludeFields: _types2.default.excludeFields,\n\tfieldWeights: _types2.default.fieldWeights,\n\tfilterLabel: _types2.default.string,\n\tfuzziness: _types2.default.fuzziness,\n\thighlight: _types2.default.bool,\n\thighlightField: _types2.default.stringOrArray,\n\ticon: _types2.default.children,\n\ticonPosition: _types2.default.iconPosition,\n\tincludeFields: _types2.default.includeFields,\n\tinnerClass: _types2.default.style,\n\tloader: _types2.default.title,\n\tnestedField: _types2.default.string,\n\tonError: _types2.default.func,\n\tonBlur: _types2.default.func,\n\tonFocus: _types2.default.func,\n\tonKeyDown: _types2.default.func,\n\tonKeyPress: _types2.default.func,\n\tonKeyUp: _types2.default.func,\n\tonQueryChange: _types2.default.func,\n\tonSuggestions: _types2.default.func,\n\tonValueChange: _types2.default.func,\n\tonChange: _types2.default.func,\n\tonValueSelected: _types2.default.func,\n\tplaceholder: _types2.default.string,\n\tqueryFormat: _types2.default.queryFormatSearch,\n\tpopularSuggestions: _types2.default.hits,\n\treact: _types2.default.react,\n\trenderError: _types2.default.title,\n\thighlightConfig: _types2.default.componentObject,\n\t// TODO: Remove in v4\n\trenderQuerySuggestions: _types2.default.func,\n\trenderPopularSuggestions: _types2.default.func,\n\tparseSuggestion: _types2.default.func,\n\trenderNoSuggestion: _types2.default.title,\n\tshowClear: _types2.default.bool,\n\tshowFilter: _types2.default.bool,\n\tshowVoiceSearch: _types2.default.bool,\n\tshowDistinctSuggestions: _types2.default.bool,\n\tshowIcon: _types2.default.bool,\n\tstyle: _types2.default.style,\n\ttitle: _types2.default.title,\n\ttheme: _types2.default.style,\n\tthemePreset: _types2.default.themePreset,\n\tURLParams: _types2.default.bool,\n\tstrictSelection: _types2.default.bool,\n\tsearchOperators: _types2.default.bool,\n\trecentSearchesIcon: _types2.default.componentObject,\n\tpopularSearchesIcon: _types2.default.componentObject,\n\t// Mic props\n\tgetMicInstance: _types2.default.func,\n\trenderMic: _types2.default.func,\n\tenablePredictiveSuggestions: _types2.default.bool,\n\t//\n\tfocusShortcuts: _types2.default.focusShortcuts,\n\taddonBefore: _types2.default.children,\n\taddonAfter: _types2.default.children,\n\texpandSuggestionsContainer: _types2.default.bool,\n\tendpoint: _types2.default.endpoint\n};\n\nCategorySearch.defaultProps = {\n\tautosuggest: true,\n\tclassName: null,\n\tdebounce: 0,\n\tdownShiftProps: {},\n\tenableSynonyms: true,\n\tenablePopularSuggestions: false,\n\texcludeFields: [],\n\ticonPosition: 'left',\n\tincludeFields: ['*'],\n\tplaceholder: 'Search',\n\tqueryFormat: 'or',\n\tshowClear: false,\n\tshowFilter: true,\n\tshowIcon: true,\n\tstyle: {},\n\tURLParams: false,\n\tstrictSelection: false,\n\tsearchOperators: false,\n\tshowVoiceSearch: false,\n\tshowDistinctSuggestions: true,\n\tsize: 10,\n\tdefaultPopularSuggestions: [],\n\trecentSearches: [],\n\ttime: 0,\n\tenablePredictiveSuggestions: false,\n\tautoFocus: false,\n\tfocusShortcuts: ['/'],\n\taddonBefore: undefined,\n\taddonAfter: undefined,\n\texpandSuggestionsContainer: true\n};\n\n// Add componentType for SSR\nCategorySearch.componentType = _constants.componentTypes.categorySearch;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\treturn {\n\t\tcategories: state.aggregations[props.componentId] && state.aggregations[props.componentId][props.categoryField] && state.aggregations[props.componentId][props.categoryField].buckets || [],\n\t\trawData: state.rawData[props.componentId],\n\t\tselectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n\t\tselectedCategory: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].category || null,\n\t\tsuggestions: state.hits[props.componentId] && state.hits[props.componentId].hits || [],\n\t\taggregationData: state.compositeAggregations[props.componentId] || [],\n\t\tthemePreset: state.config.themePreset,\n\t\tisLoading: !!state.isLoading[props.componentId + '_active'],\n\t\terror: state.error[props.componentId],\n\t\tenableAppbase: state.config.enableAppbase,\n\t\tpromotedResults: state.promotedResults[props.componentId],\n\t\tcustomData: state.customData[props.componentId],\n\t\ttime: state.hits[props.componentId] && state.hits[props.componentId].time,\n\t\ttotal: state.hits[props.componentId] && state.hits[props.componentId].total,\n\t\thidden: state.hits[props.componentId] && state.hits[props.componentId].hidden,\n\t\tdefaultPopularSuggestions: state.defaultPopularSuggestions[props.componentId],\n\t\tpopularSuggestions: state.querySuggestions[props.componentId],\n\t\trecentSearches: state.recentSearches.data\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\tsetCustomHighlightOptions: function setCustomHighlightOptions(component, options) {\n\t\t\treturn dispatch((0, _actions.setCustomHighlightOptions)(component, options));\n\t\t},\n\t\tsetCustomQuery: function setCustomQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setCustomQuery)(component, query));\n\t\t},\n\t\tsetDefaultQuery: function setDefaultQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setDefaultQuery)(component, query));\n\t\t},\n\t\tsetSuggestionsSearchValue: function setSuggestionsSearchValue(value) {\n\t\t\treturn dispatch((0, _actions.setSuggestionsSearchValue)(value));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions() {\n\t\t\treturn dispatch(_actions.setQueryOptions.apply(undefined, arguments));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject));\n\t\t},\n\t\ttriggerAnalytics: function triggerAnalytics(searchPosition, documentId) {\n\t\t\treturn dispatch((0, _actions.recordSuggestionClick)(searchPosition, documentId));\n\t\t},\n\t\tfetchPopularSuggestions: function fetchPopularSuggestions(component) {\n\t\t\treturn dispatch((0, _actions.loadPopularSuggestions)(component));\n\t\t},\n\t\tfetchRecentSearches: function fetchRecentSearches(queryOptions) {\n\t\t\treturn dispatch((0, _actions.getRecentSearches)(queryOptions));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)((0, _emotionTheming.withTheme)(function (props) {\n\treturn (0, _core.jsx)(CategorySearch, _extends({ ref: props.myForwardedRef }, props));\n}));\n\n// eslint-disable-next-line\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n\treturn (0, _core.jsx)(\n\t\t_PreferencesConsumer2.default,\n\t\t{ userProps: props },\n\t\tfunction (preferenceProps) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_ComponentWrapper2.default,\n\t\t\t\t_extends({}, preferenceProps, {\n\t\t\t\t\tinternalComponent: true,\n\t\t\t\t\tcomponentType: _constants.componentTypes.categorySearch\n\t\t\t\t}),\n\t\t\t\tfunction (componentProps) {\n\t\t\t\t\treturn (0, _core.jsx)(ConnectedComponent, _extends({}, preferenceProps, componentProps, {\n\t\t\t\t\t\tmyForwardedRef: ref\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n});\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, CategorySearch);\n\nForwardRefComponent.displayName = 'CategorySearch';\nexports.default = ForwardRefComponent;"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;;AAEA,IAAIC,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;IAAE,IAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;IAA2B,KAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;MAAE,IAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;QAAEL,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;MAA4B;IAAE;EAAE;;EAAC,OAAOL,MAAP;AAAgB,CAAhQ;;AAEA,IAAIS,YAAY,GAAG,YAAY;EAAE,SAASC,gBAAT,CAA0BV,MAA1B,EAAkCW,KAAlC,EAAyC;IAAE,KAAK,IAAIV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGU,KAAK,CAACR,MAA1B,EAAkCF,CAAC,EAAnC,EAAuC;MAAE,IAAIW,UAAU,GAAGD,KAAK,CAACV,CAAD,CAAtB;MAA2BW,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;MAAwDD,UAAU,CAACE,YAAX,GAA0B,IAA1B;MAAgC,IAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;MAA4BjB,MAAM,CAACkB,cAAP,CAAsBhB,MAAtB,EAA8BY,UAAU,CAACP,GAAzC,EAA8CO,UAA9C;IAA4D;EAAE;;EAAC,OAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;IAAE,IAAID,UAAJ,EAAgBR,gBAAgB,CAACO,WAAW,CAACX,SAAb,EAAwBY,UAAxB,CAAhB;IAAqD,IAAIC,WAAJ,EAAiBT,gBAAgB,CAACO,WAAD,EAAcE,WAAd,CAAhB;IAA4C,OAAOF,WAAP;EAAqB,CAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAIG,KAAK,GAAGC,OAAO,CAAC,eAAD,CAAnB;;AAEA,IAAIC,MAAM,GAAGD,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIE,OAAO,GAAGC,sBAAsB,CAACF,MAAD,CAApC;;AAEA,IAAIG,UAAU,GAAGJ,OAAO,CAAC,WAAD,CAAxB;;AAEA,IAAIK,WAAW,GAAGF,sBAAsB,CAACC,UAAD,CAAxC;;AAEA,IAAIE,eAAe,GAAGN,OAAO,CAAC,iBAAD,CAA7B;;AAEA,IAAIO,qBAAqB,GAAGP,OAAO,CAAC,yBAAD,CAAnC;;AAEA,IAAIQ,sBAAsB,GAAGL,sBAAsB,CAACI,qBAAD,CAAnD;;AAEA,IAAIE,QAAQ,GAAGT,OAAO,CAAC,qCAAD,CAAtB;;AAEA,IAAIU,OAAO,GAAGV,OAAO,CAAC,0CAAD,CAArB;;AAEA,IAAIW,UAAU,GAAGX,OAAO,CAAC,6CAAD,CAAxB;;AAEA,IAAIY,UAAU,GAAGZ,OAAO,CAAC,6CAAD,CAAxB;;AAEA,IAAIa,MAAM,GAAGb,OAAO,CAAC,yCAAD,CAApB;;AAEA,IAAIc,OAAO,GAAGX,sBAAsB,CAACU,MAAD,CAApC;;AAEA,IAAIE,OAAO,GAAGf,OAAO,CAAC,0CAAD,CAArB;;AAEA,IAAIgB,QAAQ,GAAGb,sBAAsB,CAACY,OAAD,CAArC;;AAEA,IAAIE,UAAU,GAAGjB,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIkB,WAAW,GAAGf,sBAAsB,CAACc,UAAD,CAAxC;;AAEA,IAAIE,MAAM,GAAGnB,OAAO,CAAC,oBAAD,CAApB;;AAEA,IAAIoB,OAAO,GAAGjB,sBAAsB,CAACgB,MAAD,CAApC;;AAEA,IAAIE,WAAW,GAAGrB,OAAO,CAAC,yBAAD,CAAzB;;AAEA,IAAIsB,YAAY,GAAGnB,sBAAsB,CAACkB,WAAD,CAAzC;;AAEA,IAAIE,aAAa,GAAGvB,OAAO,CAAC,2BAAD,CAA3B;;AAEA,IAAIwB,cAAc,GAAGrB,sBAAsB,CAACoB,aAAD,CAA3C;;AAEA,IAAIE,WAAW,GAAGzB,OAAO,CAAC,yBAAD,CAAzB;;AAEA,IAAI0B,YAAY,GAAGvB,sBAAsB,CAACsB,WAAD,CAAzC;;AAEA,IAAIE,MAAM,GAAG3B,OAAO,CAAC,oBAAD,CAApB;;AAEA,IAAI4B,OAAO,GAAGzB,sBAAsB,CAACwB,MAAD,CAApC;;AAEA,IAAIE,UAAU,GAAG7B,OAAO,CAAC,qBAAD,CAAxB;;AAEA,IAAI8B,WAAW,GAAG3B,sBAAsB,CAAC0B,UAAD,CAAxC;;AAEA,IAAIE,UAAU,GAAG/B,OAAO,CAAC,qBAAD,CAAxB;;AAEA,IAAIgC,WAAW,GAAG7B,sBAAsB,CAAC4B,UAAD,CAAxC;;AAEA,IAAIE,UAAU,GAAGjC,OAAO,CAAC,wBAAD,CAAxB;;AAEA,IAAIkC,WAAW,GAAG/B,sBAAsB,CAAC8B,UAAD,CAAxC;;AAEA,IAAIE,IAAI,GAAGnC,OAAO,CAAC,cAAD,CAAlB;;AAEA,IAAIoC,KAAK,GAAGjC,sBAAsB,CAACgC,IAAD,CAAlC;;AAEA,IAAIE,UAAU,GAAGrC,OAAO,CAAC,qBAAD,CAAxB;;AAEA,IAAIsC,WAAW,GAAGnC,sBAAsB,CAACkC,UAAD,CAAxC;;AAEA,IAAIE,MAAM,GAAGvC,OAAO,CAAC,aAAD,CAApB;;AAEA,IAAIwC,eAAe,GAAGxC,OAAO,CAAC,yBAAD,CAA7B;;AAEA,IAAIyC,gBAAgB,GAAGtC,sBAAsB,CAACqC,eAAD,CAA7C;;AAEA,IAAIE,kBAAkB,GAAG1C,OAAO,CAAC,4BAAD,CAAhC;;AAEA,IAAI2C,mBAAmB,GAAGxC,sBAAsB,CAACuC,kBAAD,CAAhD;;AAEA,IAAIE,oBAAoB,GAAG5C,OAAO,CAAC,8BAAD,CAAlC;;AAEA,IAAI6C,qBAAqB,GAAG1C,sBAAsB,CAACyC,oBAAD,CAAlD;;AAEA,IAAIE,iBAAiB,GAAG9C,OAAO,CAAC,2BAAD,CAA/B;;AAEA,IAAI+C,kBAAkB,GAAG5C,sBAAsB,CAAC2C,iBAAD,CAA/C;;AAEA,IAAIE,YAAY,GAAGhD,OAAO,CAAC,0BAAD,CAA1B;;AAEA,IAAIiD,aAAa,GAAG9C,sBAAsB,CAAC6C,YAAD,CAA1C;;AAEA,IAAIE,UAAU,GAAGlD,OAAO,CAAC,wBAAD,CAAxB;;AAEA,IAAImD,WAAW,GAAGhD,sBAAsB,CAAC+C,UAAD,CAAxC;;AAEA,SAAS/C,sBAAT,CAAgCiD,GAAhC,EAAqC;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAAC7E,UAAX,GAAwB6E,GAAxB,GAA8B;IAAEC,OAAO,EAAED;EAAX,CAArC;AAAwD;;AAE/F,SAASE,wBAAT,CAAkCF,GAAlC,EAAuCG,IAAvC,EAA6C;EAAE,IAAI5E,MAAM,GAAG,EAAb;;EAAiB,KAAK,IAAIC,CAAT,IAAcwE,GAAd,EAAmB;IAAE,IAAIG,IAAI,CAACC,OAAL,CAAa5E,CAAb,KAAmB,CAAvB,EAA0B;IAAU,IAAI,CAACH,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCiE,GAArC,EAA0CxE,CAA1C,CAAL,EAAmD;IAAUD,MAAM,CAACC,CAAD,CAAN,GAAYwE,GAAG,CAACxE,CAAD,CAAf;EAAqB;;EAAC,OAAOD,MAAP;AAAgB;;AAE5N,SAAS8E,eAAT,CAAyBC,QAAzB,EAAmC9D,WAAnC,EAAgD;EAAE,IAAI,EAAE8D,QAAQ,YAAY9D,WAAtB,CAAJ,EAAwC;IAAE,MAAM,IAAI+D,SAAJ,CAAc,mCAAd,CAAN;EAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0C1E,IAA1C,EAAgD;EAAE,IAAI,CAAC0E,IAAL,EAAW;IAAE,MAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;EAAwF;;EAAC,OAAO3E,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0E0E,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;EAAE,IAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;IAAE,MAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;EAAsG;;EAACD,QAAQ,CAAC/E,SAAT,GAAqBR,MAAM,CAACyF,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAAChF,SAAvC,EAAkD;IAAEkF,WAAW,EAAE;MAAEC,KAAK,EAAEJ,QAAT;MAAmBxE,UAAU,EAAE,KAA/B;MAAsCE,QAAQ,EAAE,IAAhD;MAAsDD,YAAY,EAAE;IAApE;EAAf,CAAlD,CAArB;EAAqK,IAAIwE,UAAJ,EAAgBxF,MAAM,CAAC4F,cAAP,GAAwB5F,MAAM,CAAC4F,cAAP,CAAsBL,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACM,SAAT,GAAqBL,UAA3F;AAAwG;AAAC;;AAC/e;;;AAGA,IAAIM,IAAI,GAAG,CAAC,GAAGjE,eAAe,CAACkE,SAApB,EAA+B,UAAUlF,KAAV,EAAiB;EAC1D,OAAO,CAAC,GAAGS,KAAK,CAAC0E,GAAV,EACN,MADM,EAEN;IACCC,SAAS,EAAE,MADZ;IAECC,KAAK,EAAE;MACNC,KAAK,EAAEtF,KAAK,CAACuF,OAAN,GAAgBvF,KAAK,CAACwF,KAAN,CAAYC,MAAZ,CAAmBC,YAAnC,GAAkD1F,KAAK,CAACwF,KAAN,CAAYC,MAAZ,CAAmBE;IADtE;EAFR,CAFM,EAQN3F,KAAK,CAAC4F,QARA,CAAP;AAUA,CAXU,CAAX;;AAaA,IAAIC,cAAc,GAAG,UAAUC,UAAV,EAAsB;EAC1CrB,SAAS,CAACoB,cAAD,EAAiBC,UAAjB,CAAT;;EAEA,SAASD,cAAT,CAAwB7F,KAAxB,EAA+B;IAC9BmE,eAAe,CAAC,IAAD,EAAO0B,cAAP,CAAf;;IAEA,IAAIE,KAAK,GAAGzB,0BAA0B,CAAC,IAAD,EAAOwB,UAAU,CAACjG,IAAX,CAAgB,IAAhB,EAAsBG,KAAtB,CAAP,CAAtC;;IAEAgG,gBAAgB,CAACnG,IAAjB,CAAsBkG,KAAtB;;IAEA,IAAIjB,KAAK,GAAG9E,KAAK,CAAC8E,KAAN,IAAe9E,KAAK,CAACiG,YAArB,IAAqC,EAAjD,CAP8B,CAQ9B;;IACA,IAAIC,WAAW,GAAGpB,KAAK,CAACqB,IAAxB;IAAA,IACIC,YAAY,GAAGF,WAAW,KAAKG,SAAhB,GAA4B,EAA5B,GAAiCH,WADpD;IAAA,IAEII,eAAe,GAAGxB,KAAK,CAACyB,QAF5B;IAAA,IAGIC,eAAe,GAAGF,eAAe,KAAKD,SAApB,GAAgC,IAAhC,GAAuCC,eAH7D,CAT8B,CAa9B;;IAEAF,YAAY,GAAGpG,KAAK,CAACyG,aAAN,IAAuBL,YAAtC;IACAI,eAAe,GAAGxG,KAAK,CAAC0G,gBAAN,IAA0BF,eAA5C;IAEAT,KAAK,CAACY,KAAN,GAAc;MACbP,YAAY,EAAEA,YADD;MAEbI,eAAe,EAAEA,eAFJ;MAGbI,WAAW,EAAE,EAHA;MAIbC,MAAM,EAAE;IAJK,CAAd;IAMA;AACF;AACA;AACA;;IACEd,KAAK,CAACe,SAAN,GAAkB,KAAlB;IAEAf,KAAK,CAACgB,iBAAN,GAA0B,CAAC,GAAGzF,UAAU,CAAC0F,sBAAf,EAAuChH,KAAK,CAACiH,WAA7C,CAA1B;IACAlB,KAAK,CAACmB,YAAN,GAAqB,CAAC,GAAG9F,OAAO,CAAC+F,eAAZ,EAA6BnH,KAA7B,CAArB,CA/B8B,CAgC9B;;IACA,CAAC,GAAGoB,OAAO,CAACgG,iBAAZ,EAA+BpH,KAAK,CAACiH,WAArC,EAAkDjH,KAAlD,EAAyDoG,YAAzD;IACA,CAAC,GAAGhF,OAAO,CAACiG,kBAAZ,EAAgCrH,KAAK,CAACiH,WAAtC,EAAmDjH,KAAnD,EAA0DoG,YAA1D;;IAEA,IAAIpG,KAAK,CAACsH,SAAV,EAAqB;MACpB,IAAIJ,YAAY,GAAGrB,cAAc,CAAC0B,cAAf,CAA8BvH,KAA9B,KAAwC,EAA3D;;MACA,IAAIA,KAAK,CAACwH,eAAN,IAAyB,OAAOxH,KAAK,CAACwH,eAAb,KAAiC,UAA9D,EAA0E;QACzExH,KAAK,CAACyH,yBAAN,CAAgCzH,KAAK,CAACiH,WAAtC,EAAmDjH,KAAK,CAACwH,eAAN,CAAsBxH,KAAtB,CAAnD;MACA;;MACDkH,YAAY,CAACQ,IAAb,GAAoB1H,KAAK,CAAC0H,IAA1B;MACA3B,KAAK,CAACmB,YAAN,GAAqBA,YAArB;MACAlH,KAAK,CAAC2H,eAAN,CAAsB3H,KAAK,CAACiH,WAA5B,EAAyCC,YAAzC;IACA,CARD,MAQO;MACNlH,KAAK,CAAC2H,eAAN,CAAsB3H,KAAK,CAACiH,WAA5B,EAAyClB,KAAK,CAACmB,YAA/C;IACA;;IAED,IAAIU,SAAS,GAAG7B,KAAK,CAAC8B,oBAAN,EAAhB;;IACA7H,KAAK,CAAC2H,eAAN,CAAsB5B,KAAK,CAACgB,iBAA5B,EAA+Ca,SAA/C,EAA0D,KAA1D;IACA,IAAIE,UAAU,GAAG,KAAjB;IACA,IAAIC,KAAK,GAAG,IAAZ;;IAEA,IAAI3B,YAAJ,EAAkB;MACjB,IAAI4B,SAAS,GAAG;QACf7B,IAAI,EAAEC,YADS;QAEfG,QAAQ,EAAEC;MAFK,CAAhB;;MAIA,IAAIxG,KAAK,CAACiI,QAAV,EAAoB;QACnBjI,KAAK,CAACiI,QAAN,CAAeD,SAAf,EAA0B,YAAY;UACrC,OAAOjC,KAAK,CAACmC,YAAN,CAAmBF,SAAnB,CAAP;QACA,CAFD;MAGA;;MACDjC,KAAK,CAACoC,QAAN,CAAe/B,YAAf,EAA6B,IAA7B,EAAmCpG,KAAnC,EAA0CwG,eAA1C,EAA2DuB,KAA3D,EAAkED,UAAlE;IACA;;IACD,OAAO/B,KAAP;EACA;;EAEDF,cAAc,CAAClG,SAAf,CAAyByI,kBAAzB,GAA8C,SAASA,kBAAT,CAA4BC,SAA5B,EAAuC;IACpF,IAAIC,MAAM,GAAG,IAAb;;IAEA,CAAC,GAAGlH,OAAO,CAACmH,mBAAZ,EAAiC,KAAKvI,KAAtC,EAA6CqI,SAA7C,EAAwD,CAAC,WAAD,EAAc,WAAd,EAA2B,gBAA3B,CAAxD,EAAsG,YAAY;MACjH,IAAInB,YAAY,GAAGrB,cAAc,CAAC0B,cAAf,CAA8Be,MAAM,CAACtI,KAArC,KAA+C,EAAlE;;MACA,IAAIsI,MAAM,CAACtI,KAAP,CAAawH,eAAb,IAAgC,OAAOc,MAAM,CAACtI,KAAP,CAAawH,eAApB,KAAwC,UAA5E,EAAwF;QACvFc,MAAM,CAACtI,KAAP,CAAayH,yBAAb,CAAuCa,MAAM,CAACtI,KAAP,CAAaiH,WAApD,EAAiEqB,MAAM,CAACtI,KAAP,CAAawH,eAAb,CAA6Bc,MAAM,CAACtI,KAApC,CAAjE;MACA;;MACDkH,YAAY,CAACQ,IAAb,GAAoBY,MAAM,CAACtI,KAAP,CAAa0H,IAAjC;MACAY,MAAM,CAACpB,YAAP,GAAsBA,YAAtB;;MACAoB,MAAM,CAACtI,KAAP,CAAa2H,eAAb,CAA6BW,MAAM,CAACtI,KAAP,CAAaiH,WAA1C,EAAuDC,YAAvD;IACA,CARD,EAHoF,CAapF;;IACA,IAAI,CAAC,CAAC,GAAGjE,MAAM,CAACuF,gBAAX,EAA6B,KAAK7B,KAAL,CAAWP,YAAxC,EAAsD,KAAKpG,KAA3D,EAAkEqI,SAAlE,EAA6E,cAA7E,CAAL,EAAmG;MAClG,KAAKhB,kBAAL,CAAwB,KAAKV,KAAL,CAAWP,YAAnC,EAAiD,KAAKpG,KAAtD;MACA,KAAKyI,WAAL,CAAiB,KAAK9B,KAAL,CAAWP,YAA5B,EAA0C,KAAKpG,KAA/C;IACA;;IAED,IAAI,CAAC,CAAC,GAAGiD,MAAM,CAACuF,gBAAX,EAA6B,KAAK7B,KAAL,CAAWP,YAAxC,EAAsD,KAAKpG,KAA3D,EAAkEqI,SAAlE,EAA6E,aAA7E,CAAL,EAAkG;MACjG,KAAKI,WAAL,CAAiB,KAAK9B,KAAL,CAAWP,YAA5B,EAA0C,KAAKpG,KAA/C;IACA;;IAED,IAAI0I,KAAK,CAACC,OAAN,CAAc,KAAK3I,KAAL,CAAW4G,WAAzB,KAAyC,KAAKD,KAAL,CAAWP,YAAX,CAAwBwC,IAAxB,GAA+BpJ,MAA5E,EAAoF;MACnF;MACA;MAEA,IAAI,KAAKQ,KAAL,CAAW4G,WAAX,KAA2ByB,SAAS,CAACzB,WAAzC,EAAsD;QACrD,IAAI,KAAK5G,KAAL,CAAW6I,aAAf,EAA8B;UAC7B,KAAK7I,KAAL,CAAW6I,aAAX,CAAyB,KAAK7I,KAAL,CAAW4G,WAApC;QACA,CAHoD,CAIrD;;;QACA,KAAKkC,QAAL,CAAc;UACblC,WAAW,EAAE,KAAKiC,aAAL,CAAmB,KAAK7I,KAAL,CAAW4G,WAA9B;QADA,CAAd;MAGA;IACD;;IAED,CAAC,GAAGxF,OAAO,CAACmH,mBAAZ,EAAiC,KAAKvI,KAAtC,EAA6CqI,SAA7C,EAAwD,CAAC,cAAD,EAAiB,WAAjB,EAA8B,aAA9B,EAA6C,WAA7C,EAA0D,eAA1D,EAA2E,aAA3E,EAA0F,iBAA1F,CAAxD,EAAsK,YAAY;MACjLC,MAAM,CAACG,WAAP,CAAmBH,MAAM,CAAC3B,KAAP,CAAaP,YAAhC,EAA8CkC,MAAM,CAACtI,KAArD;IACA,CAFD;;IAIA,IAAI,CAAC,CAAC,GAAGoB,OAAO,CAAC2H,OAAZ,EAAqB,KAAK/I,KAAL,CAAW8E,KAAhC,EAAuCuD,SAAS,CAACvD,KAAjD,CAAL,EAA8D;MAC7D,IAAIkE,YAAY,GAAG,KAAKhJ,KAAL,CAAW8E,KAA9B;MAAA,IACIsB,YAAY,GAAG4C,YAAY,CAAC7C,IADhC;MAAA,IAEI8C,qBAAqB,GAAGD,YAAY,CAACzC,QAFzC;MAAA,IAGIC,eAAe,GAAGyC,qBAAqB,KAAK5C,SAA1B,GAAsC,IAAtC,GAA6C4C,qBAHnE;MAKA,KAAKd,QAAL,CAAc/B,YAAd,EAA4B,IAA5B,EAAkC,KAAKpG,KAAvC,EAA8CwG,eAA9C,EAA+DH,SAA/D,EAA0EA,SAA1E,EAAqF,KAArF;IACA,CAPD,MAOO,KACP;IACA;IACA;IACA;IACA,KAAKrG,KAAL,CAAWyG,aAAX,KAA6B4B,SAAS,CAAC5B,aAAvC,IAAwD,KAAKE,KAAL,CAAWP,YAAX,KAA4B,KAAKpG,KAAL,CAAWyG,aALxF,EAKuG;MAC7G,IAAI,CAAC,KAAKzG,KAAL,CAAWyG,aAAZ,IAA6B,KAAKE,KAAL,CAAWP,YAA5C,EAA0D;QACzD;QACA,KAAK8C,eAAL,CAAqB,EAArB,EAAyBxH,QAAQ,CAACqC,OAAT,CAAiBoF,WAA1C,EAAuD,IAAvD;MACA;;MACD,IAAIC,MAAM,GAAG,KAAKpJ,KAAlB;MAAA,IACI8E,KAAK,GAAGsE,MAAM,CAACtE,KADnB;MAAA,IAEImD,QAAQ,GAAGmB,MAAM,CAACnB,QAFtB;;MAIA,IAAInD,KAAK,KAAKuB,SAAd,EAAyB;QACxB,KAAK8B,QAAL,CAAc,KAAKnI,KAAL,CAAWyG,aAAX,IAA4B,EAA1C,EAA8C,IAA9C,EAAoD,KAAKzG,KAAzD,EAAgE,KAAKA,KAAL,CAAW0G,gBAA3E;MACA,CAFD,MAEO,IAAIuB,QAAJ,EAAc;QACpB,IAAIoB,aAAa,GAAG;UACnBlD,IAAI,EAAE,KAAKnG,KAAL,CAAWyG,aAAX,IAA4B,EADf;UAEnBF,QAAQ,EAAE,KAAKvG,KAAL,CAAW0G,gBAAX,IAA+B;QAFtB,CAApB,CADoB,CAKpB;;QACAuB,QAAQ,CAACoB,aAAD,EAAgB,YAAY;UACnC,OAAOf,MAAM,CAACJ,YAAP,CAAoBmB,aAApB,CAAP;QACA,CAFO,CAAR;MAGA,CATM,MASA;QACN;QACA;QACA;QACA;QACA,KAAKvC,SAAL,GAAiB,KAAjB;QACA,KAAKqB,QAAL,CAAc,KAAKxB,KAAL,CAAWP,YAAzB,EAAuC,IAAvC,EAA6C,KAAKpG,KAAlD,EAAyD,KAAK2G,KAAL,CAAWH,eAApE;MACA;IACD;EACD,CAnFD;;EAqFAX,cAAc,CAAClG,SAAf,CAAyB2J,iBAAzB,GAA6C,SAASA,iBAAT,GAA6B;IACzE;IACA,KAAKC,uBAAL;IACA,IAAIC,OAAO,GAAG,KAAKxJ,KAAnB;IAAA,IACIyJ,sBAAsB,GAAGD,OAAO,CAACC,sBADrC;IAAA,IAEIC,sBAAsB,GAAGF,OAAO,CAACE,sBAFrC;IAAA,IAGIC,uBAAuB,GAAGH,OAAO,CAACG,uBAHtC;IAAA,IAIIC,oBAAoB,GAAGJ,OAAO,CAACI,oBAJnC;IAAA,IAKIC,mBAAmB,GAAGL,OAAO,CAACK,mBALlC;IAAA,IAMI5C,WAAW,GAAGuC,OAAO,CAACvC,WAN1B;IAAA,IAOI6C,gBAAgB,GAAGN,OAAO,CAACM,gBAP/B;IAAA,IAQIC,aAAa,GAAGP,OAAO,CAACO,aAR5B;IAAA,IASIC,mBAAmB,GAAGR,OAAO,CAACQ,mBATlC;IAAA,IAUIC,KAAK,GAAGT,OAAO,CAACS,KAVpB;IAAA,IAWIC,aAAa,GAAGV,OAAO,CAACU,aAX5B,CAHyE,CAgBzE;;IAEA,IAAIT,sBAAsB,KAAKpD,SAA/B,EAA0C;MACzC8D,OAAO,CAACC,IAAR,CAAa,mJAAb;IACA,CApBwE,CAqBzE;;;IACA,IAAIV,sBAAsB,KAAKrD,SAA/B,EAA0C;MACzC8D,OAAO,CAACC,IAAR,CAAa,mJAAb;IACA;;IACD,IAAIF,aAAa,IAAIJ,gBAArB,EAAuC;MACtCK,OAAO,CAACC,IAAR,CAAa,kIAAb;IACA;;IACD,IAAI,CAACF,aAAD,KAAmBH,aAAa,IAAIC,mBAApC,CAAJ,EAA8D;MAC7DG,OAAO,CAACC,IAAR,CAAa,+JAAb;IACA;;IACD,IAAI,CAACF,aAAD,IAAkBD,KAAtB,EAA6B;MAC5BE,OAAO,CAACC,IAAR,CAAa,4HAAb;IACA;;IACD,IAAIR,oBAAJ,EAA0B;MACzBC,mBAAmB;IACnB;;IACDF,uBAAuB,CAAC1C,WAAD,CAAvB;EACA,CAtCD;;EAwCApB,cAAc,CAAClG,SAAf,CAAyB0K,oBAAzB,GAAgD,SAASA,oBAAT,GAAgC;IAC/EC,QAAQ,CAACC,mBAAT,CAA6B,SAA7B,EAAwC,KAAKC,SAA7C;EACA,CAFD;;EAIA3E,cAAc,CAAClG,SAAf,CAAyB8K,eAAzB,GAA2C,SAASA,eAAT,CAAyBC,eAAzB,EAA0C;IACpF;IACA,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC,OAAO,KAAP;IACnC,OAAOD,eAAe,KAAKC,MAAM,CAACC,uBAAP,IAAkCD,MAAM,CAACE,iBAA9C,CAAtB;EACA,CAJD;;EAMAhF,cAAc,CAAClG,SAAf,CAAyBmL,MAAzB,GAAkC,SAASA,MAAT,GAAkB;IACnD,IAAIC,MAAM,GAAG,IAAb;;IAEA,IAAI3E,YAAY,GAAG,KAAKO,KAAL,CAAWP,YAA9B;IACA,IAAI4E,OAAO,GAAG,KAAKhL,KAAnB;IAAA,IACIwF,KAAK,GAAGwF,OAAO,CAACxF,KADpB;IAAA,IAEIyF,WAAW,GAAGD,OAAO,CAACC,WAF1B;IAAA,IAGIvD,IAAI,GAAGsD,OAAO,CAACtD,IAHnB;IAAA,IAIIwD,kBAAkB,GAAGF,OAAO,CAACE,kBAJjC;IAAA,IAKIC,mBAAmB,GAAGH,OAAO,CAACG,mBALlC;IAOA,IAAIC,oBAAoB,GAAG,KAAKC,iBAAhC;IACA,IAAIC,cAAc,GAAGlF,YAAY,GAAGgF,oBAAoB,CAAC5L,MAArB,IAA+B,KAAK+L,cAAL,CAAoB/L,MAAtD,GAA+D,KAAKgM,kBAAL,CAAwBhM,MAAxH;IACA,OAAO,CAAC,GAAGiB,KAAK,CAAC0E,GAAV,EACNvC,WAAW,CAACmB,OADN,EAEN;MAAEsB,KAAK,EAAE,KAAKrF,KAAL,CAAWqF,KAApB;MAA2BD,SAAS,EAAE,KAAKpF,KAAL,CAAWoF;IAAjD,CAFM,EAGN,KAAKpF,KAAL,CAAWyL,KAAX,IAAoB,CAAC,GAAGhL,KAAK,CAAC0E,GAAV,EACnBrD,OAAO,CAACiC,OADW,EAEnB;MAAEqB,SAAS,EAAE,CAAC,GAAGhE,OAAO,CAACsK,YAAZ,EAA0B,KAAK1L,KAAL,CAAW2L,UAArC,EAAiD,OAAjD,KAA6D;IAA1E,CAFmB,EAGnB,KAAK3L,KAAL,CAAWyL,KAHQ,CAHd,EAQN,KAAKzL,KAAL,CAAWwL,kBAAX,IAAiC,KAAKxL,KAAL,CAAW4L,WAA5C,GAA0D,CAAC,GAAGnL,KAAK,CAAC0E,GAAV,EAAepE,WAAW,CAACgD,OAA3B,EAAoC7E,QAAQ,CAAC;MACtG2M,EAAE,EAAE,KAAK7L,KAAL,CAAWiH,WAAX,GAAyB,YADyE;MAEtGgB,QAAQ,EAAE,KAAK6D,oBAFuF;MAGtGC,aAAa,EAAE,KAAKC,iBAHkF;MAItGnF,MAAM,EAAE,KAAKF,KAAL,CAAWE,MAJmF;MAKtGoF,YAAY,EAAE,SAASA,YAAT,CAAsB3M,CAAtB,EAAyB;QACtC,OAAOA,CAAP;MACA,CAPqG;MAQtGwL,MAAM,EAAE,SAASA,MAAT,CAAgBoB,IAAhB,EAAsB;QAC7B,IAAIC,YAAY,GAAGD,IAAI,CAACC,YAAxB;QAAA,IACIC,aAAa,GAAGF,IAAI,CAACE,aADzB;QAAA,IAEIC,YAAY,GAAGH,IAAI,CAACG,YAFxB;QAAA,IAGIxF,MAAM,GAAGqF,IAAI,CAACrF,MAHlB;QAAA,IAIIyF,gBAAgB,GAAGJ,IAAI,CAACI,gBAJ5B;QAAA,IAKIC,mBAAmB,GAAGL,IAAI,CAACK,mBAL/B;QAAA,IAMIC,IAAI,GAAGxI,wBAAwB,CAACkI,IAAD,EAAO,CAAC,cAAD,EAAiB,eAAjB,EAAkC,cAAlC,EAAkD,QAAlD,EAA4D,kBAA5D,EAAgF,qBAAhF,CAAP,CANnC;;QAQA,IAAIO,yBAAyB,GAAG,SAASA,yBAAT,GAAqC;UACpE,OAAO,CAAC,GAAGhM,KAAK,CAAC0E,GAAV,EACNvE,OAAO,CAACmD,OAAR,CAAgB2I,QADV,EAEN,IAFM,EAGN7F,MAAM,IAAIkE,MAAM,CAAC4B,YAAP,EAHJ,EAIN9F,MAAM,IAAIkE,MAAM,CAAC6B,WAAP,EAJJ,EAKN7B,MAAM,CAAC8B,iBAAP,IAA4B9B,MAAM,CAAC+B,YAAP,CAAoB5N,QAAQ,CAAC;YACxDkN,aAAa,EAAEA,aADyC;YAExDC,YAAY,EAAEA,YAF0C;YAGxDxF,MAAM,EAAEA,MAHgD;YAIxDyF,gBAAgB,EAAEA,gBAJsC;YAKxDC,mBAAmB,EAAEA;UALmC,CAAD,EAMrDC,IANqD,CAA5B,CALtB,EAYN,CAACzB,MAAM,CAAC8B,iBAAR,IAA6BhG,MAA7B,IAAuCyE,cAAvC,GAAwD,CAAC,GAAG7K,KAAK,CAAC0E,GAAV,EACvD,IADuD,EAEvD;YACC4H,GAAG,EAAE,CAAC,GAAG1K,MAAM,CAACuE,WAAX,EAAwBqE,WAAxB,EAAqCzF,KAArC,CADN;YAECJ,SAAS,EAAE,CAAC,GAAGhE,OAAO,CAACsK,YAAZ,EAA0BX,MAAM,CAAC/K,KAAP,CAAa2L,UAAvC,EAAmD,MAAnD;UAFZ,CAFuD,EAMvDP,oBAAoB,CAAC4B,KAArB,CAA2B,CAA3B,EAA8BtF,IAA9B,EAAoCuF,GAApC,CAAwC,UAAUC,IAAV,EAAgBjD,KAAhB,EAAuB;YAC9D,OAAO,CAAC,GAAGxJ,KAAK,CAAC0E,GAAV,EACN,IADM,EAENjG,QAAQ,CAAC,EAAD,EAAKmN,YAAY,CAAC;cAAEa,IAAI,EAAEA;YAAR,CAAD,CAAjB,EAAmC;cAC1CxN,GAAG,EAAEuK,KAAK,GAAG,CAAR,GAAY,GAAZ,GAAkBiD,IAAI,CAACpI,KADc,CACR;cADQ;cAExCO,KAAK,EAAE;gBACR8H,eAAe,EAAEpC,MAAM,CAACqC,kBAAP,CAA0Bd,gBAA1B,EAA4CrC,KAA5C;cADT;YAFiC,CAAnC,CAFF,EAQN,CAAC,GAAGxJ,KAAK,CAAC0E,GAAV,EACCF,IADD,EAEC;cAAEM,OAAO,EAAE,CAAC,CAAC2H,IAAI,CAAC3G;YAAlB,CAFD,EAGC,CAAC,GAAG9F,KAAK,CAAC0E,GAAV,EAAehC,gBAAgB,CAACY,OAAhC,EAAyC;cACxCqC,YAAY,EAAEA,YAD0B;cAExCiH,UAAU,EAAEH;YAF4B,CAAzC,CAHD,CARM,CAAP;UAiBA,CAlBD,CANuD,EAyBvDnC,MAAM,CAACS,kBAAP,CAA0ByB,GAA1B,CAA8B,UAAUK,IAAV,EAAgBrD,KAAhB,EAAuB;YACpD,OAAO,CAAC,GAAGxJ,KAAK,CAAC0E,GAAV,EACN,IADM,EAENjG,QAAQ,CAAC,EAAD,EAAKmN,YAAY,CAAC;cAAEa,IAAI,EAAEI;YAAR,CAAD,CAAjB,EAAmC;cAC1C5N,GAAG,EAAE0L,oBAAoB,CAAC5L,MAArB,GAA8ByK,KAA9B,GAAsC,CAAtC,GAA0C,GAA1C,GAAgDqD,IAAI,CAACxI,KADhB;cAE1CO,KAAK,EAAE;gBACN8H,eAAe,EAAEpC,MAAM,CAACqC,kBAAP,CAA0Bd,gBAA1B,EAA4ClB,oBAAoB,CAAC5L,MAArB,GAA8ByK,KAA1E,CADX;gBAENsD,cAAc,EAAE;cAFV;YAFmC,CAAnC,CAFF,EASN,CAAC,GAAG9M,KAAK,CAAC0E,GAAV,EACC,KADD,EAEC;cAAEE,KAAK,EAAE;gBAAEmI,OAAO,EAAE;cAAX;YAAT,CAFD,EAGCF,IAAI,CAAC7N,MAAL,IAAe6N,IAAI,CAAC7N,MAAL,CAAYgO,cAA3B,IAA6C,CAAC,GAAGhN,KAAK,CAAC0E,GAAV,EAAenC,WAAW,CAACe,OAA3B,EAAoC;cAChF2J,MAAM,EAAEJ,IAAI,CAACK,KAAL,GAAa,OAD2D;cAEhFvI,SAAS,EAAE,CAAC,GAAGhE,OAAO,CAACsK,YAAZ,EAA0BX,MAAM,CAAC/K,KAAP,CAAa2L,UAAvC,EAAmD,oBAAnD,KAA4E,IAFP;cAGhFiC,IAAI,EAAE1C,kBAH0E;cAIhF2C,IAAI,EAAE;YAJ0E,CAApC,CAH9C,EASCP,IAAI,CAAC7N,MAAL,IAAe6N,IAAI,CAAC7N,MAAL,CAAYqO,mBAA3B,IAAkD,CAAC,GAAGrN,KAAK,CAAC0E,GAAV,EAAenC,WAAW,CAACe,OAA3B,EAAoC;cACrF2J,MAAM,EAAEJ,IAAI,CAACK,KAAL,GAAa,OADgE;cAErFvI,SAAS,EAAE,CAAC,GAAGhE,OAAO,CAACsK,YAAZ,EAA0BX,MAAM,CAAC/K,KAAP,CAAa2L,UAAvC,EAAmD,qBAAnD,KAA6E,IAFH;cAGrFiC,IAAI,EAAEzC,mBAH+E;cAIrF0C,IAAI,EAAE;YAJ+E,CAApC,CATnD,CATM,EAyBN,CAAC,GAAGpN,KAAK,CAAC0E,GAAV,EAAehC,gBAAgB,CAACY,OAAhC,EAAyC;cACxCqC,YAAY,EAAEA,YAD0B;cAExCiH,UAAU,EAAEC;YAF4B,CAAzC,CAzBM,CAAP;UA8BA,CA/BD,CAzBuD,EAyDvD,CAAC,GAAGrK,MAAM,CAAC8K,6BAAX,EAA0ChD,MAAM,CAAC/K,KAAjD,IAA0D+K,MAAM,CAAC+B,YAAP,CAAoB5N,QAAQ,CAAC;YACtFkN,aAAa,EAAEA,aADuE;YAEtFC,YAAY,EAAEA,YAFwE;YAGtFxF,MAAM,EAAEA,MAH8E;YAItFyF,gBAAgB,EAAEA;UAJoE,CAAD,EAKnFE,IALmF,CAA5B,EAKhD,IALgD,CAA1D,GAKkBzB,MAAM,CAACQ,cAAP,CAAsB0B,GAAtB,CAA0B,UAAUK,IAAV,EAAgBrD,KAAhB,EAAuB;YAClE,OAAO,CAAC,GAAGxJ,KAAK,CAAC0E,GAAV,EACN,IADM,EAENjG,QAAQ,CAAC,EAAD,EAAKmN,YAAY,CAAC;cAAEa,IAAI,EAAEI;YAAR,CAAD,CAAjB,EAAmC;cAC1C5N,GAAG,EAAE0L,oBAAoB,CAAC5L,MAArB,GAA8ByK,KAA9B,GAAsC,CAAtC,GAA0C,GAA1C,GAAgDqD,IAAI,CAACxI,KADhB;cAE1CO,KAAK,EAAE;gBACN8H,eAAe,EAAEpC,MAAM,CAACqC,kBAAP,CAA0Bd,gBAA1B,EAA4ClB,oBAAoB,CAAC5L,MAArB,GAA8ByK,KAA1E,CADX;gBAENsD,cAAc,EAAE;cAFV;YAFmC,CAAnC,CAFF,EASN,CAAC,GAAG9M,KAAK,CAAC0E,GAAV,EACC,KADD,EAEC;cAAEE,KAAK,EAAE;gBAAEmI,OAAO,EAAE;cAAX;YAAT,CAFD,EAGC,CAAC,GAAG/M,KAAK,CAAC0E,GAAV,EAAenC,WAAW,CAACe,OAA3B,EAAoC;cACnC2J,MAAM,EAAEJ,IAAI,CAACK,KAAL,GAAa,OADc;cAEnCvI,SAAS,EAAE,CAAC,GAAGhE,OAAO,CAACsK,YAAZ,EAA0BX,MAAM,CAAC/K,KAAP,CAAa2L,UAAvC,EAAmD,qBAAnD,KAA6E,IAFrD;cAGnCiC,IAAI,EAAEzC,mBAH6B;cAInC0C,IAAI,EAAE;YAJ6B,CAApC,CAHD,CATM,EAmBN,CAAC,GAAGpN,KAAK,CAAC0E,GAAV,EAAehC,gBAAgB,CAACY,OAAhC,EAAyC;cACxCqC,YAAY,EAAEA,YAD0B;cAExCiH,UAAU,EAAEC;YAF4B,CAAzC,CAnBM,CAAP;UAwBA,CAzBiB,CA9DqC,CAAxD,GAwFIvC,MAAM,CAACiD,kBAAP,CAA0B5C,oBAA1B,CApGE,CAAP;QAsGA,CAvGD;;QAyGA,OAAO,CAAC,GAAG3K,KAAK,CAAC0E,GAAV,EACN,KADM,EAENgH,YAAY,CAAC;UAAEY,GAAG,EAAE1K,MAAM,CAAC4L;QAAd,CAAD,EAAuC;UAAEC,gBAAgB,EAAE;QAApB,CAAvC,CAFN,EAGN,CAAC,GAAGzN,KAAK,CAAC0E,GAAV,EACCnD,YAAY,CAAC+B,OADd,EAEC,IAFD,EAGCgH,MAAM,CAACoD,sBAAP,EAHD,EAIC,CAAC,GAAG1N,KAAK,CAAC0E,GAAV,EACCjD,cAAc,CAAC6B,OADhB,EAEC,IAFD,EAGC,CAAC,GAAGtD,KAAK,CAAC0E,GAAV,EAAe7C,OAAO,CAACyB,OAAvB,EAAgC7E,QAAQ,CAAC;UACxCkP,GAAG,EAAE,SAASA,GAAT,CAAaC,CAAb,EAAgB;YACpBtD,MAAM,CAACuD,SAAP,GAAmBD,CAAnB;UACA,CAHuC;UAIxC,cAActD,MAAM,CAAC/K,KAAP,CAAaiH,WAJa;UAKxCsH,SAAS,EAAExD,MAAM,CAAC/K,KAAP,CAAauO,SALgB;UAMxC1C,EAAE,EAAEd,MAAM,CAAC/K,KAAP,CAAaiH,WAAb,GAA2B,QANS;UAOxCuH,QAAQ,EAAEzD,MAAM,CAAC/K,KAAP,CAAawO,QAPiB;UAQxCC,YAAY,EAAE1D,MAAM,CAAC/K,KAAP,CAAayO;QARa,CAAD,EASrCrC,aAAa,CAAC;UAChBhH,SAAS,EAAE,CAAC,GAAGhE,OAAO,CAACsK,YAAZ,EAA0BX,MAAM,CAAC/K,KAAP,CAAa2L,UAAvC,EAAmD,OAAnD,CADK;UAEhB+C,WAAW,EAAE3D,MAAM,CAAC/K,KAAP,CAAa0O,WAFV;UAGhB5J,KAAK,EAAEiG,MAAM,CAACpE,KAAP,CAAaP,YAAb,KAA8B,IAA9B,GAAqC,EAArC,GAA0C2E,MAAM,CAACpE,KAAP,CAAaP,YAH9C;UAIhB6B,QAAQ,EAAE8C,MAAM,CAAC4D,aAJD;UAKhBC,MAAM,EAAE7D,MAAM,CAAC8D,gBAAP,CAAwB9D,MAAM,CAAC/K,KAAP,CAAa4O,MAArC,CALQ;UAMhBE,OAAO,EAAE/D,MAAM,CAACgE,WANA;UAOhBC,UAAU,EAAEjE,MAAM,CAAC8D,gBAAP,CAAwB9D,MAAM,CAAC/K,KAAP,CAAagP,UAArC,CAPI;UAQhBxE,SAAS,EAAE,SAASA,SAAT,CAAmByE,CAAnB,EAAsB;YAChC,OAAOlE,MAAM,CAACmE,aAAP,CAAqBD,CAArB,EAAwB3C,gBAAxB,CAAP;UACA,CAVe;UAWhB6C,OAAO,EAAEpE,MAAM,CAAC8D,gBAAP,CAAwB9D,MAAM,CAAC/K,KAAP,CAAamP,OAArC,CAXO;UAYhBC,OAAO,EAAE,SAASA,OAAT,GAAmB;YAC3B;YACA7C,mBAAmB,CAAC,IAAD,CAAnB;UACA,CAfe;UAgBhB8C,SAAS,EAAEtE,MAAM,CAAC/K,KAAP,CAAaqP;QAhBR,CAAD,CATwB,EA0BpC;UACHpE,WAAW,EAAEA;QADV,CA1BoC,CAAxC,CAHD,EAgCCF,MAAM,CAACuE,WAAP,EAhCD,EAiCC,CAACvE,MAAM,CAAC/K,KAAP,CAAauP,0BAAd,IAA4C9C,yBAAyB,CAAC+C,KAA1B,CAAgCnJ,SAAhC,EAA2C,CAAC8F,YAAD,EAAeC,aAAf,EAA8BC,YAA9B,EAA4CxF,MAA5C,EAAoDyF,gBAApD,EAAsEC,mBAAtE,EAA2FkD,MAA3F,CAAkGjD,IAAlG,CAA3C,CAjC7C,CAJD,EAuCCzB,MAAM,CAAC2E,qBAAP,EAvCD,CAHM,EA4CN3E,MAAM,CAAC/K,KAAP,CAAauP,0BAAb,IAA2C9C,yBAAyB,CAAC+C,KAA1B,CAAgCnJ,SAAhC,EAA2C,CAAC8F,YAAD,EAAeC,aAAf,EAA8BC,YAA9B,EAA4CxF,MAA5C,EAAoDyF,gBAApD,EAAsEC,mBAAtE,EAA2FkD,MAA3F,CAAkGjD,IAAlG,CAA3C,CA5CrC,CAAP;MA8CA;IAxKqG,CAAD,EAyKnG,KAAKxM,KAAL,CAAW2P,cAzKwF,CAA5C,CAA1D,GAyKiC,CAAC,GAAGlP,KAAK,CAAC0E,GAAV,EAChC,KADgC,EAEhC;MAAE4H,GAAG,EAAE1K,MAAM,CAAC4L;IAAd,CAFgC,EAGhC,CAAC,GAAGxN,KAAK,CAAC0E,GAAV,EACCnD,YAAY,CAAC+B,OADd,EAEC,IAFD,EAGC,KAAKoK,sBAAL,EAHD,EAIC,CAAC,GAAG1N,KAAK,CAAC0E,GAAV,EACCjD,cAAc,CAAC6B,OADhB,EAEC,IAFD,EAGC,CAAC,GAAGtD,KAAK,CAAC0E,GAAV,EAAe7C,OAAO,CAACyB,OAAvB,EAAgC;MAC/BqK,GAAG,EAAE,SAASA,GAAT,CAAaC,CAAb,EAAgB;QACpBtD,MAAM,CAACuD,SAAP,GAAmBD,CAAnB;MACA,CAH8B;MAI/B,cAAc,KAAKrO,KAAL,CAAWiH,WAJM;MAK/B7B,SAAS,EAAE,CAAC,GAAGhE,OAAO,CAACsK,YAAZ,EAA0B,KAAK1L,KAAL,CAAW2L,UAArC,EAAiD,OAAjD,CALoB;MAM/B+C,WAAW,EAAE,KAAK1O,KAAL,CAAW0O,WANO;MAO/B5J,KAAK,EAAE,KAAK6B,KAAL,CAAWP,YAAX,GAA0B,KAAKO,KAAL,CAAWP,YAArC,GAAoD,EAP5B;MAQ/B6B,QAAQ,EAAE,KAAK0G,aARgB;MAS/BC,MAAM,EAAE,KAAKC,gBAAL,CAAsB,KAAK7O,KAAL,CAAW4O,MAAjC,CATuB;MAU/BE,OAAO,EAAE,KAAKD,gBAAL,CAAsB,KAAK7O,KAAL,CAAW8O,OAAjC,CAVsB;MAW/BE,UAAU,EAAE,KAAKH,gBAAL,CAAsB,KAAK7O,KAAL,CAAWgP,UAAjC,CAXmB;MAY/BxE,SAAS,EAAE,KAAKqE,gBAAL,CAAsB,KAAK7O,KAAL,CAAWwK,SAAjC,CAZoB;MAa/B2E,OAAO,EAAE,KAAKN,gBAAL,CAAsB,KAAK7O,KAAL,CAAWmP,OAAjC,CAbsB;MAc/BE,SAAS,EAAE,KAAKrP,KAAL,CAAWqP,SAdS;MAe/BZ,YAAY,EAAE,KAAKzO,KAAL,CAAWyO,YAfM;MAgB/BF,SAAS,EAAE,KAAKvO,KAAL,CAAWuO,SAhBS;MAiB/BC,QAAQ,EAAE,KAAKxO,KAAL,CAAWwO,QAjBU;MAkB/BvD,WAAW,EAAEA;IAlBkB,CAAhC,CAHD,EAuBC,KAAKqE,WAAL,EAvBD,CAJD,EA6BC,KAAKI,qBAAL,EA7BD,CAHgC,CAjL3B,CAAP;EAqNA,CAlOD;;EAoOA5P,YAAY,CAAC+F,cAAD,EAAiB,CAAC;IAC7BnG,GAAG,EAAE,OADwB;IAE7BkQ,GAAG,EAAE,SAASA,GAAT,GAAe;MACnB,OAAO,CAAC,GAAGxO,OAAO,CAACyO,cAAZ,EAA4B,KAAK7P,KAAjC,CAAP;IACA;EAJ4B,CAAD,EAK1B;IACFN,GAAG,EAAE,mBADH;IAEFkQ,GAAG,EAAE,SAASA,GAAT,GAAe;MACnB,OAAO,CAAC,GAAGxO,OAAO,CAACyL,iBAAZ,EAA+B,KAAK7M,KAApC,CAAP;IACA;EAJC,CAL0B,EAU1B;IACFN,GAAG,EAAE,oBADH;IAEFkQ,GAAG,EAAE,SAASA,GAAT,GAAe;MACnB,IAAIE,UAAU,GAAG,KAAK9P,KAAL,CAAW8P,UAA5B;MAEA,OAAOA,UAAU,CAACC,MAAX,CAAkB,UAAUxJ,QAAV,EAAoB;QAC5C,OAAOyJ,OAAO,CAACzJ,QAAQ,CAAC7G,GAAV,CAAd;MACA,CAFM,CAAP;IAGA;EARC,CAV0B,EAmB1B;IACFA,GAAG,EAAE,mBADH;IAEFkQ,GAAG,EAAE,SAASA,GAAT,GAAe;MACnB,IAAIxE,oBAAoB,GAAG,EAA3B;MACA,IAAI6E,eAAe,GAAG,EAAtB,CAFmB,CAInB;;MACA,IAAIC,kBAAkB,GAAG,KAAKA,kBAA9B;;MAEA,IAAI,KAAKvJ,KAAL,CAAWP,YAAf,EAA6B;QAC5B6J,eAAe,GAAG,KAAKtJ,KAAL,CAAWC,WAA7B;MACA;;MAED,IAAI,KAAKD,KAAL,CAAWP,YAAX,IAA2B,KAAKO,KAAL,CAAWC,WAAX,CAAuBpH,MAAlD,IAA4D0Q,kBAAkB,CAAC1Q,MAAnF,EAA2F;QAC1F,IAAI2Q,mBAAmB,GAAG,CAAC;UAC1BxC,KAAK,EAAE,KAAKhH,KAAL,CAAWP,YAAX,GAA0B,oBADP;UAE1BtB,KAAK,EAAE,KAAK6B,KAAL,CAAWP,YAFQ;UAG1BG,QAAQ,EAAE,GAHgB;UAI1B;UACA9G,MAAM,EAAE;QALkB,CAAD,EAMvB;UACFkO,KAAK,EAAE,KAAKhH,KAAL,CAAWP,YAAX,GAA0B,MAA1B,GAAmC8J,kBAAkB,CAAC,CAAD,CAAlB,CAAsBxQ,GAD9D;UAEFoF,KAAK,EAAE,KAAK6B,KAAL,CAAWP,YAFhB;UAGFG,QAAQ,EAAE2J,kBAAkB,CAAC,CAAD,CAAlB,CAAsBxQ,GAH9B;UAIFD,MAAM,EAAE;QAJN,CANuB,CAA1B;;QAaA,IAAIyQ,kBAAkB,CAAC1Q,MAAnB,GAA4B,CAAhC,EAAmC;UAClC2Q,mBAAmB,GAAG,GAAGV,MAAH,CAAUU,mBAAV,EAA+B,CAAC;YACrDxC,KAAK,EAAE,KAAKhH,KAAL,CAAWP,YAAX,GAA0B,MAA1B,GAAmC8J,kBAAkB,CAAC,CAAD,CAAlB,CAAsBxQ,GADX;YAErDoF,KAAK,EAAE,KAAK6B,KAAL,CAAWP,YAFmC;YAGrDG,QAAQ,EAAE2J,kBAAkB,CAAC,CAAD,CAAlB,CAAsBxQ,GAHqB;YAIrDD,MAAM,EAAE;UAJ6C,CAAD,CAA/B,CAAtB;QAMA;;QACD2L,oBAAoB,GAAG,GAAGqE,MAAH,CAAUU,mBAAV,EAA+BF,eAA/B,CAAvB;MACA;;MACD,OAAO,CAAC,GAAG7O,OAAO,CAACgP,YAAZ,EAA0BhF,oBAA1B,CAAP;IACA;EAtCC,CAnB0B,EA0D1B;IACF1L,GAAG,EAAE,gBADH;IAEFkQ,GAAG,EAAE,SAASA,GAAT,GAAe;MACnB,IAAIS,OAAO,GAAG,KAAKrQ,KAAnB;MAAA,IACIyJ,sBAAsB,GAAG4G,OAAO,CAAC5G,sBADrC;MAAA,IAEI6G,wBAAwB,GAAGD,OAAO,CAACC,wBAFvC;MAGA,IAAIlK,YAAY,GAAG,KAAKO,KAAL,CAAWP,YAA9B;;MAEA,IAAI,CAACA,YAAL,EAAmB;QAClB,OAAO,EAAP;MACA;;MACD,OAAOqD,sBAAsB,IAAI6G,wBAA1B,GAAqD,KAAKC,4BAA1D,GAAyF,EAAhG;IACA;EAZC,CA1D0B,EAuE1B;IACF7Q,GAAG,EAAE,0BADH;IAEFkQ,GAAG,EAAE,SAASA,GAAT,GAAe;MACnB,IAAIY,cAAc,GAAG,KAAKxQ,KAAL,CAAWwQ,cAAhC;MAEA,OAAOA,cAAP;IACA;EANC,CAvE0B,EA8E1B;IACF9Q,GAAG,EAAE,8BADH;IAEFkQ,GAAG,EAAE,SAASA,GAAT,GAAe;MACnB,IAAIa,OAAO,GAAG,KAAKzQ,KAAnB;MAAA,IACI0Q,kBAAkB,GAAGD,OAAO,CAACC,kBADjC;MAAA,IAEIC,uBAAuB,GAAGF,OAAO,CAACE,uBAFtC;MAAA,IAGIC,yBAAyB,GAAGH,OAAO,CAACG,yBAHxC;MAIA,IAAIxK,YAAY,GAAG,KAAKO,KAAL,CAAWP,YAA9B;MAEA,OAAO,CAAC,GAAGhF,OAAO,CAACyP,iBAAZ,GACP;MACAzK,YAAY,GAAGsK,kBAAH,GAAwBE,yBAF7B,EAEwDxK,YAFxD,EAEsEuK,uBAFtE,CAAP;IAGA;EAZC,CA9E0B,EA2F1B;IACFjR,GAAG,EAAE,oBADH;IAEFkQ,GAAG,EAAE,SAASA,GAAT,GAAe;MACnB,IAAIkB,OAAO,GAAG,KAAK9Q,KAAnB;MAAA,IACIyJ,sBAAsB,GAAGqH,OAAO,CAACrH,sBADrC;MAAA,IAEI6G,wBAAwB,GAAGQ,OAAO,CAACR,wBAFvC;MAAA,IAGIK,uBAAuB,GAAGG,OAAO,CAACH,uBAHtC;MAAA,IAIIC,yBAAyB,GAAGE,OAAO,CAACF,yBAJxC;MAAA,IAKIpF,kBAAkB,GAAGsF,OAAO,CAACtF,kBALjC;MAOA,IAAIuF,2BAA2B,GAAGtH,sBAAsB,IAAI6G,wBAA5D;MACA,IAAIlK,YAAY,GAAG,KAAKO,KAAL,CAAWP,YAA9B;;MAEA,IAAIA,YAAJ,EAAkB;QACjB,OAAO,EAAP;MACA;;MACD,IAAI4K,+BAA+B,GAAGJ,yBAAyB,CAAC3D,GAA1B,CAA8B,UAAUI,UAAV,EAAsB;QACzF,OAAOnO,QAAQ,CAAC,EAAD,EAAKmO,UAAL,EAAiB;UAC/BS,mBAAmB,EAAE;QADU,CAAjB,CAAf;MAGA,CAJqC,CAAtC;MAKA,IAAImD,8BAA8B,GAAG,KAAKC,wBAAL,CAA8BjE,GAA9B,CAAkC,UAAUkE,MAAV,EAAkB;QACxF,OAAOjS,QAAQ,CAAC,EAAD,EAAKiS,MAAL,EAAa;UAC3B1D,cAAc,EAAE;QADW,CAAb,CAAf;MAGA,CAJoC,CAArC;MAKA,IAAI2D,2BAA2B,GAAGL,2BAA2B,GAAG,GAAGtB,MAAH,CAAUwB,8BAAV,EAA0CD,+BAA1C,CAAH,GAAgFC,8BAA7I;MACA,IAAIhB,eAAe,GAAG,CAAC,GAAG7O,OAAO,CAACyP,iBAAZ,EAA+BO,2BAA/B,EAA4DhL,YAA5D,EAA0EuK,uBAA1E,CAAtB;;MAEA,IAAInF,kBAAkB,IAAI9C,KAAK,CAACC,OAAN,CAAc6C,kBAAd,CAA1B,EAA6D;QAC5DyE,eAAe,CAACoB,OAAhB,CAAwB7B,KAAxB,CAA8BS,eAA9B,EAA+C,CAAC,GAAG7O,OAAO,CAACgP,YAAZ,EAA0B5E,kBAA1B,CAA/C;MACA;;MACD,OAAOyE,eAAP;IACA;EAjCC,CA3F0B,CAAjB,CAAZ;;EA+HA,OAAOpK,cAAP;AACA,CAljBoB,CAkjBnBlF,MAAM,CAAC2Q,SAljBY,CAArB;;AAojBAzL,cAAc,CAAC0B,cAAf,GAAgC,UAAUvH,KAAV,EAAiB;EAChD,IAAIA,KAAK,CAACwH,eAAV,EAA2B;IAC1B,OAAOxH,KAAK,CAACwH,eAAN,CAAsBxH,KAAtB,CAAP;EACA;;EACD,IAAI,CAACA,KAAK,CAACsH,SAAX,EAAsB;IACrB,OAAO,IAAP;EACA;;EACD,IAAIiK,MAAM,GAAG,EAAb;EACA,IAAIC,mBAAmB,GAAG,CAAC,GAAGpQ,OAAO,CAACqQ,kBAAZ,EAAgCzR,KAAK,CAAC0R,SAAtC,EAAiDzE,GAAjD,CAAqD,UAAUyE,SAAV,EAAqB;IACnG,OAAOA,SAAS,CAACC,KAAjB;EACA,CAFyB,CAA1B;EAGA,IAAIC,cAAc,GAAG5R,KAAK,CAAC4R,cAAN,GAAuB5R,KAAK,CAAC4R,cAA7B,GAA8CJ,mBAAnE;;EAEA,IAAI,OAAOI,cAAP,KAA0B,QAA9B,EAAwC;IACvCL,MAAM,CAACK,cAAD,CAAN,GAAyB,EAAzB;EACA,CAFD,MAEO,IAAIlJ,KAAK,CAACC,OAAN,CAAciJ,cAAd,CAAJ,EAAmC;IACzCA,cAAc,CAACC,OAAf,CAAuB,UAAU3E,IAAV,EAAgB;MACtCqE,MAAM,CAACrE,IAAD,CAAN,GAAe,EAAf;IACA,CAFD;EAGA;;EAED,OAAO;IACN5F,SAAS,EAAEpI,QAAQ,CAAC;MACnB4S,QAAQ,EAAE,CAAC,QAAD,CADS;MAEnBC,SAAS,EAAE,CAAC,SAAD,CAFQ;MAGnBR,MAAM,EAAEA;IAHW,CAAD,EAIhBvR,KAAK,CAAC4R,cAAN,IAAwB;MAAEI,mBAAmB,EAAE;IAAvB,CAJR;EADb,CAAP;AAOA,CA5BD;;AA8BAnM,cAAc,CAACoM,YAAf,GAA8B,UAAUnN,KAAV,EAAiB9E,KAAjB,EAAwBuG,QAAxB,EAAkC;EAC/D,IAAI2L,UAAU,GAAG,IAAjB;;EAEA,IAAIpN,KAAJ,EAAW;IACV,IAAIyM,MAAM,GAAG,CAAC,GAAGnQ,OAAO,CAACqQ,kBAAZ,EAAgCzR,KAAK,CAAC0R,SAAtC,EAAiD1R,KAAK,CAACmS,YAAvD,CAAb;;IAEA,IAAInS,KAAK,CAACoS,WAAV,EAAuB;MACtBF,UAAU,GAAG;QACZG,YAAY,EAAExM,cAAc,CAACyM,WAAf,CAA2BxN,KAA3B,EAAkCyM,MAAlC,EAA0CvR,KAA1C;MADF,CAAb;IAGA,CAJD,MAIO,IAAIA,KAAK,CAACuS,eAAV,EAA2B;MACjCL,UAAU,GAAG;QACZM,mBAAmB,EAAE3M,cAAc,CAACyM,WAAf,CAA2BxN,KAA3B,EAAkCyM,MAAlC,EAA0CvR,KAA1C;MADT,CAAb;IAGA,CAJM,MAIA;MACNkS,UAAU,GAAG;QACZO,IAAI,EAAE;UACLC,MAAM,EAAE7M,cAAc,CAACyM,WAAf,CAA2BxN,KAA3B,EAAkCyM,MAAlC,EAA0CvR,KAA1C,CADH;UAEL2S,oBAAoB,EAAE;QAFjB;MADM,CAAb;IAMA;;IAED,IAAIpM,QAAQ,IAAIA,QAAQ,KAAK,GAA7B,EAAkC;MACjC,IAAIqM,KAAJ;;MAEAV,UAAU,GAAG,CAACA,UAAD,EAAa;QACzB/L,IAAI,GAAGyM,KAAK,GAAG,EAAR,EAAYA,KAAK,CAAC5S,KAAK,CAAC6S,aAAP,CAAL,GAA6BtM,QAAzC,EAAmDqM,KAAtD;MADqB,CAAb,CAAb;IAGA;EACD;;EAED,IAAI9N,KAAK,KAAK,EAAd,EAAkB;IACjBoN,UAAU,GAAG,IAAb;EACA;;EAED,IAAIA,UAAU,IAAIlS,KAAK,CAAC8S,WAAxB,EAAqC;IACpCZ,UAAU,GAAG;MACZa,MAAM,EAAE;QACPC,IAAI,EAAEhT,KAAK,CAAC8S,WADL;QAEPG,KAAK,EAAEf;MAFA;IADI,CAAb;EAMA;;EAED,OAAOA,UAAP;AACA,CA9CD;;AAgDArM,cAAc,CAACyM,WAAf,GAA6B,UAAUxN,KAAV,EAAiB;EAC7C,IAAIoO,UAAU,GAAG3T,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8G,SAAzC,GAAqD9G,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAArF;EACA,IAAIS,KAAK,GAAGT,SAAS,CAAC,CAAD,CAArB;EAEA,IAAI2S,UAAU,GAAG,EAAjB;EACA,IAAIiB,kBAAkB,GAAG,EAAzB;EACA,IAAI5B,MAAM,GAAG2B,UAAU,CAACjG,GAAX,CAAe,UAAUyE,SAAV,EAAqB;IAChD,IAAI0B,UAAU,GAAG,KAAK1B,SAAS,CAACC,KAAf,IAAwBD,SAAS,CAAC2B,MAAV,GAAmB,MAAM3B,SAAS,CAAC2B,MAAnC,GAA4C,EAApE,CAAjB;;IACA,IAAI,EAAE3B,SAAS,CAACC,KAAV,CAAgB2B,QAAhB,CAAyB,UAAzB,KAAwC5B,SAAS,CAACC,KAAV,CAAgB2B,QAAhB,CAAyB,cAAzB,CAAxC,IAAoF5B,SAAS,CAACC,KAAV,CAAgB2B,QAAhB,CAAyB,SAAzB,CAAtF,CAAJ,EAAgI;MAC/HH,kBAAkB,CAACI,IAAnB,CAAwBH,UAAxB;IACA;;IACD,OAAOA,UAAP;EACA,CANY,CAAb;;EAOA,IAAIpT,KAAK,CAACuS,eAAN,IAAyBvS,KAAK,CAACoS,WAAnC,EAAgD;IAC/C,OAAO;MACNa,KAAK,EAAEnO,KADD;MAENyM,MAAM,EAAEA,MAFF;MAGNiC,gBAAgB,EAAExT,KAAK,CAACyT;IAHlB,CAAP;EAKA;;EAED,IAAIzT,KAAK,CAACyT,WAAN,KAAsB,KAA1B,EAAiC;IAChCvB,UAAU,CAACqB,IAAX,CAAgB;MACfG,WAAW,EAAE;QACZT,KAAK,EAAEnO,KADK;QAEZyM,MAAM,EAAEA,MAFI;QAGZ1D,IAAI,EAAE,cAHM;QAIZ8F,QAAQ,EAAE;MAJE;IADE,CAAhB;IAQAzB,UAAU,CAACqB,IAAX,CAAgB;MACfG,WAAW,EAAE;QACZT,KAAK,EAAEnO,KADK;QAEZyM,MAAM,EAAEA,MAFI;QAGZ1D,IAAI,EAAE,QAHM;QAIZ8F,QAAQ,EAAE;MAJE;IADE,CAAhB;;IAQA,IAAIR,kBAAkB,CAAC3T,MAAnB,GAA4B,CAAhC,EAAmC;MAClC0S,UAAU,CAACqB,IAAX,CAAgB;QACfG,WAAW,EAAE;UACZT,KAAK,EAAEnO,KADK;UAEZyM,MAAM,EAAE4B,kBAFI;UAGZtF,IAAI,EAAE,eAHM;UAIZ8F,QAAQ,EAAE;QAJE;MADE,CAAhB;IAQA;;IACD,OAAOzB,UAAP;EACA;;EAEDA,UAAU,CAACqB,IAAX,CAAgB;IACfG,WAAW,EAAE;MACZT,KAAK,EAAEnO,KADK;MAEZyM,MAAM,EAAEA,MAFI;MAGZ1D,IAAI,EAAE,aAHM;MAIZ8F,QAAQ,EAAE,IAJE;MAKZC,SAAS,EAAE5T,KAAK,CAAC4T,SAAN,GAAkB5T,KAAK,CAAC4T,SAAxB,GAAoC;IALnC;EADE,CAAhB;EAUA1B,UAAU,CAACqB,IAAX,CAAgB;IACfG,WAAW,EAAE;MACZT,KAAK,EAAEnO,KADK;MAEZyM,MAAM,EAAEA,MAFI;MAGZ1D,IAAI,EAAE,QAHM;MAIZ8F,QAAQ,EAAE;IAJE;EADE,CAAhB;;EASA,IAAIR,kBAAkB,CAAC3T,MAAnB,GAA4B,CAAhC,EAAmC;IAClC0S,UAAU,CAACqB,IAAX,CAAgB;MACfG,WAAW,EAAE;QACZT,KAAK,EAAEnO,KADK;QAEZyM,MAAM,EAAE4B,kBAFI;QAGZtF,IAAI,EAAE,eAHM;QAIZ8F,QAAQ,EAAE;MAJE;IADE,CAAhB;EAQA;;EACD,OAAOzB,UAAP;AACA,CAjFD;;AAmFA,IAAIlM,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;EAClD,IAAI6N,MAAM,GAAG,IAAb;;EAEA,KAAKC,YAAL,GAAoB,UAAUnC,KAAV,EAAiB;IACpC,IAAIoC,KAAJ;;IAEA,OAAO;MACNC,IAAI,GAAGD,KAAK,GAAG,EAAR,EAAYA,KAAK,CAACpC,KAAD,CAAL,GAAe;QACjCsC,KAAK,EAAE;UACNtC,KAAK,EAAEA;QADD;MAD0B,CAA3B,EAIJoC,KAJC;IADE,CAAP;EAOA,CAVD;;EAYA,KAAKlM,oBAAL,GAA4B,YAAY;IACvC,IAAIqM,OAAO,GAAGL,MAAM,CAAC7T,KAArB;IAAA,IACI6S,aAAa,GAAGqB,OAAO,CAACrB,aAD5B;IAAA,IAEI/I,gBAAgB,GAAGoK,OAAO,CAACpK,gBAF/B;;IAIA,IAAIlC,SAAS,GAAGiM,MAAM,CAACC,YAAP,CAAoBjB,aAApB,CAAhB;;IACA,IAAI/I,gBAAJ,EAAsB;MACrB,IAAIqK,kBAAkB,GAAG,CAAC,GAAG/S,OAAO,CAACgT,qBAAZ,EAAmC;QAC3DtP,KAAK,EAAE,IADoD;QAE3D9E,KAAK,EAAE6T,MAAM,CAAC7T,KAF6C;QAG3DqU,WAAW,EAAE;MAH8C,CAAnC,CAAzB;MAKAzM,SAAS,CAACoM,IAAV,GAAiB9U,QAAQ,CAAC,EAAD,EAAK0I,SAAS,CAACoM,IAAf,EAAqBG,kBAAkB,CAACH,IAAxC,CAAzB;IACA;;IACD,OAAOpM,SAAP;EACA,CAfD;;EAiBA,KAAKiB,aAAL,GAAqB,UAAUyL,aAAV,EAAyB;IAC7C,OAAO,CAAC,GAAGlT,OAAO,CAACmT,mBAAZ,EAAiCD,aAAjC,EAAgDT,MAAM,CAAClN,KAAP,CAAaP,YAA7D,EAA2EyN,MAAM,CAAC7T,KAAlF,CAAP;EACA,CAFD;;EAIA,KAAKmI,QAAL,GAAgB,UAAUrD,KAAV,EAAiB;IAChC,IAAI0P,cAAc,GAAGjV,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8G,SAAzC,GAAqD9G,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAzF;IACA,IAAIS,KAAK,GAAGT,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8G,SAAzC,GAAqD9G,SAAS,CAAC,CAAD,CAA9D,GAAoEsU,MAAM,CAAC7T,KAAvF;IACA,IAAIuG,QAAQ,GAAGhH,SAAS,CAAC,CAAD,CAAxB;IACA,IAAIwI,KAAK,GAAGxI,SAAS,CAAC,CAAD,CAArB;IACA,IAAIuI,UAAU,GAAGvI,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8G,SAAzC,GAAqD9G,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAArF;IACA,IAAIkV,YAAY,GAAGlV,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8G,SAAzC,GAAqD9G,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAAvF;;IAEA,IAAImV,aAAa,GAAG,SAASA,aAAT,GAAyB;MAC5C,IAAI5M,UAAJ,EAAgB;QACf,IAAI6M,OAAO,GAAGd,MAAM,CAAC7T,KAArB;QAAA,IACI4J,oBAAoB,GAAG+K,OAAO,CAAC/K,oBADnC;QAAA,IAEIC,mBAAmB,GAAG8K,OAAO,CAAC9K,mBAFlC,CADe,CAIf;;QAEA,IAAI,CAAC/E,KAAD,IAAU+O,MAAM,CAAClN,KAAP,CAAaP,YAAvB,IAAuCwD,oBAA3C,EAAiE;UAChEC,mBAAmB;QACnB;;QACDgK,MAAM,CAAC/K,QAAP,CAAgB;UACf1C,YAAY,EAAEtB,KAAK,IAAI,EADR;UAEf0B,eAAe,EAAED,QAAQ,IAAI;QAFd,CAAhB,EAGG,YAAY;UACd,IAAIiO,cAAJ,EAAoB;YACnB,IAAIX,MAAM,CAAC7T,KAAP,CAAa4L,WAAjB,EAA8B;cAC7B,IAAI6I,YAAJ,EAAkB;gBACjBZ,MAAM,CAAC/K,QAAP,CAAgB;kBACfjC,MAAM,EAAE;gBADO,CAAhB;cAGA;;cACDgN,MAAM,CAACxM,kBAAP,CAA0BvC,KAA1B,EAAiC9E,KAAjC;YACA,CARkB,CASnB;YACA;;;YACA,IAAIA,KAAK,CAAC4U,eAAV,EAA2B;cAC1B,IAAI7M,KAAK,KAAKrG,QAAQ,CAACqC,OAAT,CAAiB8Q,iBAA3B,IAAgD/P,KAAK,KAAK,EAA9D,EAAkE;gBACjE+O,MAAM,CAACpL,WAAP,CAAmB3D,KAAnB,EAA0B9E,KAA1B,EAAiCuG,QAAjC;cACA,CAFD,MAEO;gBACNsN,MAAM,CAAC1L,QAAP,CAAgB,EAAhB,EAAoB,IAApB;cACA;YACD,CAND,MAMO;cACN0L,MAAM,CAACpL,WAAP,CAAmB3D,KAAnB,EAA0B9E,KAA1B,EAAiCuG,QAAjC;YACA;UACD,CApBD,MAoBO;YACN;YACAsN,MAAM,CAACiB,gBAAP,CAAwBhQ,KAAxB;UACA;;UACD,IAAI9E,KAAK,CAAC+U,aAAV,EAAyB/U,KAAK,CAAC+U,aAAN,CAAoBjQ,KAApB;QACzB,CA7BD;MA8BA,CAvCD,MAuCO;QACN+O,MAAM,CAACxM,kBAAP,CAA0BvC,KAA1B,EAAiC9E,KAAjC;;QACA6T,MAAM,CAACpL,WAAP,CAAmB3D,KAAnB,EAA0B9E,KAA1B,EAAiCuG,QAAjC;;QACA,IAAIvG,KAAK,CAAC+U,aAAV,EAAyB/U,KAAK,CAAC+U,aAAN,CAAoBjQ,KAApB;MACzB;IACD,CA7CD;;IA8CA,CAAC,GAAG1D,OAAO,CAAC4T,gBAAZ,EAA8BhV,KAAK,CAACiH,WAApC,EAAiDnC,KAAjD,EAAwD9E,KAAK,CAACiV,iBAA9D,EAAiFP,aAAjF;EACA,CAvDD;;EAyDA,KAAKI,gBAAL,GAAwB,CAAC,GAAG1T,OAAO,CAAC8T,QAAZ,EAAsB,UAAUpQ,KAAV,EAAiB;IAC9D,IAAI+O,MAAM,CAAC7T,KAAP,CAAa4L,WAAjB,EAA8B;MAC7BiI,MAAM,CAACxM,kBAAP,CAA0BvC,KAA1B,EAAiC+O,MAAM,CAAC7T,KAAxC;IACA,CAFD,MAEO;MACN6T,MAAM,CAACpL,WAAP,CAAmB3D,KAAnB,EAA0B+O,MAAM,CAAC7T,KAAjC;IACA;EACD,CANuB,EAMrB,KAAKA,KAAL,CAAWkV,QANU,CAAxB;;EAQA,KAAK7N,kBAAL,GAA0B,UAAUvC,KAAV,EAAiB9E,KAAjB,EAAwB;IACjD,IAAIuG,QAAQ,GAAGhH,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8G,SAAzC,GAAqD9G,SAAS,CAAC,CAAD,CAA9D,GAAoEsU,MAAM,CAAClN,KAAP,CAAaH,eAAhG;IACA,IAAIyL,YAAY,GAAGjS,KAAK,CAACiS,YAAzB;IAEA,IAAIkD,mBAAmB,GAAG,KAAK,CAA/B;IACA,IAAIlC,KAAK,GAAGpN,cAAc,CAACoM,YAAf,CAA4BnN,KAA5B,EAAmC9E,KAAnC,EAA0CuG,QAA1C,CAAZ;;IACA,IAAI0L,YAAJ,EAAkB;MACjB,IAAImD,mBAAmB,GAAGnD,YAAY,CAACnN,KAAD,EAAQ9E,KAAR,EAAeuG,QAAf,CAAZ,IAAwC,EAAlE;;MACA,IAAI6O,mBAAmB,CAACnC,KAAxB,EAA+B;QAC9BA,KAAK,GAAGmC,mBAAmB,CAACnC,KAA5B;MACA;;MACDkC,mBAAmB,GAAG,CAAC,GAAG/T,OAAO,CAACiU,mBAAZ,EAAiCD,mBAAjC,CAAtB,CALiB,CAMjB;;MACA,CAAC,GAAGhU,OAAO,CAACiG,kBAAZ,EAAgCrH,KAAK,CAACiH,WAAtC,EAAmDjH,KAAnD,EAA0D8E,KAA1D;IACA;;IACD9E,KAAK,CAACsV,yBAAN,CAAgCxQ,KAAhC;;IACA,IAAI8C,SAAS,GAAGiM,MAAM,CAAChM,oBAAP,EAAhB;;IACA7H,KAAK,CAAC2H,eAAN,CAAsBkM,MAAM,CAAC9M,iBAA7B,EAAgD7H,QAAQ,CAAC,EAAD,EAAK2U,MAAM,CAAC3M,YAAZ,EAA0BU,SAA1B,EAAqCuN,mBAArC,CAAxD;IACAnV,KAAK,CAACyI,WAAN,CAAkB;MACjBxB,WAAW,EAAE4M,MAAM,CAAC9M,iBADH;MAEjBkM,KAAK,EAAEA,KAFU;MAGjBnO,KAAK,EAAEA,KAHU;MAIjByB,QAAQ,EAAEA,QAJO;MAKjBgP,aAAa,EAAElU,UAAU,CAACmU,cAAX,CAA0BC;IALxB,CAAlB;EAOA,CAzBD;;EA2BA,KAAKhN,WAAL,GAAmB,UAAU3D,KAAV,EAAiB9E,KAAjB,EAAwB;IAC1C,IAAIuG,QAAQ,GAAGhH,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8G,SAAzC,GAAqD9G,SAAS,CAAC,CAAD,CAA9D,GAAoEsU,MAAM,CAAClN,KAAP,CAAaH,eAAhG;IACA,IAAIkP,WAAW,GAAG1V,KAAK,CAAC0V,WAAxB;IAAA,IACIC,WAAW,GAAG3V,KAAK,CAAC2V,WADxB;IAAA,IAEIC,UAAU,GAAG5V,KAAK,CAAC4V,UAFvB;IAAA,IAGIC,SAAS,GAAG7V,KAAK,CAAC6V,SAHtB;IAMA,IAAIC,kBAAkB,GAAG,KAAK,CAA9B;IACA,IAAI7C,KAAK,GAAGpN,cAAc,CAACoM,YAAf,CAA4BnN,KAA5B,EAAmC9E,KAAnC,EAA0CuG,QAA1C,CAAZ;;IACA,IAAImP,WAAJ,EAAiB;MAChB,IAAIK,kBAAkB,GAAGL,WAAW,CAAC5Q,KAAD,EAAQ9E,KAAR,EAAeuG,QAAf,CAAX,IAAuC,EAAhE;;MACA,IAAIwP,kBAAkB,CAAC9C,KAAvB,EAA8B;QAC7BA,KAAK,GAAG8C,kBAAkB,CAAC9C,KAA3B;MACA;;MACD6C,kBAAkB,GAAG,CAAC,GAAG1U,OAAO,CAACiU,mBAAZ,EAAiCU,kBAAjC,CAArB;MACA,CAAC,GAAG3U,OAAO,CAACgG,iBAAZ,EAA+BpH,KAAK,CAACiH,WAArC,EAAkDjH,KAAlD,EAAyD8E,KAAzD;IACA;;IAED,IAAI,CAAC+O,MAAM,CAAC/M,SAAZ,EAAuB;MACtB;MACA;MACA;MACA9G,KAAK,CAAC2H,eAAN,CAAsB3H,KAAK,CAACiH,WAA5B,EAAyC/H,QAAQ,CAAC,EAAD,EAAK2U,MAAM,CAAC3M,YAAZ,EAA0B4O,kBAA1B,CAAjD,EAAgG,KAAhG;MACA9V,KAAK,CAACyI,WAAN,CAAkB;QACjBxB,WAAW,EAAEjH,KAAK,CAACiH,WADF;QAEjBgM,KAAK,EAAEA,KAFU;QAGjBnO,KAAK,EAAEA,KAHU;QAIjB6I,KAAK,EAAEgI,WAJU;QAKjBC,UAAU,EAAEA,UALK;QAMjBC,SAAS,EAAEA,SANM;QAOjBN,aAAa,EAAElU,UAAU,CAACmU,cAAX,CAA0BC,cAPxB;QAQjBlP,QAAQ,EAAEA;MARO,CAAlB;IAUA;EACD,CAnCD;;EAqCA,KAAKwI,WAAL,GAAmB,UAAUiH,KAAV,EAAiB;IACnCnC,MAAM,CAAC/K,QAAP,CAAgB;MACfjC,MAAM,EAAE;IADO,CAAhB;;IAGA,IAAIgN,MAAM,CAAC7T,KAAP,CAAa8O,OAAjB,EAA0B;MACzB+E,MAAM,CAAC7T,KAAP,CAAa8O,OAAb,CAAqBkH,KAArB,EAA4BnC,MAAM,CAAC3L,YAAnC;IACA;EACD,CAPD;;EASA,KAAK+N,UAAL,GAAkB,YAAY;IAC7BpC,MAAM,CAAC/M,SAAP,GAAmB,KAAnB;;IACA+M,MAAM,CAAC1L,QAAP,CAAgB,EAAhB,EAAoB,IAApB;;IACA0L,MAAM,CAAC3K,eAAP,CAAuB,EAAvB,EAA2BxH,QAAQ,CAACqC,OAAT,CAAiBoF,WAA5C,EAAyD,IAAzD;EACA,CAJD;;EAMA,KAAK+F,aAAL,GAAqB,UAAU8G,KAAV,EAAiB1J,gBAAjB,EAAmC;IACvD,IAAI4J,OAAO,GAAGrC,MAAM,CAAC7T,KAArB;IAAA,IACI8E,KAAK,GAAGoR,OAAO,CAACpR,KADpB;IAAA,IAEImD,QAAQ,GAAGiO,OAAO,CAACjO,QAFvB;;IAIA,IAAInD,KAAK,KAAKuB,SAAV,IAAuB4B,QAA3B,EAAqC;MACpC4L,MAAM,CAAC/M,SAAP,GAAmB,IAAnB;IACA,CAPsD,CAQvD;;;IACA,IAAIkP,KAAK,CAACtW,GAAN,KAAc,OAAd,IAAyB4M,gBAAgB,KAAK,IAAlD,EAAwD;MACvDuH,MAAM,CAAC1L,QAAP,CAAgB6N,KAAK,CAAC3W,MAAN,CAAayF,KAA7B,EAAoC,IAApC;;MACA,IAAIsB,YAAY,GAAG;QAClBD,IAAI,EAAE6P,KAAK,CAAC3W,MAAN,CAAayF,KADD;QAElByB,QAAQ,EAAE;MAFQ,CAAnB;;MAIAsN,MAAM,CAAC3K,eAAP,CAAuB9C,YAAvB,EAAqC1E,QAAQ,CAACqC,OAAT,CAAiBoS,WAAtD;IACA;;IACD,IAAItC,MAAM,CAAC7T,KAAP,CAAawK,SAAjB,EAA4B;MAC3BqJ,MAAM,CAAC7T,KAAP,CAAawK,SAAb,CAAuBwL,KAAvB,EAA8BnC,MAAM,CAAC3L,YAArC;IACA;EACD,CApBD;;EAsBA,KAAKyG,aAAL,GAAqB,UAAUM,CAAV,EAAa;IACjC,IAAImH,UAAU,GAAGnH,CAAC,CAAC5P,MAAF,CAASyF,KAA1B;;IAEA,IAAI,CAAC+O,MAAM,CAAClN,KAAP,CAAaE,MAAlB,EAA0B;MACzBgN,MAAM,CAAC/K,QAAP,CAAgB;QACfjC,MAAM,EAAE;MADO,CAAhB;IAGA;;IAED,IAAIwP,QAAQ,GAAGxC,MAAM,CAAC7T,KAAtB;IAAA,IACI8E,KAAK,GAAGuR,QAAQ,CAACvR,KADrB;IAAA,IAEImD,QAAQ,GAAGoO,QAAQ,CAACpO,QAFxB;;IAIA,IAAInD,KAAK,KAAKuB,SAAd,EAAyB;MACxBwN,MAAM,CAAC1L,QAAP,CAAgBiO,UAAhB;IACA,CAFD,MAEO,IAAInO,QAAJ,EAAc;MACpB4L,MAAM,CAAC/M,SAAP,GAAmB,IAAnB;MACA,IAAIV,YAAY,GAAG;QAClBD,IAAI,EAAEiQ,UADY,CAElB;;MAFkB,CAAnB,CAFoB,CAMpB;;MACA,CAAC,GAAGnT,MAAM,CAACqT,mBAAX,EAAgCrH,CAAhC;MACAhH,QAAQ,CAAC7B,YAAD,EAAe,YAAY;QAClC,OAAOyN,MAAM,CAAC3L,YAAP,CAAoB9B,YAApB,CAAP;MACA,CAFO,EAEL6I,CAFK,CAAR;IAGA,CAXM,MAWA;MACN4E,MAAM,CAAC1L,QAAP,CAAgBiO,UAAhB;IACA;EACD,CA7BD;;EA+BA,KAAKlO,YAAL,GAAoB,UAAUpD,KAAV,EAAiB;IACpC,IAAIsB,YAAY,GAAGtB,KAAK,CAACqB,IAAzB;IAAA,IACIoQ,gBAAgB,GAAGzR,KAAK,CAACyB,QAD7B;IAAA,IAEIC,eAAe,GAAG+P,gBAAgB,KAAKlQ,SAArB,GAAiC,IAAjC,GAAwCkQ,gBAF9D;IAAA,IAGIC,aAAa,GAAG1R,KAAK,CAAC+B,MAH1B;IAAA,IAIIA,MAAM,GAAG2P,aAAa,KAAKnQ,SAAlB,GAA8B,KAA9B,GAAsCmQ,aAJnD;IAMA3C,MAAM,CAAC/M,SAAP,GAAmB,KAAnB;;IACA+M,MAAM,CAAC1L,QAAP,CAAgB/B,YAAhB,EAA8B,CAACS,MAA/B,EAAuCgN,MAAM,CAAC7T,KAA9C,EAAqDwG,eAArD;EACA,CATD;;EAWA,KAAKsF,oBAAL,GAA4B,UAAUuB,UAAV,EAAsB;IACjD,IAAIoJ,QAAQ,GAAG5C,MAAM,CAAC7T,KAAtB;IAAA,IACI8E,KAAK,GAAG2R,QAAQ,CAAC3R,KADrB;IAAA,IAEImD,QAAQ,GAAGwO,QAAQ,CAACxO,QAFxB;IAIA,IAAI7B,YAAY,GAAG;MAClBD,IAAI,EAAEkH,UAAU,CAACvI,KADC;MAElByB,QAAQ,EAAE8G,UAAU,CAAC9G,QAAX,IAAuB;IAFf,CAAnB;;IAIAsN,MAAM,CAAC/K,QAAP,CAAgB;MACfjC,MAAM,EAAE;IADO,CAAhB;;IAGA,IAAI/B,KAAK,KAAKuB,SAAd,EAAyB;MACxBwN,MAAM,CAAC1L,QAAP,CAAgB/B,YAAY,CAACD,IAA7B,EAAmC,IAAnC,EAAyC0N,MAAM,CAAC7T,KAAhD,EAAuDoG,YAAY,CAACG,QAApE,EAA8E7E,QAAQ,CAACqC,OAAT,CAAiB8Q,iBAA/F;IACA,CAFD,MAEO,IAAI5M,QAAJ,EAAc;MACpB4L,MAAM,CAAC/M,SAAP,GAAmB,KAAnB;MACAmB,QAAQ,CAAC7B,YAAD,EAAe,YAAY;QAClC,OAAOyN,MAAM,CAAC3L,YAAP,CAAoB9B,YAApB,CAAP;MACA,CAFO,CAAR;IAGA,CAnBgD,CAoBjD;;;IACAyN,MAAM,CAAC6C,qBAAP,CAA6BrJ,UAAU,CAACsJ,SAAxC,EArBiD,CAsBjD;IACA;IACA;;;IACA9C,MAAM,CAAC3K,eAAP,CAAuB9C,YAAvB,EAAqC1E,QAAQ,CAACqC,OAAT,CAAiB8Q,iBAAtD,EAAyExH,UAAU,CAAC5N,MAApF;EACA,CA1BD;;EA4BA,KAAKyJ,eAAL,GAAuB,UAAUzC,aAAV,EAAyBsB,KAAzB,EAAgCtI,MAAhC,EAAwC;IAC9D,IAAIyJ,eAAe,GAAG2K,MAAM,CAAC7T,KAAP,CAAakJ,eAAnC;;IAEA,IAAIA,eAAJ,EAAqB;MACpBA,eAAe,CAACzC,aAAD,EAAgBsB,KAAhB,EAAuBtI,MAAvB,CAAf;IACA;EACD,CAND;;EAQA,KAAKuM,iBAAL,GAAyB,UAAU4K,OAAV,EAAmB;IAC3C,IAAI/P,MAAM,GAAG+P,OAAO,CAAC/P,MAArB;IAAA,IACIgH,IAAI,GAAG+I,OAAO,CAAC/I,IADnB;;IAGA,IAAIA,IAAI,KAAK9M,WAAW,CAACgD,OAAZ,CAAoB8S,gBAApB,CAAqCC,OAA9C,IAAyDjQ,MAAM,KAAKR,SAAxE,EAAmF;MAClFwN,MAAM,CAAC/K,QAAP,CAAgB;QACfjC,MAAM,EAAEA;MADO,CAAhB;IAGA;EACD,CATD;;EAWA,KAAKuG,kBAAL,GAA0B,UAAUd,gBAAV,EAA4BrC,KAA5B,EAAmC;IAC5D,IAAI8M,MAAM,GAAGlD,MAAM,CAAC7T,KAAP,CAAaiL,WAAb,KAA6B,MAA1C;;IACA,IAAI8L,MAAJ,EAAY;MACX,OAAOzK,gBAAgB,KAAKrC,KAArB,GAA6B,MAA7B,GAAsC,SAA7C;IACA;;IACD,OAAOqC,gBAAgB,KAAKrC,KAArB,GAA6B,MAA7B,GAAsC,MAA7C;EACA,CAND;;EAQA,KAAK+M,qBAAL,GAA6B,YAAY;IACxC,IAAI5Q,YAAY,GAAGyN,MAAM,CAAClN,KAAP,CAAaP,YAAhC;;IAEA,IAAIA,YAAY,CAACwC,IAAb,EAAJ,EAAyB;MACxBiL,MAAM,CAAC/M,SAAP,GAAmB,KAAnB;;MACA+M,MAAM,CAAC1L,QAAP,CAAgB/B,YAAhB,EAA8B,IAA9B;;MACAyN,MAAM,CAAC3K,eAAP,CAAuB9C,YAAvB,EAAqC1E,QAAQ,CAACqC,OAAT,CAAiBkT,iBAAtD;IACA;EACD,CARD;;EAUA,KAAKC,kBAAL,GAA0B,UAAUC,KAAV,EAAiB;IAC1C,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IAEA,IAAIA,OAAO,IAAIA,OAAO,CAAC,CAAD,CAAlB,IAAyBA,OAAO,CAAC,CAAD,CAAP,CAAWC,OAApC,IAA+CD,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,CAA/C,IAAgEA,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,EAAcE,UAA9E,IAA4FF,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,EAAcE,UAAd,CAAyB1O,IAAzB,EAAhG,EAAiI;MAChIiL,MAAM,CAAC/M,SAAP,GAAmB,KAAnB;;MACA+M,MAAM,CAAC1L,QAAP,CAAgBiP,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,EAAcE,UAAd,CAAyB1O,IAAzB,EAAhB,EAAiD,IAAjD;IACA;EACD,CAPD;;EASA,KAAKuF,sBAAL,GAA8B,YAAY;IACzC,IAAIoJ,WAAW,GAAG1D,MAAM,CAAC7T,KAAP,CAAauX,WAA/B;;IAEA,IAAIA,WAAJ,EAAiB;MAChB,OAAO,CAAC,GAAG9W,KAAK,CAAC0E,GAAV,EACN/C,YAAY,CAAC2B,OADP,EAEN,IAFM,EAGNwT,WAHM,CAAP;IAKA;;IAED,OAAO,IAAP;EACA,CAZD;;EAcA,KAAK7H,qBAAL,GAA6B,YAAY;IACxC,IAAI8H,UAAU,GAAG3D,MAAM,CAAC7T,KAAP,CAAawX,UAA9B;;IAEA,IAAIA,UAAJ,EAAgB;MACf,OAAO,CAAC,GAAG/W,KAAK,CAAC0E,GAAV,EACN/C,YAAY,CAAC2B,OADP,EAEN,IAFM,EAGNyT,UAHM,CAAP;IAKA;;IAED,OAAO,IAAP;EACA,CAZD;;EAcA,KAAKC,UAAL,GAAkB,YAAY;IAC7B,IAAI5D,MAAM,CAAC7T,KAAP,CAAawO,QAAjB,EAA2B;MAC1B,OAAOqF,MAAM,CAAC7T,KAAP,CAAa4N,IAAb,IAAqB,CAAC,GAAGnN,KAAK,CAAC0E,GAAV,EAAezC,WAAW,CAACqB,OAA3B,EAAoC,IAApC,CAA5B;IACA;;IACD,OAAO,IAAP;EACA,CALD;;EAOA,KAAK2T,gBAAL,GAAwB,YAAY;IACnC,IAAI7D,MAAM,CAAC7T,KAAP,CAAauO,SAAjB,EAA4B;MAC3B,OAAOsF,MAAM,CAAC7T,KAAP,CAAa2X,SAAb,IAA0B,CAAC,GAAGlX,KAAK,CAAC0E,GAAV,EAAe3C,WAAW,CAACuB,OAA3B,EAAoC,IAApC,CAAjC;IACA;;IACD,OAAO,IAAP;EACA,CALD;;EAOA,KAAKuL,WAAL,GAAmB,YAAY;IAC9B,IAAIsI,QAAQ,GAAG/D,MAAM,CAAC7T,KAAtB;IAAA,IACIwO,QAAQ,GAAGoJ,QAAQ,CAACpJ,QADxB;IAAA,IAEID,SAAS,GAAGqJ,QAAQ,CAACrJ,SAFzB;IAAA,IAGIsJ,SAAS,GAAGD,QAAQ,CAACC,SAHzB;IAAA,IAIIC,cAAc,GAAGF,QAAQ,CAACE,cAJ9B;IAAA,IAKIpN,eAAe,GAAGkN,QAAQ,CAAClN,eAL/B;IAAA,IAMI+D,YAAY,GAAGmJ,QAAQ,CAACnJ,YAN5B;IAAA,IAOI9C,UAAU,GAAGiM,QAAQ,CAACjM,UAP1B;IAUA,OAAO,CAAC,GAAGlL,KAAK,CAAC0E,GAAV,EACN,KADM,EAEN,IAFM,EAGN,CAAC,GAAG1E,KAAK,CAAC0E,GAAV,EACCtB,WAAW,CAACE,OADb,EAEC;MAAEgU,aAAa,EAAE,OAAjB;MAA0BC,YAAY,EAAE;IAAxC,CAFD,EAGCnE,MAAM,CAAClN,KAAP,CAAaP,YAAb,IAA6BmI,SAA7B,IAA0C,CAAC,GAAG9N,KAAK,CAAC0E,GAAV,EACzCxB,aAAa,CAACI,OAD2B,EAEzC;MAAEqL,OAAO,EAAEyE,MAAM,CAACoC,UAAlB;MAA8BzH,QAAQ,EAAEA,QAAxC;MAAkDyJ,WAAW,EAAE;IAA/D,CAFyC,EAGzCpE,MAAM,CAAC6D,gBAAP,EAHyC,CAH3C,EAQC7D,MAAM,CAACpJ,eAAP,CAAuBC,eAAvB,KAA2C,CAAC,GAAGjK,KAAK,CAAC0E,GAAV,EAAerC,KAAK,CAACiB,OAArB,EAA8B;MACxEmU,WAAW,EAAEJ,cAD2D;MAExEhN,MAAM,EAAE+M,SAFgE;MAGxEM,QAAQ,EAAEtE,MAAM,CAACqD,kBAHuD;MAIxE9R,SAAS,EAAE,CAAC,GAAGhE,OAAO,CAACsK,YAAZ,EAA0BC,UAA1B,EAAsC,KAAtC,KAAgD;IAJa,CAA9B,CAR5C,EAcC8C,YAAY,KAAK,OAAjB,IAA4B,CAAC,GAAGhO,KAAK,CAAC0E,GAAV,EAC3BxB,aAAa,CAACI,OADa,EAE3B;MAAEqL,OAAO,EAAEyE,MAAM,CAACmD;IAAlB,CAF2B,EAG3BnD,MAAM,CAAC4D,UAAP,EAH2B,CAd7B,CAHM,EAuBN,CAAC,GAAGhX,KAAK,CAAC0E,GAAV,EACCtB,WAAW,CAACE,OADb,EAEC;MAAEgU,aAAa,EAAE,MAAjB;MAAyBC,YAAY,EAAE;IAAvC,CAFD,EAGCvJ,YAAY,KAAK,MAAjB,IAA2B,CAAC,GAAGhO,KAAK,CAAC0E,GAAV,EAC1BxB,aAAa,CAACI,OADY,EAE1B;MAAEqL,OAAO,EAAEyE,MAAM,CAACmD;IAAlB,CAF0B,EAG1BnD,MAAM,CAAC4D,UAAP,EAH0B,CAH5B,CAvBM,CAAP;EAiCA,CA5CD;;EA8CA,KAAKzJ,kBAAL,GAA0B,YAAY;IACrC,IAAI5C,oBAAoB,GAAG7L,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8G,SAAzC,GAAqD9G,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/F;IACA,IAAI6Y,QAAQ,GAAGvE,MAAM,CAAC7T,KAAtB;IAAA,IACIiL,WAAW,GAAGmN,QAAQ,CAACnN,WAD3B;IAAA,IAEIzF,KAAK,GAAG4S,QAAQ,CAAC5S,KAFrB;IAAA,IAGI6S,SAAS,GAAGD,QAAQ,CAACC,SAHzB;IAAA,IAIIrK,kBAAkB,GAAGoK,QAAQ,CAACpK,kBAJlC;IAAA,IAKIrC,UAAU,GAAGyM,QAAQ,CAACzM,UAL1B;IAAA,IAMIiB,WAAW,GAAGwL,QAAQ,CAACxL,WAN3B;IAAA,IAOI0L,KAAK,GAAGF,QAAQ,CAACE,KAPrB;IAQA,IAAIC,MAAM,GAAG1E,MAAM,CAAClN,KAApB;IAAA,IACIE,MAAM,GAAG0R,MAAM,CAAC1R,MADpB;IAAA,IAEIT,YAAY,GAAGmS,MAAM,CAACnS,YAF1B;;IAIA,IAAI4H,kBAAkB,IAAInH,MAAtB,IAAgC,CAACuE,oBAAoB,CAAC5L,MAAtD,IAAgE,CAAC6Y,SAAjE,IAA8EjS,YAA9E,IAA8F,EAAEwG,WAAW,IAAI0L,KAAjB,CAAlG,EAA2H;MAC1H,OAAO,CAAC,GAAG7X,KAAK,CAAC0E,GAAV,EACN9B,mBAAmB,CAACU,OADd,EAEN;QACC4H,UAAU,EAAEA,UADb;QAECV,WAAW,EAAEA,WAFd;QAGCzF,KAAK,EAAEA,KAHR;QAICgT,cAAc,EAAE;MAJjB,CAFM,EAQN,OAAOxK,kBAAP,KAA8B,UAA9B,GAA2CA,kBAAkB,CAAC5H,YAAD,CAA7D,GAA8E4H,kBARxE,CAAP;IAUA;;IACD,OAAO,IAAP;EACA,CA3BD;;EA6BA,KAAKrB,YAAL,GAAoB,YAAY;IAC/B,IAAI8L,QAAQ,GAAG5E,MAAM,CAAC7T,KAAtB;IAAA,IACI0Y,MAAM,GAAGD,QAAQ,CAACC,MADtB;IAAA,IAEIL,SAAS,GAAGI,QAAQ,CAACJ,SAFzB;IAAA,IAGIpN,WAAW,GAAGwN,QAAQ,CAACxN,WAH3B;IAAA,IAIIzF,KAAK,GAAGiT,QAAQ,CAACjT,KAJrB;IAAA,IAKImG,UAAU,GAAG8M,QAAQ,CAAC9M,UAL1B;IAMA,IAAIvF,YAAY,GAAGyN,MAAM,CAAClN,KAAP,CAAaP,YAAhC;;IAEA,IAAIiS,SAAS,IAAIK,MAAb,IAAuBtS,YAA3B,EAAyC;MACxC,OAAO,CAAC,GAAG3F,KAAK,CAAC0E,GAAV,EACN9B,mBAAmB,CAACU,OADd,EAEN;QACC4H,UAAU,EAAEA,UADb;QAEC6M,cAAc,EAAE,QAFjB;QAGChT,KAAK,EAAEA,KAHR;QAICyF,WAAW,EAAEA;MAJd,CAFM,EAQNyN,MARM,CAAP;IAUA;;IACD,OAAO,IAAP;EACA,CAtBD;;EAwBA,KAAK9L,WAAL,GAAmB,YAAY;IAC9B,IAAI+L,QAAQ,GAAG9E,MAAM,CAAC7T,KAAtB;IAAA,IACIsY,KAAK,GAAGK,QAAQ,CAACL,KADrB;IAAA,IAEI1L,WAAW,GAAG+L,QAAQ,CAAC/L,WAF3B;IAAA,IAGI3B,WAAW,GAAG0N,QAAQ,CAAC1N,WAH3B;IAAA,IAIIzF,KAAK,GAAGmT,QAAQ,CAACnT,KAJrB;IAAA,IAKI6S,SAAS,GAAGM,QAAQ,CAACN,SALzB;IAAA,IAMI1M,UAAU,GAAGgN,QAAQ,CAAChN,UAN1B;IAOA,IAAIvF,YAAY,GAAGyN,MAAM,CAAClN,KAAP,CAAaP,YAAhC;;IAEA,IAAIkS,KAAK,IAAI1L,WAAT,IAAwBxG,YAAxB,IAAwC,CAACiS,SAA7C,EAAwD;MACvD,OAAO,CAAC,GAAG5X,KAAK,CAAC0E,GAAV,EACN9B,mBAAmB,CAACU,OADd,EAEN;QACC4H,UAAU,EAAEA,UADb;QAEC6M,cAAc,EAAE,OAFjB;QAGChT,KAAK,EAAEA,KAHR;QAICyF,WAAW,EAAEA;MAJd,CAFM,EAQN,CAAC,GAAG7J,OAAO,CAACwX,UAAZ,EAAwBhM,WAAxB,IAAuCA,WAAW,CAAC0L,KAAD,CAAlD,GAA4D1L,WARtD,CAAP;IAUA;;IACD,OAAO,IAAP;EACA,CAvBD;;EAyBA,KAAKE,YAAL,GAAoB,YAAY;IAC/B,IAAI+L,cAAc,GAAGtZ,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8G,SAAzC,GAAqD9G,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAzF;IACA,IAAIuZ,wBAAwB,GAAGvZ,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8G,SAAzC,GAAqD9G,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAnG;IACA,IAAIwZ,QAAQ,GAAGlF,MAAM,CAAC7T,KAAtB;IAAA,IACIsY,KAAK,GAAGS,QAAQ,CAACT,KADrB;IAAA,IAEID,SAAS,GAAGU,QAAQ,CAACV,SAFzB;IAAA,IAGIW,eAAe,GAAGD,QAAQ,CAACC,eAH/B;IAAA,IAIIC,eAAe,GAAGF,QAAQ,CAACE,eAJ/B;IAAA,IAKIC,UAAU,GAAGH,QAAQ,CAACG,UAL1B;IAAA,IAMIC,OAAO,GAAGJ,QAAQ,CAACI,OANvB;IAOA,IAAI/S,YAAY,GAAGyN,MAAM,CAAClN,KAAP,CAAaP,YAAhC;IAEA,IAAIgT,IAAI,GAAG;MACVd,KAAK,EAAEA,KADG;MAEVe,OAAO,EAAEhB,SAFC;MAGVQ,cAAc,EAAEA,cAHN;MAIVO,IAAI,EAAEvF,MAAM,CAACxI,iBAJH;MAKViO,YAAY,EAAEL,eAAe,IAAI,EALvB;MAMVC,UAAU,EAAEA,UAAU,IAAI,EANhB;MAOVC,OAAO,EAAEA,OAPC;MAQVH,eAAe,EAAEA,eAAe,IAAI,EAR1B;MASVlU,KAAK,EAAEsB,YATG;MAUVQ,WAAW,EAAEiN,MAAM,CAAClN,KAAP,CAAaC,WAVhB;MAWV2S,cAAc,EAAE1F,MAAM,CAAC7T,KAAP,CAAa4G,WAAb,IAA4B,EAXlC;MAYVkJ,UAAU,EAAE+D,MAAM,CAAC3D,kBAZT;MAaVsJ,aAAa,EAAE3F,MAAM,CAAC7T,KAAP,CAAa8P,UAblB;MAcV4G,qBAAqB,EAAE7C,MAAM,CAAC6C,qBAdpB;MAeV+C,WAAW,EAAE5F,MAAM,CAAC6F,KAfV;MAgBV;MACAC,gBAAgB,EAAE9F,MAAM,CAACtD,4BAjBf;MAkBVG,kBAAkB,EAAEmD,MAAM,CAACtD,4BAlBjB;MAmBVC,cAAc,EAAEqD,MAAM,CAAC3C;IAnBb,CAAX;;IAqBA,IAAI4H,wBAAJ,EAA8B;MAC7B,OAAO,CAAC,GAAG7V,MAAM,CAAC2W,8BAAX,EAA2C;QACjDf,cAAc,EAAEA,cADiC;QAEjDO,IAAI,EAAEvF,MAAM,CAACtD,4BAFoC;QAGjDzL,KAAK,EAAEsB,YAH0C;QAIjDiT,OAAO,EAAEhB,SAJwC;QAKjDC,KAAK,EAAEA;MAL0C,CAA3C,EAMJzE,MAAM,CAAC7T,KANH,CAAP;IAOA;;IACD,OAAO,CAAC,GAAGoB,OAAO,CAAC0L,YAAZ,EAA0BsM,IAA1B,EAAgCvF,MAAM,CAAC7T,KAAvC,CAAP;EACA,CA3CD;;EA6CA,KAAK0W,qBAAL,GAA6B,UAAUmD,cAAV,EAA0BC,UAA1B,EAAsC;IAClE,IAAIC,KAAK,GAAGD,UAAZ;;IACA,IAAI,CAACC,KAAL,EAAY;MACX,IAAIC,OAAO,GAAGnG,MAAM,CAACxI,iBAAP,CAAyB4O,IAAzB,CAA8B,UAAUC,GAAV,EAAe;QAC1D,OAAOA,GAAG,CAACvD,SAAJ,KAAkBkD,cAAzB;MACA,CAFa,CAAd;;MAGA,IAAIG,OAAO,IAAIA,OAAO,CAACva,MAAnB,IAA6Bua,OAAO,CAACva,MAAR,CAAe0a,GAAhD,EAAqD;QACpDJ,KAAK,GAAGC,OAAO,CAACva,MAAR,CAAe0a,GAAvB;MACA;IACD;;IACDtG,MAAM,CAAC7T,KAAP,CAAaoa,gBAAb,CAA8BP,cAA9B,EAA8CE,KAA9C;EACA,CAXD;;EAaA,KAAKlL,gBAAL,GAAwB,UAAUwL,IAAV,EAAgB;IACvC,IAAIA,IAAJ,EAAU;MACT,OAAO,UAAUpL,CAAV,EAAa;QACnB,OAAOoL,IAAI,CAACpL,CAAD,EAAI,YAAY;UAC1B,OAAO4E,MAAM,CAAC3L,YAAP,CAAoB2L,MAAM,CAAC7T,KAAP,CAAa8E,KAAjC,CAAP;QACA,CAFU,CAAX;MAGA,CAJD;IAKA;;IACD,OAAOuB,SAAP;EACA,CATD;;EAWA,KAAKiU,cAAL,GAAsB,UAAUtE,KAAV,EAAiB;IACtC,IAAIuE,GAAG,GAAGvE,KAAK,CAAC3W,MAAN,IAAgB2W,KAAK,CAACwE,UAAhC;IACA,IAAIC,OAAO,GAAGF,GAAG,CAACE,OAAlB;;IACA,IAAIF,GAAG,CAACG,iBAAJ,IAAyBD,OAAO,KAAK,OAArC,IAAgDA,OAAO,KAAK,QAA5D,IAAwEA,OAAO,KAAK,UAAxF,EAAoG;MACnG;MACA;IACA;;IACD,IAAI5G,MAAM,CAACvF,SAAX,EAAsB;MACrBuF,MAAM,CAACvF,SAAP,CAAiBqM,KAAjB;IACA;EACD,CAVD;;EAYA,KAAKpR,uBAAL,GAA+B,YAAY;IAC1C,IAAIqR,cAAc,GAAG/G,MAAM,CAAC7T,KAAP,CAAa4a,cAAlC;;IAEA,IAAI,CAAC,GAAG3X,MAAM,CAAC4X,OAAX,EAAoBD,cAApB,CAAJ,EAAyC;MACxC;IACA,CALyC,CAO1C;;;IACA,CAAC,GAAGhZ,WAAW,CAACmC,OAAhB,EAAyB,CAAC,GAAGd,MAAM,CAAC6X,mBAAX,EAAgCF,cAAhC,EAAgDG,IAAhD,CAAqD,GAArD,CAAzB;IACA;IACA;IACA,UAAU/E,KAAV,EAAiBgF,OAAjB,EAA0B;MACzB;MACAhF,KAAK,CAACiF,cAAN;;MACApH,MAAM,CAACyG,cAAP,CAAsBtE,KAAtB;IACA,CAPD,EAR0C,CAiB1C;;IACA,CAAC,GAAGpU,WAAW,CAACmC,OAAhB,EAAyB,GAAzB,EAA8B,UAAUiS,KAAV,EAAiB;MAC9C,IAAIkF,YAAY,GAAG,CAAC,GAAGjY,MAAM,CAACkY,qCAAX,EAAkDP,cAAlD,CAAnB;MAEA,IAAIM,YAAY,CAAC1b,MAAb,KAAwB,CAA5B,EAA+B;;MAE/B,KAAK,IAAIyK,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGiR,YAAY,CAAC1b,MAAzC,EAAiDyK,KAAK,IAAI,CAA1D,EAA6D;QAC5D,IAAImR,OAAO,GAAGF,YAAY,CAACjR,KAAD,CAA1B;;QACA,IAAIrI,WAAW,CAACmC,OAAZ,CAAoBqX,OAApB,CAAJ,EAAkC;UACjCvH,MAAM,CAACyG,cAAP,CAAsBtE,KAAtB;;UACA;QACA;MACD;IACD,CAZD;EAaA,CA/BD;AAgCA,CArlBD;;AAulBAnQ,cAAc,CAACwV,SAAf,GAA2B;EAC1B1T,eAAe,EAAEnG,OAAO,CAACuC,OAAR,CAAgBuX,YADP;EAE1B7S,WAAW,EAAEjH,OAAO,CAACuC,OAAR,CAAgBuX,YAFH;EAG1BhG,yBAAyB,EAAE9T,OAAO,CAACuC,OAAR,CAAgBuX,YAHjB;EAI1B3R,uBAAuB,EAAEnI,OAAO,CAACuC,OAAR,CAAgBuX,YAJf;EAK1B1K,yBAAyB,EAAEpP,OAAO,CAACuC,OAAR,CAAgB6C,WALjB;EAM1B2U,OAAO,EAAE/Z,OAAO,CAACuC,OAAR,CAAgBwX,OANC;EAO1BzL,UAAU,EAAEtO,OAAO,CAACuC,OAAR,CAAgBqV,IAPF;EAQ1BD,OAAO,EAAE3X,OAAO,CAACuC,OAAR,CAAgBoV,OARC;EAS1BF,eAAe,EAAEzX,OAAO,CAACuC,OAAR,CAAgByX,IATP;EAU1BtC,UAAU,EAAE1X,OAAO,CAACuC,OAAR,CAAgB0H,KAVF;EAW1BhF,aAAa,EAAEjF,OAAO,CAACuC,OAAR,CAAgB0C,aAXL;EAY1BC,gBAAgB,EAAElF,OAAO,CAACuC,OAAR,CAAgB0C,aAZR;EAa1BG,WAAW,EAAEpF,OAAO,CAACuC,OAAR,CAAgB6C,WAbH;EAc1BoS,eAAe,EAAExX,OAAO,CAACuC,OAAR,CAAgBiV,eAdP;EAe1BX,SAAS,EAAE7W,OAAO,CAACuC,OAAR,CAAgB0O,IAfD;EAgB1BvI,aAAa,EAAE1I,OAAO,CAACuC,OAAR,CAAgB0O,IAhBL;EAiB1B2H,gBAAgB,EAAE5Y,OAAO,CAACuC,OAAR,CAAgBuX,YAjBR;EAkB1BG,cAAc,EAAEja,OAAO,CAACuC,OAAR,CAAgBuX,YAlBN;EAmB1BI,eAAe,EAAEla,OAAO,CAACuC,OAAR,CAAgBuX,YAnBP;EAoB1BK,IAAI,EAAEna,OAAO,CAACuC,OAAR,CAAgB6X,MApBI;EAqB1BnU,yBAAyB,EAAEjG,OAAO,CAACuC,OAAR,CAAgBuX,YArBjB;EAsB1BzR,mBAAmB,EAAErI,OAAO,CAACuC,OAAR,CAAgBuX,YAtBX;EAuB1B9K,cAAc,EAAEhP,OAAO,CAACuC,OAAR,CAAgB6C,WAvBN;EAwB1B;EACA0R,KAAK,EAAE9W,OAAO,CAACuC,OAAR,CAAgB8X,GAzBG;EA0B1B;EACAxM,SAAS,EAAE7N,OAAO,CAACuC,OAAR,CAAgB0O,IA3BD;EA4B1B7G,WAAW,EAAEpK,OAAO,CAACuC,OAAR,CAAgB0O,IA5BH;EA6B1BqJ,cAAc,EAAEta,OAAO,CAACuC,OAAR,CAAgB0O,IA7BN;EA8B1BhJ,sBAAsB,EAAEjI,OAAO,CAACuC,OAAR,CAAgB0O,IA9Bd;EA+B1B1I,aAAa,EAAEvI,OAAO,CAACuC,OAAR,CAAgBgY,MA/BL;EAgC1B/R,mBAAmB,EAAExI,OAAO,CAACuC,OAAR,CAAgBiY,eAhCX;EAiC1B/R,KAAK,EAAEzI,OAAO,CAACuC,OAAR,CAAgBgY,MAjCG;EAkC1B;EACAzL,wBAAwB,EAAE9O,OAAO,CAACuC,OAAR,CAAgB0O,IAnChB;EAoC1B7I,oBAAoB,EAAEpI,OAAO,CAACuC,OAAR,CAAgB0O,IApCZ;EAqC1BL,WAAW,EAAE5Q,OAAO,CAACuC,OAAR,CAAgB0O,IArCH;EAsC1BwC,iBAAiB,EAAEzT,OAAO,CAACuC,OAAR,CAAgBsW,IAtCT;EAuC1BxH,aAAa,EAAErR,OAAO,CAACuC,OAAR,CAAgBgY,MAvCL;EAwC1B3W,SAAS,EAAE5D,OAAO,CAACuC,OAAR,CAAgBgY,MAxCD;EAyC1BpE,SAAS,EAAEnW,OAAO,CAACuC,OAAR,CAAgB6B,QAzCD;EA0C1BqB,WAAW,EAAEzF,OAAO,CAACuC,OAAR,CAAgBkY,cA1CH;EA2C1BzU,eAAe,EAAEhG,OAAO,CAACuC,OAAR,CAAgBsW,IA3CP;EA4C1B3E,WAAW,EAAElU,OAAO,CAACuC,OAAR,CAAgBsW,IA5CH;EA6C1BpI,YAAY,EAAEzQ,OAAO,CAACuC,OAAR,CAAgBsW,IA7CJ;EA8C1B3I,SAAS,EAAElQ,OAAO,CAACuC,OAAR,CAAgBmY,kBA9CD;EA+C1BpS,gBAAgB,EAAEtI,OAAO,CAACuC,OAAR,CAAgBgY,MA/CR;EAgD1BI,eAAe,EAAE3a,OAAO,CAACuC,OAAR,CAAgB6X,MAhDP;EAiD1BlU,IAAI,EAAElG,OAAO,CAACuC,OAAR,CAAgB6X,MAjDI;EAkD1B1G,QAAQ,EAAE1T,OAAO,CAACuC,OAAR,CAAgB6X,MAlDA;EAmD1B3V,YAAY,EAAEzE,OAAO,CAACuC,OAAR,CAAgBqY,mBAnDJ;EAoD1BtX,KAAK,EAAEtD,OAAO,CAACuC,OAAR,CAAgBqY,mBApDG;EAqD1B5Q,kBAAkB,EAAEhK,OAAO,CAACuC,OAAR,CAAgB6C,WArDV;EAsD1B+I,cAAc,EAAEnO,OAAO,CAACuC,OAAR,CAAgB/D,KAtDN;EAuD1Bqc,aAAa,EAAE7a,OAAO,CAACuC,OAAR,CAAgBsY,aAvDL;EAwD1BlK,YAAY,EAAE3Q,OAAO,CAACuC,OAAR,CAAgBoO,YAxDJ;EAyD1BwD,WAAW,EAAEnU,OAAO,CAACuC,OAAR,CAAgBgY,MAzDH;EA0D1BnI,SAAS,EAAEpS,OAAO,CAACuC,OAAR,CAAgB6P,SA1DD;EA2D1BtM,SAAS,EAAE9F,OAAO,CAACuC,OAAR,CAAgB0O,IA3DD;EA4D1Bb,cAAc,EAAEpQ,OAAO,CAACuC,OAAR,CAAgBuY,aA5DN;EA6D1B1O,IAAI,EAAEpM,OAAO,CAACuC,OAAR,CAAgB6B,QA7DI;EA8D1B6I,YAAY,EAAEjN,OAAO,CAACuC,OAAR,CAAgB0K,YA9DJ;EA+D1B8N,aAAa,EAAE/a,OAAO,CAACuC,OAAR,CAAgBwY,aA/DL;EAgE1B5Q,UAAU,EAAEnK,OAAO,CAACuC,OAAR,CAAgBsB,KAhEF;EAiE1BqT,MAAM,EAAElX,OAAO,CAACuC,OAAR,CAAgB0H,KAjEE;EAkE1BqH,WAAW,EAAEtR,OAAO,CAACuC,OAAR,CAAgBgY,MAlEH;EAmE1BS,OAAO,EAAEhb,OAAO,CAACuC,OAAR,CAAgBsW,IAnEC;EAoE1BzL,MAAM,EAAEpN,OAAO,CAACuC,OAAR,CAAgBsW,IApEE;EAqE1BvL,OAAO,EAAEtN,OAAO,CAACuC,OAAR,CAAgBsW,IArEC;EAsE1B7P,SAAS,EAAEhJ,OAAO,CAACuC,OAAR,CAAgBsW,IAtED;EAuE1BrL,UAAU,EAAExN,OAAO,CAACuC,OAAR,CAAgBsW,IAvEF;EAwE1BlL,OAAO,EAAE3N,OAAO,CAACuC,OAAR,CAAgBsW,IAxEC;EAyE1BoC,aAAa,EAAEjb,OAAO,CAACuC,OAAR,CAAgBsW,IAzEL;EA0E1BxR,aAAa,EAAErH,OAAO,CAACuC,OAAR,CAAgBsW,IA1EL;EA2E1BtF,aAAa,EAAEvT,OAAO,CAACuC,OAAR,CAAgBsW,IA3EL;EA4E1BpS,QAAQ,EAAEzG,OAAO,CAACuC,OAAR,CAAgBsW,IA5EA;EA6E1BnR,eAAe,EAAE1H,OAAO,CAACuC,OAAR,CAAgBsW,IA7EP;EA8E1B3L,WAAW,EAAElN,OAAO,CAACuC,OAAR,CAAgBgY,MA9EH;EA+E1BtI,WAAW,EAAEjS,OAAO,CAACuC,OAAR,CAAgB2Y,iBA/EH;EAgF1BhM,kBAAkB,EAAElP,OAAO,CAACuC,OAAR,CAAgByX,IAhFV;EAiF1BmB,KAAK,EAAEnb,OAAO,CAACuC,OAAR,CAAgB4Y,KAjFG;EAkF1B/P,WAAW,EAAEpL,OAAO,CAACuC,OAAR,CAAgB0H,KAlFH;EAmF1BmR,eAAe,EAAEpb,OAAO,CAACuC,OAAR,CAAgBiY,eAnFP;EAoF1B;EACAtS,sBAAsB,EAAElI,OAAO,CAACuC,OAAR,CAAgBsW,IArFd;EAsF1BwC,wBAAwB,EAAErb,OAAO,CAACuC,OAAR,CAAgBsW,IAtFhB;EAuF1ByC,eAAe,EAAEtb,OAAO,CAACuC,OAAR,CAAgBsW,IAvFP;EAwF1BrM,kBAAkB,EAAExM,OAAO,CAACuC,OAAR,CAAgB0H,KAxFV;EAyF1B8C,SAAS,EAAE/M,OAAO,CAACuC,OAAR,CAAgB0O,IAzFD;EA0F1BmD,UAAU,EAAEpU,OAAO,CAACuC,OAAR,CAAgB0O,IA1FF;EA2F1B/H,eAAe,EAAElJ,OAAO,CAACuC,OAAR,CAAgB0O,IA3FP;EA4F1B9B,uBAAuB,EAAEnP,OAAO,CAACuC,OAAR,CAAgB0O,IA5Ff;EA6F1BjE,QAAQ,EAAEhN,OAAO,CAACuC,OAAR,CAAgB0O,IA7FA;EA8F1BpN,KAAK,EAAE7D,OAAO,CAACuC,OAAR,CAAgBsB,KA9FG;EA+F1BoG,KAAK,EAAEjK,OAAO,CAACuC,OAAR,CAAgB0H,KA/FG;EAgG1BjG,KAAK,EAAEhE,OAAO,CAACuC,OAAR,CAAgBsB,KAhGG;EAiG1B4F,WAAW,EAAEzJ,OAAO,CAACuC,OAAR,CAAgBkH,WAjGH;EAkG1B4K,SAAS,EAAErU,OAAO,CAACuC,OAAR,CAAgB0O,IAlGD;EAmG1BmC,eAAe,EAAEpT,OAAO,CAACuC,OAAR,CAAgB0O,IAnGP;EAoG1BF,eAAe,EAAE/Q,OAAO,CAACuC,OAAR,CAAgB0O,IApGP;EAqG1BvH,kBAAkB,EAAE1J,OAAO,CAACuC,OAAR,CAAgBiY,eArGV;EAsG1B7Q,mBAAmB,EAAE3J,OAAO,CAACuC,OAAR,CAAgBiY,eAtGX;EAuG1B;EACAlE,cAAc,EAAEtW,OAAO,CAACuC,OAAR,CAAgBsW,IAxGN;EAyG1BxC,SAAS,EAAErW,OAAO,CAACuC,OAAR,CAAgBsW,IAzGD;EA0G1B0C,2BAA2B,EAAEvb,OAAO,CAACuC,OAAR,CAAgB0O,IA1GnB;EA2G1B;EACAmI,cAAc,EAAEpZ,OAAO,CAACuC,OAAR,CAAgB6W,cA5GN;EA6G1BrD,WAAW,EAAE/V,OAAO,CAACuC,OAAR,CAAgB6B,QA7GH;EA8G1B4R,UAAU,EAAEhW,OAAO,CAACuC,OAAR,CAAgB6B,QA9GF;EA+G1B2J,0BAA0B,EAAE/N,OAAO,CAACuC,OAAR,CAAgB0O,IA/GlB;EAgH1BuK,QAAQ,EAAExb,OAAO,CAACuC,OAAR,CAAgBiZ;AAhHA,CAA3B;AAmHAnX,cAAc,CAACoX,YAAf,GAA8B;EAC7BrR,WAAW,EAAE,IADgB;EAE7BxG,SAAS,EAAE,IAFkB;EAG7B8P,QAAQ,EAAE,CAHmB;EAI7BvF,cAAc,EAAE,EAJa;EAK7BmM,cAAc,EAAE,IALa;EAM7BxL,wBAAwB,EAAE,KANG;EAO7B+L,aAAa,EAAE,EAPc;EAQ7B5N,YAAY,EAAE,MARe;EAS7B8N,aAAa,EAAE,CAAC,GAAD,CATc;EAU7B7N,WAAW,EAAE,QAVgB;EAW7B+E,WAAW,EAAE,IAXgB;EAY7BlF,SAAS,EAAE,KAZkB;EAa7BqH,UAAU,EAAE,IAbiB;EAc7BpH,QAAQ,EAAE,IAdmB;EAe7BnJ,KAAK,EAAE,EAfsB;EAgB7BwQ,SAAS,EAAE,KAhBkB;EAiB7BjB,eAAe,EAAE,KAjBY;EAkB7BrC,eAAe,EAAE,KAlBY;EAmB7B7H,eAAe,EAAE,KAnBY;EAoB7BiG,uBAAuB,EAAE,IApBI;EAqB7BjJ,IAAI,EAAE,EArBuB;EAsB7BkJ,yBAAyB,EAAE,EAtBE;EAuB7BJ,cAAc,EAAE,EAvBa;EAwB7BmL,IAAI,EAAE,CAxBuB;EAyB7BoB,2BAA2B,EAAE,KAzBA;EA0B7B1N,SAAS,EAAE,KA1BkB;EA2B7BuL,cAAc,EAAE,CAAC,GAAD,CA3Ba;EA4B7BrD,WAAW,EAAElR,SA5BgB;EA6B7BmR,UAAU,EAAEnR,SA7BiB;EA8B7BkJ,0BAA0B,EAAE;AA9BC,CAA9B,C,CAiCA;;AACA1J,cAAc,CAAC0P,aAAf,GAA+BlU,UAAU,CAACmU,cAAX,CAA0BC,cAAzD;;AAEA,IAAIyH,eAAe,GAAG,SAASA,eAAT,CAAyBvW,KAAzB,EAAgC3G,KAAhC,EAAuC;EAC5D,OAAO;IACN8P,UAAU,EAAEnJ,KAAK,CAACwW,YAAN,CAAmBnd,KAAK,CAACiH,WAAzB,KAAyCN,KAAK,CAACwW,YAAN,CAAmBnd,KAAK,CAACiH,WAAzB,EAAsCjH,KAAK,CAAC6S,aAA5C,CAAzC,IAAuGlM,KAAK,CAACwW,YAAN,CAAmBnd,KAAK,CAACiH,WAAzB,EAAsCjH,KAAK,CAAC6S,aAA5C,EAA2DuK,OAAlK,IAA6K,EADnL;IAENjE,OAAO,EAAExS,KAAK,CAACwS,OAAN,CAAcnZ,KAAK,CAACiH,WAApB,CAFH;IAGNR,aAAa,EAAEE,KAAK,CAAC0W,cAAN,CAAqBrd,KAAK,CAACiH,WAA3B,KAA2CN,KAAK,CAAC0W,cAAN,CAAqBrd,KAAK,CAACiH,WAA3B,EAAwCnC,KAAnF,IAA4F,IAHrG;IAIN4B,gBAAgB,EAAEC,KAAK,CAAC0W,cAAN,CAAqBrd,KAAK,CAACiH,WAA3B,KAA2CN,KAAK,CAAC0W,cAAN,CAAqBrd,KAAK,CAACiH,WAA3B,EAAwCV,QAAnF,IAA+F,IAJ3G;IAKNK,WAAW,EAAED,KAAK,CAAC6U,IAAN,CAAWxb,KAAK,CAACiH,WAAjB,KAAiCN,KAAK,CAAC6U,IAAN,CAAWxb,KAAK,CAACiH,WAAjB,EAA8BuU,IAA/D,IAAuE,EAL9E;IAMNxC,eAAe,EAAErS,KAAK,CAAC2W,qBAAN,CAA4Btd,KAAK,CAACiH,WAAlC,KAAkD,EAN7D;IAONgE,WAAW,EAAEtE,KAAK,CAAC4W,MAAN,CAAatS,WAPpB;IAQNoN,SAAS,EAAE,CAAC,CAAC1R,KAAK,CAAC0R,SAAN,CAAgBrY,KAAK,CAACiH,WAAN,GAAoB,SAApC,CARP;IASNqR,KAAK,EAAE3R,KAAK,CAAC2R,KAAN,CAAYtY,KAAK,CAACiH,WAAlB,CATD;IAUNiD,aAAa,EAAEvD,KAAK,CAAC4W,MAAN,CAAarT,aAVtB;IAWN+O,eAAe,EAAEtS,KAAK,CAACsS,eAAN,CAAsBjZ,KAAK,CAACiH,WAA5B,CAXX;IAYNiS,UAAU,EAAEvS,KAAK,CAACuS,UAAN,CAAiBlZ,KAAK,CAACiH,WAAvB,CAZN;IAaN0U,IAAI,EAAEhV,KAAK,CAAC6U,IAAN,CAAWxb,KAAK,CAACiH,WAAjB,KAAiCN,KAAK,CAAC6U,IAAN,CAAWxb,KAAK,CAACiH,WAAjB,EAA8B0U,IAb/D;IAcN6B,KAAK,EAAE7W,KAAK,CAAC6U,IAAN,CAAWxb,KAAK,CAACiH,WAAjB,KAAiCN,KAAK,CAAC6U,IAAN,CAAWxb,KAAK,CAACiH,WAAjB,EAA8BuW,KAdhE;IAeNC,MAAM,EAAE9W,KAAK,CAAC6U,IAAN,CAAWxb,KAAK,CAACiH,WAAjB,KAAiCN,KAAK,CAAC6U,IAAN,CAAWxb,KAAK,CAACiH,WAAjB,EAA8BwW,MAfjE;IAgBN7M,yBAAyB,EAAEjK,KAAK,CAACiK,yBAAN,CAAgC5Q,KAAK,CAACiH,WAAtC,CAhBrB;IAiBNyJ,kBAAkB,EAAE/J,KAAK,CAACgT,gBAAN,CAAuB3Z,KAAK,CAACiH,WAA7B,CAjBd;IAkBNuJ,cAAc,EAAE7J,KAAK,CAAC6J,cAAN,CAAqB4I;EAlB/B,CAAP;AAoBA,CArBD;;AAuBA,IAAIsE,kBAAkB,GAAG,SAASA,kBAAT,CAA4BC,QAA5B,EAAsC;EAC9D,OAAO;IACNlW,yBAAyB,EAAE,SAASA,yBAAT,CAAmCmW,SAAnC,EAA8CrC,OAA9C,EAAuD;MACjF,OAAOoC,QAAQ,CAAC,CAAC,GAAGxc,QAAQ,CAACsG,yBAAb,EAAwCmW,SAAxC,EAAmDrC,OAAnD,CAAD,CAAf;IACA,CAHK;IAINE,cAAc,EAAE,SAASA,cAAT,CAAwBmC,SAAxB,EAAmC3K,KAAnC,EAA0C;MACzD,OAAO0K,QAAQ,CAAC,CAAC,GAAGxc,QAAQ,CAACsa,cAAb,EAA6BmC,SAA7B,EAAwC3K,KAAxC,CAAD,CAAf;IACA,CANK;IAONyI,eAAe,EAAE,SAASA,eAAT,CAAyBkC,SAAzB,EAAoC3K,KAApC,EAA2C;MAC3D,OAAO0K,QAAQ,CAAC,CAAC,GAAGxc,QAAQ,CAACua,eAAb,EAA8BkC,SAA9B,EAAyC3K,KAAzC,CAAD,CAAf;IACA,CATK;IAUNqC,yBAAyB,EAAE,SAASA,yBAAT,CAAmCxQ,KAAnC,EAA0C;MACpE,OAAO6Y,QAAQ,CAAC,CAAC,GAAGxc,QAAQ,CAACmU,yBAAb,EAAwCxQ,KAAxC,CAAD,CAAf;IACA,CAZK;IAaN6C,eAAe,EAAE,SAASA,eAAT,GAA2B;MAC3C,OAAOgW,QAAQ,CAACxc,QAAQ,CAACwG,eAAT,CAAyB6H,KAAzB,CAA+BnJ,SAA/B,EAA0C9G,SAA1C,CAAD,CAAf;IACA,CAfK;IAgBNkJ,WAAW,EAAE,SAASA,WAAT,CAAqBoV,iBAArB,EAAwC;MACpD,OAAOF,QAAQ,CAAC,CAAC,GAAGxc,QAAQ,CAACsH,WAAb,EAA0BoV,iBAA1B,CAAD,CAAf;IACA,CAlBK;IAmBNzD,gBAAgB,EAAE,SAASA,gBAAT,CAA0BP,cAA1B,EAA0CC,UAA1C,EAAsD;MACvE,OAAO6D,QAAQ,CAAC,CAAC,GAAGxc,QAAQ,CAAC2c,qBAAb,EAAoCjE,cAApC,EAAoDC,UAApD,CAAD,CAAf;IACA,CArBK;IAsBNnQ,uBAAuB,EAAE,SAASA,uBAAT,CAAiCiU,SAAjC,EAA4C;MACpE,OAAOD,QAAQ,CAAC,CAAC,GAAGxc,QAAQ,CAAC4c,sBAAb,EAAqCH,SAArC,CAAD,CAAf;IACA,CAxBK;IAyBN/T,mBAAmB,EAAE,SAASA,mBAAT,CAA6B3C,YAA7B,EAA2C;MAC/D,OAAOyW,QAAQ,CAAC,CAAC,GAAGxc,QAAQ,CAAC6c,iBAAb,EAAgC9W,YAAhC,CAAD,CAAf;IACA;EA3BK,CAAP;AA6BA,CA9BD;;AAgCA,IAAI+W,kBAAkB,GAAG,CAAC,GAAGhb,MAAM,CAACib,OAAX,EAAoBhB,eAApB,EAAqCQ,kBAArC,EAAyD,CAAC,GAAG1c,eAAe,CAACkE,SAApB,EAA+B,UAAUlF,KAAV,EAAiB;EACjI,OAAO,CAAC,GAAGS,KAAK,CAAC0E,GAAV,EAAeU,cAAf,EAA+B3G,QAAQ,CAAC;IAAEkP,GAAG,EAAEpO,KAAK,CAACme;EAAb,CAAD,EAAgCne,KAAhC,CAAvC,CAAP;AACA,CAFiF,CAAzD,CAAzB,C,CAIA;;AACA,IAAIoe,mBAAmB,GAAGxd,OAAO,CAACmD,OAAR,CAAgBsa,UAAhB,CAA2B,UAAUre,KAAV,EAAiBoO,GAAjB,EAAsB;EAC1E,OAAO,CAAC,GAAG3N,KAAK,CAAC0E,GAAV,EACN5B,qBAAqB,CAACQ,OADhB,EAEN;IAAEua,SAAS,EAAEte;EAAb,CAFM,EAGN,UAAUue,eAAV,EAA2B;IAC1B,OAAO,CAAC,GAAG9d,KAAK,CAAC0E,GAAV,EACN1B,kBAAkB,CAACM,OADb,EAEN7E,QAAQ,CAAC,EAAD,EAAKqf,eAAL,EAAsB;MAC7BxX,iBAAiB,EAAE,IADU;MAE7BwO,aAAa,EAAElU,UAAU,CAACmU,cAAX,CAA0BC;IAFZ,CAAtB,CAFF,EAMN,UAAU+I,cAAV,EAA0B;MACzB,OAAO,CAAC,GAAG/d,KAAK,CAAC0E,GAAV,EAAe8Y,kBAAf,EAAmC/e,QAAQ,CAAC,EAAD,EAAKqf,eAAL,EAAsBC,cAAtB,EAAsC;QACvFL,cAAc,EAAE/P;MADuE,CAAtC,CAA3C,CAAP;IAGA,CAVK,CAAP;EAYA,CAhBK,CAAP;AAkBA,CAnByB,CAA1B;;AAoBA,CAAC,GAAGlN,sBAAsB,CAAC6C,OAA3B,EAAoCqa,mBAApC,EAAyDvY,cAAzD;AAEAuY,mBAAmB,CAACK,WAApB,GAAkC,gBAAlC;AACAzf,OAAO,CAAC+E,OAAR,GAAkBqa,mBAAlB"},"metadata":{},"sourceType":"script"}